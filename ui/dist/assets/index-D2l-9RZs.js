function _3(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();function gi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gv={exports:{}},Wu={};var PA;function BU(){if(PA)return Wu;PA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Wu.Fragment=e,Wu.jsx=n,Wu.jsxs=n,Wu}var RA;function zU(){return RA||(RA=1,gv.exports=BU()),gv.exports}var m=zU(),yv={exports:{}},Re={};var LA;function IU(){if(LA)return Re;LA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function N(M,$,te){this.props=M,this.context=$,this.refs=S,this.updater=te||b}N.prototype.isReactComponent={},N.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=N.prototype;function C(M,$,te){this.props=M,this.context=$,this.refs=S,this.updater=te||b}var _=C.prototype=new O;_.constructor=C,j(_,N.prototype),_.isPureReactComponent=!0;var P=Array.isArray;function D(){}var T={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function I(M,$,te){var K=te.ref;return{$$typeof:t,type:M,key:$,ref:K!==void 0?K:null,props:te}}function q(M,$){return I(M.type,$,M.props)}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function z(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return $[te]})}var H=/\/+/g;function X(M,$){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):$.toString(36)}function W(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,$,te,K,ue){var Q=typeof M;(Q==="undefined"||Q==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(Q){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case t:case e:me=!0;break;case h:return me=M._init,V(me(M._payload),$,te,K,ue)}}if(me)return ue=ue(M),me=K===""?"."+X(M,0):K,P(ue)?(te="",me!=null&&(te=me.replace(H,"$&/")+"/"),V(ue,$,te,"",function(je){return je})):ue!=null&&(U(ue)&&(ue=q(ue,te+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(H,"$&/")+"/")+me)),$.push(ue)),1;me=0;var Ce=K===""?".":K+":";if(P(M))for(var re=0;re<M.length;re++)K=M[re],Q=Ce+X(K,re),me+=V(K,$,te,Q,ue);else if(re=x(M),typeof re=="function")for(M=re.call(M),re=0;!(K=M.next()).done;)K=K.value,Q=Ce+X(K,re++),me+=V(K,$,te,Q,ue);else if(Q==="object"){if(typeof M.then=="function")return V(W(M),$,te,K,ue);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(M,$,te){if(M==null)return M;var K=[],ue=0;return V(M,K,"","",function(Q){return $.call(te,Q,ue++)}),K}function J(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ge={map:Y,forEach:function(M,$,te){Y(M,function(){$.apply(this,arguments)},te)},count:function(M){var $=0;return Y(M,function(){$++}),$},toArray:function(M){return Y(M,function($){return $})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Re.Activity=p,Re.Children=ge,Re.Component=N,Re.Fragment=n,Re.Profiler=i,Re.PureComponent=C,Re.StrictMode=r,Re.Suspense=u,Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Re.__COMPILER_RUNTIME={__proto__:null,c:function(M){return T.H.useMemoCache(M)}},Re.cache=function(M){return function(){return M.apply(null,arguments)}},Re.cacheSignal=function(){return null},Re.cloneElement=function(M,$,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var K=j({},M.props),ue=M.key;if($!=null)for(Q in $.key!==void 0&&(ue=""+$.key),$)!L.call($,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&$.ref===void 0||(K[Q]=$[Q]);var Q=arguments.length-2;if(Q===1)K.children=te;else if(1<Q){for(var me=Array(Q),Ce=0;Ce<Q;Ce++)me[Ce]=arguments[Ce+2];K.children=me}return I(M.type,ue,K)},Re.createContext=function(M){return M={$$typeof:s,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},Re.createElement=function(M,$,te){var K,ue={},Q=null;if($!=null)for(K in $.key!==void 0&&(Q=""+$.key),$)L.call($,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=$[K]);var me=arguments.length-2;if(me===1)ue.children=te;else if(1<me){for(var Ce=Array(me),re=0;re<me;re++)Ce[re]=arguments[re+2];ue.children=Ce}if(M&&M.defaultProps)for(K in me=M.defaultProps,me)ue[K]===void 0&&(ue[K]=me[K]);return I(M,Q,ue)},Re.createRef=function(){return{current:null}},Re.forwardRef=function(M){return{$$typeof:o,render:M}},Re.isValidElement=U,Re.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:J}},Re.memo=function(M,$){return{$$typeof:f,type:M,compare:$===void 0?null:$}},Re.startTransition=function(M){var $=T.T,te={};T.T=te;try{var K=M(),ue=T.S;ue!==null&&ue(te,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(D,oe)}catch(Q){oe(Q)}finally{$!==null&&te.types!==null&&($.types=te.types),T.T=$}},Re.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Re.use=function(M){return T.H.use(M)},Re.useActionState=function(M,$,te){return T.H.useActionState(M,$,te)},Re.useCallback=function(M,$){return T.H.useCallback(M,$)},Re.useContext=function(M){return T.H.useContext(M)},Re.useDebugValue=function(){},Re.useDeferredValue=function(M,$){return T.H.useDeferredValue(M,$)},Re.useEffect=function(M,$){return T.H.useEffect(M,$)},Re.useEffectEvent=function(M){return T.H.useEffectEvent(M)},Re.useId=function(){return T.H.useId()},Re.useImperativeHandle=function(M,$,te){return T.H.useImperativeHandle(M,$,te)},Re.useInsertionEffect=function(M,$){return T.H.useInsertionEffect(M,$)},Re.useLayoutEffect=function(M,$){return T.H.useLayoutEffect(M,$)},Re.useMemo=function(M,$){return T.H.useMemo(M,$)},Re.useOptimistic=function(M,$){return T.H.useOptimistic(M,$)},Re.useReducer=function(M,$,te){return T.H.useReducer(M,$,te)},Re.useRef=function(M){return T.H.useRef(M)},Re.useState=function(M){return T.H.useState(M)},Re.useSyncExternalStore=function(M,$,te){return T.H.useSyncExternalStore(M,$,te)},Re.useTransition=function(){return T.H.useTransition()},Re.version="19.2.4",Re}var BA;function UU(){return BA||(BA=1,yv.exports=IU()),yv.exports}var R=UU();const rj=gi(R),$U=_3({__proto__:null,default:rj},[R]);var xv={exports:{}},Gu={},vv={exports:{}},bv={};var zA;function qU(){return zA||(zA=1,(function(t){function e(V,Y){var J=V.length;V.push(Y);e:for(;0<J;){var oe=J-1>>>1,ge=V[oe];if(0<i(ge,Y))V[oe]=Y,V[J]=ge,J=oe;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var Y=V[0],J=V.pop();if(J!==Y){V[0]=J;e:for(var oe=0,ge=V.length,M=ge>>>1;oe<M;){var $=2*(oe+1)-1,te=V[$],K=$+1,ue=V[K];if(0>i(te,J))K<ge&&0>i(ue,te)?(V[oe]=ue,V[K]=J,oe=K):(V[oe]=te,V[$]=J,oe=$);else if(K<ge&&0>i(ue,J))V[oe]=ue,V[K]=J,oe=K;else break e}}return Y}function i(V,Y){var J=V.sortIndex-Y.sortIndex;return J!==0?J:V.id-Y.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var u=[],f=[],h=1,p=null,y=3,x=!1,b=!1,j=!1,S=!1,N=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function _(V){for(var Y=n(f);Y!==null;){if(Y.callback===null)r(f);else if(Y.startTime<=V)r(f),Y.sortIndex=Y.expirationTime,e(u,Y);else break;Y=n(f)}}function P(V){if(j=!1,_(V),!b)if(n(u)!==null)b=!0,D||(D=!0,z());else{var Y=n(f);Y!==null&&W(P,Y.startTime-V)}}var D=!1,T=-1,L=5,I=-1;function q(){return S?!0:!(t.unstable_now()-I<L)}function U(){if(S=!1,D){var V=t.unstable_now();I=V;var Y=!0;try{e:{b=!1,j&&(j=!1,O(T),T=-1),x=!0;var J=y;try{t:{for(_(V),p=n(u);p!==null&&!(p.expirationTime>V&&q());){var oe=p.callback;if(typeof oe=="function"){p.callback=null,y=p.priorityLevel;var ge=oe(p.expirationTime<=V);if(V=t.unstable_now(),typeof ge=="function"){p.callback=ge,_(V),Y=!0;break t}p===n(u)&&r(u),_(V)}else r(u);p=n(u)}if(p!==null)Y=!0;else{var M=n(f);M!==null&&W(P,M.startTime-V),Y=!1}}break e}finally{p=null,y=J,x=!1}Y=void 0}}finally{Y?z():D=!1}}}var z;if(typeof C=="function")z=function(){C(U)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,X=H.port2;H.port1.onmessage=U,z=function(){X.postMessage(null)}}else z=function(){N(U,0)};function W(V,Y){T=N(function(){V(t.unstable_now())},Y)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(V){switch(y){case 1:case 2:case 3:var Y=3;break;default:Y=y}var J=y;y=Y;try{return V()}finally{y=J}},t.unstable_requestPaint=function(){S=!0},t.unstable_runWithPriority=function(V,Y){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var J=y;y=V;try{return Y()}finally{y=J}},t.unstable_scheduleCallback=function(V,Y,J){var oe=t.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?oe+J:oe):J=oe,V){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=J+ge,V={id:h++,callback:Y,priorityLevel:V,startTime:J,expirationTime:ge,sortIndex:-1},J>oe?(V.sortIndex=J,e(f,V),n(u)===null&&V===n(f)&&(j?(O(T),T=-1):j=!0,W(P,J-oe))):(V.sortIndex=ge,e(u,V),b||x||(b=!0,D||(D=!0,z()))),V},t.unstable_shouldYield=q,t.unstable_wrapCallback=function(V){var Y=y;return function(){var J=y;y=Y;try{return V.apply(this,arguments)}finally{y=J}}}})(bv)),bv}var IA;function HU(){return IA||(IA=1,vv.exports=qU()),vv.exports}var wv={exports:{}},Le={};var UA;function VU(){if(UA)return Le;UA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.for("react.activity"),y=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,S={};function N(M,$,te){this.props=M,this.context=$,this.refs=S,this.updater=te||b}N.prototype.isReactComponent={},N.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},N.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function O(){}O.prototype=N.prototype;function C(M,$,te){this.props=M,this.context=$,this.refs=S,this.updater=te||b}var _=C.prototype=new O;_.constructor=C,j(_,N.prototype),_.isPureReactComponent=!0;var P=Array.isArray;function D(){}var T={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function I(M,$,te){var K=te.ref;return{$$typeof:t,type:M,key:$,ref:K!==void 0?K:null,props:te}}function q(M,$){return I(M.type,$,M.props)}function U(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function z(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(te){return $[te]})}var H=/\/+/g;function X(M,$){return typeof M=="object"&&M!==null&&M.key!=null?z(""+M.key):$.toString(36)}function W(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(D,D):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function V(M,$,te,K,ue){var Q=typeof M;(Q==="undefined"||Q==="boolean")&&(M=null);var me=!1;if(M===null)me=!0;else switch(Q){case"bigint":case"string":case"number":me=!0;break;case"object":switch(M.$$typeof){case t:case e:me=!0;break;case h:return me=M._init,V(me(M._payload),$,te,K,ue)}}if(me)return ue=ue(M),me=K===""?"."+X(M,0):K,P(ue)?(te="",me!=null&&(te=me.replace(H,"$&/")+"/"),V(ue,$,te,"",function(je){return je})):ue!=null&&(U(ue)&&(ue=q(ue,te+(ue.key==null||M&&M.key===ue.key?"":(""+ue.key).replace(H,"$&/")+"/")+me)),$.push(ue)),1;me=0;var Ce=K===""?".":K+":";if(P(M))for(var re=0;re<M.length;re++)K=M[re],Q=Ce+X(K,re),me+=V(K,$,te,Q,ue);else if(re=x(M),typeof re=="function")for(M=re.call(M),re=0;!(K=M.next()).done;)K=K.value,Q=Ce+X(K,re++),me+=V(K,$,te,Q,ue);else if(Q==="object"){if(typeof M.then=="function")return V(W(M),$,te,K,ue);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return me}function Y(M,$,te){if(M==null)return M;var K=[],ue=0;return V(M,K,"","",function(Q){return $.call(te,Q,ue++)}),K}function J(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(te){(M._status===0||M._status===-1)&&(M._status=1,M._result=te)},function(te){(M._status===0||M._status===-1)&&(M._status=2,M._result=te)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var oe=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ge={map:Y,forEach:function(M,$,te){Y(M,function(){$.apply(this,arguments)},te)},count:function(M){var $=0;return Y(M,function(){$++}),$},toArray:function(M){return Y(M,function($){return $})||[]},only:function(M){if(!U(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Le.Activity=p,Le.Children=ge,Le.Component=N,Le.Fragment=n,Le.Profiler=i,Le.PureComponent=C,Le.StrictMode=r,Le.Suspense=u,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,Le.__COMPILER_RUNTIME={__proto__:null,c:function(M){return T.H.useMemoCache(M)}},Le.cache=function(M){return function(){return M.apply(null,arguments)}},Le.cacheSignal=function(){return null},Le.cloneElement=function(M,$,te){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var K=j({},M.props),ue=M.key;if($!=null)for(Q in $.key!==void 0&&(ue=""+$.key),$)!L.call($,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&$.ref===void 0||(K[Q]=$[Q]);var Q=arguments.length-2;if(Q===1)K.children=te;else if(1<Q){for(var me=Array(Q),Ce=0;Ce<Q;Ce++)me[Ce]=arguments[Ce+2];K.children=me}return I(M.type,ue,K)},Le.createContext=function(M){return M={$$typeof:s,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:a,_context:M},M},Le.createElement=function(M,$,te){var K,ue={},Q=null;if($!=null)for(K in $.key!==void 0&&(Q=""+$.key),$)L.call($,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(ue[K]=$[K]);var me=arguments.length-2;if(me===1)ue.children=te;else if(1<me){for(var Ce=Array(me),re=0;re<me;re++)Ce[re]=arguments[re+2];ue.children=Ce}if(M&&M.defaultProps)for(K in me=M.defaultProps,me)ue[K]===void 0&&(ue[K]=me[K]);return I(M,Q,ue)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(M){return{$$typeof:o,render:M}},Le.isValidElement=U,Le.lazy=function(M){return{$$typeof:h,_payload:{_status:-1,_result:M},_init:J}},Le.memo=function(M,$){return{$$typeof:f,type:M,compare:$===void 0?null:$}},Le.startTransition=function(M){var $=T.T,te={};T.T=te;try{var K=M(),ue=T.S;ue!==null&&ue(te,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then(D,oe)}catch(Q){oe(Q)}finally{$!==null&&te.types!==null&&($.types=te.types),T.T=$}},Le.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},Le.use=function(M){return T.H.use(M)},Le.useActionState=function(M,$,te){return T.H.useActionState(M,$,te)},Le.useCallback=function(M,$){return T.H.useCallback(M,$)},Le.useContext=function(M){return T.H.useContext(M)},Le.useDebugValue=function(){},Le.useDeferredValue=function(M,$){return T.H.useDeferredValue(M,$)},Le.useEffect=function(M,$){return T.H.useEffect(M,$)},Le.useEffectEvent=function(M){return T.H.useEffectEvent(M)},Le.useId=function(){return T.H.useId()},Le.useImperativeHandle=function(M,$,te){return T.H.useImperativeHandle(M,$,te)},Le.useInsertionEffect=function(M,$){return T.H.useInsertionEffect(M,$)},Le.useLayoutEffect=function(M,$){return T.H.useLayoutEffect(M,$)},Le.useMemo=function(M,$){return T.H.useMemo(M,$)},Le.useOptimistic=function(M,$){return T.H.useOptimistic(M,$)},Le.useReducer=function(M,$,te){return T.H.useReducer(M,$,te)},Le.useRef=function(M){return T.H.useRef(M)},Le.useState=function(M){return T.H.useState(M)},Le.useSyncExternalStore=function(M,$,te){return T.H.useSyncExternalStore(M,$,te)},Le.useTransition=function(){return T.H.useTransition()},Le.version="19.2.4",Le}var $A;function _c(){return $A||($A=1,wv.exports=VU()),wv.exports}var Sv={exports:{}},An={};var qA;function D3(){if(qA)return An;qA=1;var t=_c();function e(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},i=Symbol.for("react.portal");function a(u,f,h){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:p==null?null:""+p,children:u,containerInfo:f,implementation:h}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(u,f){if(u==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return An.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,An.createPortal=function(u,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return a(u,f,null,h)},An.flushSync=function(u){var f=s.T,h=r.p;try{if(s.T=null,r.p=2,u)return u()}finally{s.T=f,r.p=h,r.d.f()}},An.preconnect=function(u,f){typeof u=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(u,f))},An.prefetchDNS=function(u){typeof u=="string"&&r.d.D(u)},An.preinit=function(u,f){if(typeof u=="string"&&f&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(u,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:p,integrity:y,fetchPriority:x}):h==="script"&&r.d.X(u,{crossOrigin:p,integrity:y,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},An.preinitModule=function(u,f){if(typeof u=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=o(f.as,f.crossOrigin);r.d.M(u,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(u)},An.preload=function(u,f){if(typeof u=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,p=o(h,f.crossOrigin);r.d.L(u,h,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},An.preloadModule=function(u,f){if(typeof u=="string")if(f){var h=o(f.as,f.crossOrigin);r.d.m(u,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(u)},An.requestFormReset=function(u){r.d.r(u)},An.unstable_batchedUpdates=function(u,f){return u(f)},An.useFormState=function(u,f,h){return s.H.useFormState(u,f,h)},An.useFormStatus=function(){return s.H.useHostTransitionStatus()},An.version="19.2.4",An}var HA;function P3(){if(HA)return Sv.exports;HA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sv.exports=D3(),Sv.exports}var VA;function FU(){if(VA)return Gu;VA=1;var t=HU(),e=_c(),n=P3();function r(l){var c="https://react.dev/errors/"+l;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)c+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function a(l){var c=l,d=l;if(l.alternate)for(;c.return;)c=c.return;else{l=c;do c=l,(c.flags&4098)!==0&&(d=c.return),l=c.return;while(l)}return c.tag===3?d:null}function s(l){if(l.tag===13){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function o(l){if(l.tag===31){var c=l.memoizedState;if(c===null&&(l=l.alternate,l!==null&&(c=l.memoizedState)),c!==null)return c.dehydrated}return null}function u(l){if(a(l)!==l)throw Error(r(188))}function f(l){var c=l.alternate;if(!c){if(c=a(l),c===null)throw Error(r(188));return c!==l?null:l}for(var d=l,g=c;;){var v=d.return;if(v===null)break;var w=v.alternate;if(w===null){if(g=v.return,g!==null){d=g;continue}break}if(v.child===w.child){for(w=v.child;w;){if(w===d)return u(v),l;if(w===g)return u(v),c;w=w.sibling}throw Error(r(188))}if(d.return!==g.return)d=v,g=w;else{for(var A=!1,B=v.child;B;){if(B===d){A=!0,d=v,g=w;break}if(B===g){A=!0,g=v,d=w;break}B=B.sibling}if(!A){for(B=w.child;B;){if(B===d){A=!0,d=w,g=v;break}if(B===g){A=!0,g=w,d=v;break}B=B.sibling}if(!A)throw Error(r(189))}}if(d.alternate!==g)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?l:c}function h(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l;for(l=l.child;l!==null;){if(c=h(l),c!==null)return c;l=l.sibling}return null}var p=Object.assign,y=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.consumer"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),q=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function z(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var H=Symbol.for("react.client.reference");function X(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===H?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case j:return"Fragment";case N:return"Profiler";case S:return"StrictMode";case P:return"Suspense";case D:return"SuspenseList";case I:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case b:return"Portal";case C:return l.displayName||"Context";case O:return(l._context.displayName||"Context")+".Consumer";case _:var c=l.render;return l=l.displayName,l||(l=c.displayName||c.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case T:return c=l.displayName||null,c!==null?c:X(l.type)||"Memo";case L:c=l._payload,l=l._init;try{return X(l(c))}catch{}}return null}var W=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J={pending:!1,data:null,method:null,action:null},oe=[],ge=-1;function M(l){return{current:l}}function $(l){0>ge||(l.current=oe[ge],oe[ge]=null,ge--)}function te(l,c){ge++,oe[ge]=l.current,l.current=c}var K=M(null),ue=M(null),Q=M(null),me=M(null);function Ce(l,c){switch(te(Q,c),te(ue,l),te(K,null),c.nodeType){case 9:case 11:l=(l=c.documentElement)&&(l=l.namespaceURI)?rA(l):0;break;default:if(l=c.tagName,c=c.namespaceURI)c=rA(c),l=iA(c,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}$(K),te(K,l)}function re(){$(K),$(ue),$(Q)}function je(l){l.memoizedState!==null&&te(me,l);var c=K.current,d=iA(c,l.type);c!==d&&(te(ue,l),te(K,d))}function De(l){ue.current===l&&($(K),$(ue)),me.current===l&&($(me),qu._currentValue=J)}var pe,kt;function Ke(l){if(pe===void 0)try{throw Error()}catch(d){var c=d.stack.trim().match(/\n( *(at )?)/);pe=c&&c[1]||"",kt=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+pe+l+kt}var fn=!1;function dn(l,c){if(!l||fn)return"";fn=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var de=function(){throw Error()};if(Object.defineProperty(de.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(de,[])}catch(se){var ie=se}Reflect.construct(l,[],de)}else{try{de.call()}catch(se){ie=se}l.call(de.prototype)}}else{try{throw Error()}catch(se){ie=se}(de=l())&&typeof de.catch=="function"&&de.catch(function(){})}}catch(se){if(se&&ie&&typeof se.stack=="string")return[se.stack,ie.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=g.DetermineComponentFrameRoot(),A=w[0],B=w[1];if(A&&B){var F=A.split(`
`),ne=B.split(`
`);for(v=g=0;g<F.length&&!F[g].includes("DetermineComponentFrameRoot");)g++;for(;v<ne.length&&!ne[v].includes("DetermineComponentFrameRoot");)v++;if(g===F.length||v===ne.length)for(g=F.length-1,v=ne.length-1;1<=g&&0<=v&&F[g]!==ne[v];)v--;for(;1<=g&&0<=v;g--,v--)if(F[g]!==ne[v]){if(g!==1||v!==1)do if(g--,v--,0>v||F[g]!==ne[v]){var ce=`
`+F[g].replace(" at new "," at ");return l.displayName&&ce.includes("<anonymous>")&&(ce=ce.replace("<anonymous>",l.displayName)),ce}while(1<=g&&0<=v);break}}}finally{fn=!1,Error.prepareStackTrace=d}return(d=l?l.displayName||l.name:"")?Ke(d):""}function Zi(l,c){switch(l.tag){case 26:case 27:case 5:return Ke(l.type);case 16:return Ke("Lazy");case 13:return l.child!==c&&c!==null?Ke("Suspense Fallback"):Ke("Suspense");case 19:return Ke("SuspenseList");case 0:case 15:return dn(l.type,!1);case 11:return dn(l.type.render,!1);case 1:return dn(l.type,!0);case 31:return Ke("Activity");default:return""}}function Jc(l){try{var c="",d=null;do c+=Zi(l,d),d=l,l=l.return;while(l);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ty=Object.prototype.hasOwnProperty,ny=t.unstable_scheduleCallback,ry=t.unstable_cancelCallback,p7=t.unstable_shouldYield,g7=t.unstable_requestPaint,cr=t.unstable_now,y7=t.unstable_getCurrentPriorityLevel,RN=t.unstable_ImmediatePriority,LN=t.unstable_UserBlockingPriority,$d=t.unstable_NormalPriority,x7=t.unstable_LowPriority,BN=t.unstable_IdlePriority,v7=t.log,b7=t.unstable_setDisableYieldValue,eu=null,ur=null;function Wa(l){if(typeof v7=="function"&&b7(l),ur&&typeof ur.setStrictMode=="function")try{ur.setStrictMode(eu,l)}catch{}}var fr=Math.clz32?Math.clz32:j7,w7=Math.log,S7=Math.LN2;function j7(l){return l>>>=0,l===0?32:31-(w7(l)/S7|0)|0}var qd=256,Hd=262144,Vd=4194304;function Qs(l){var c=l&42;if(c!==0)return c;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Fd(l,c,d){var g=l.pendingLanes;if(g===0)return 0;var v=0,w=l.suspendedLanes,A=l.pingedLanes;l=l.warmLanes;var B=g&134217727;return B!==0?(g=B&~w,g!==0?v=Qs(g):(A&=B,A!==0?v=Qs(A):d||(d=B&~l,d!==0&&(v=Qs(d))))):(B=g&~w,B!==0?v=Qs(B):A!==0?v=Qs(A):d||(d=g&~l,d!==0&&(v=Qs(d)))),v===0?0:c!==0&&c!==v&&(c&w)===0&&(w=v&-v,d=c&-c,w>=d||w===32&&(d&4194048)!==0)?c:v}function tu(l,c){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&c)===0}function N7(l,c){switch(l){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zN(){var l=Vd;return Vd<<=1,(Vd&62914560)===0&&(Vd=4194304),l}function iy(l){for(var c=[],d=0;31>d;d++)c.push(l);return c}function nu(l,c){l.pendingLanes|=c,c!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function C7(l,c,d,g,v,w){var A=l.pendingLanes;l.pendingLanes=d,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=d,l.entangledLanes&=d,l.errorRecoveryDisabledLanes&=d,l.shellSuspendCounter=0;var B=l.entanglements,F=l.expirationTimes,ne=l.hiddenUpdates;for(d=A&~d;0<d;){var ce=31-fr(d),de=1<<ce;B[ce]=0,F[ce]=-1;var ie=ne[ce];if(ie!==null)for(ne[ce]=null,ce=0;ce<ie.length;ce++){var se=ie[ce];se!==null&&(se.lane&=-536870913)}d&=~de}g!==0&&IN(l,g,0),w!==0&&v===0&&l.tag!==0&&(l.suspendedLanes|=w&~(A&~c))}function IN(l,c,d){l.pendingLanes|=c,l.suspendedLanes&=~c;var g=31-fr(c);l.entangledLanes|=c,l.entanglements[g]=l.entanglements[g]|1073741824|d&261930}function UN(l,c){var d=l.entangledLanes|=c;for(l=l.entanglements;d;){var g=31-fr(d),v=1<<g;v&c|l[g]&c&&(l[g]|=c),d&=~v}}function $N(l,c){var d=c&-c;return d=(d&42)!==0?1:ay(d),(d&(l.suspendedLanes|c))!==0?0:d}function ay(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function sy(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function qN(){var l=Y.p;return l!==0?l:(l=window.event,l===void 0?32:OA(l.type))}function HN(l,c){var d=Y.p;try{return Y.p=l,c()}finally{Y.p=d}}var Ga=Math.random().toString(36).slice(2),hn="__reactFiber$"+Ga,Hn="__reactProps$"+Ga,ao="__reactContainer$"+Ga,ly="__reactEvents$"+Ga,k7="__reactListeners$"+Ga,O7="__reactHandles$"+Ga,VN="__reactResources$"+Ga,ru="__reactMarker$"+Ga;function oy(l){delete l[hn],delete l[Hn],delete l[ly],delete l[k7],delete l[O7]}function so(l){var c=l[hn];if(c)return c;for(var d=l.parentNode;d;){if(c=d[ao]||d[hn]){if(d=c.alternate,c.child!==null||d!==null&&d.child!==null)for(l=fA(l);l!==null;){if(d=l[hn])return d;l=fA(l)}return c}l=d,d=l.parentNode}return null}function lo(l){if(l=l[hn]||l[ao]){var c=l.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return l}return null}function iu(l){var c=l.tag;if(c===5||c===26||c===27||c===6)return l.stateNode;throw Error(r(33))}function oo(l){var c=l[VN];return c||(c=l[VN]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Jt(l){l[ru]=!0}var FN=new Set,WN={};function Xs(l,c){co(l,c),co(l+"Capture",c)}function co(l,c){for(WN[l]=c,l=0;l<c.length;l++)FN.add(c[l])}var A7=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),GN={},KN={};function E7(l){return ty.call(KN,l)?!0:ty.call(GN,l)?!1:A7.test(l)?KN[l]=!0:(GN[l]=!0,!1)}function Wd(l,c,d){if(E7(c))if(d===null)l.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":l.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){l.removeAttribute(c);return}}l.setAttribute(c,""+d)}}function Gd(l,c,d){if(d===null)l.removeAttribute(c);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(c);return}l.setAttribute(c,""+d)}}function Ji(l,c,d,g){if(g===null)l.removeAttribute(d);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(d);return}l.setAttributeNS(c,d,""+g)}}function Tr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function YN(l){var c=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function T7(l,c,d){var g=Object.getOwnPropertyDescriptor(l.constructor.prototype,c);if(!l.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var v=g.get,w=g.set;return Object.defineProperty(l,c,{configurable:!0,get:function(){return v.call(this)},set:function(A){d=""+A,w.call(this,A)}}),Object.defineProperty(l,c,{enumerable:g.enumerable}),{getValue:function(){return d},setValue:function(A){d=""+A},stopTracking:function(){l._valueTracker=null,delete l[c]}}}}function cy(l){if(!l._valueTracker){var c=YN(l)?"checked":"value";l._valueTracker=T7(l,c,""+l[c])}}function QN(l){if(!l)return!1;var c=l._valueTracker;if(!c)return!0;var d=c.getValue(),g="";return l&&(g=YN(l)?l.checked?"true":"false":l.value),l=g,l!==d?(c.setValue(l),!0):!1}function Kd(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var M7=/[\n"\\]/g;function Mr(l){return l.replace(M7,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function uy(l,c,d,g,v,w,A,B){l.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?l.type=A:l.removeAttribute("type"),c!=null?A==="number"?(c===0&&l.value===""||l.value!=c)&&(l.value=""+Tr(c)):l.value!==""+Tr(c)&&(l.value=""+Tr(c)):A!=="submit"&&A!=="reset"||l.removeAttribute("value"),c!=null?fy(l,A,Tr(c)):d!=null?fy(l,A,Tr(d)):g!=null&&l.removeAttribute("value"),v==null&&w!=null&&(l.defaultChecked=!!w),v!=null&&(l.checked=v&&typeof v!="function"&&typeof v!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?l.name=""+Tr(B):l.removeAttribute("name")}function XN(l,c,d,g,v,w,A,B){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(l.type=w),c!=null||d!=null){if(!(w!=="submit"&&w!=="reset"||c!=null)){cy(l);return}d=d!=null?""+Tr(d):"",c=c!=null?""+Tr(c):d,B||c===l.value||(l.value=c),l.defaultValue=c}g=g??v,g=typeof g!="function"&&typeof g!="symbol"&&!!g,l.checked=B?l.checked:!!g,l.defaultChecked=!!g,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(l.name=A),cy(l)}function fy(l,c,d){c==="number"&&Kd(l.ownerDocument)===l||l.defaultValue===""+d||(l.defaultValue=""+d)}function uo(l,c,d,g){if(l=l.options,c){c={};for(var v=0;v<d.length;v++)c["$"+d[v]]=!0;for(d=0;d<l.length;d++)v=c.hasOwnProperty("$"+l[d].value),l[d].selected!==v&&(l[d].selected=v),v&&g&&(l[d].defaultSelected=!0)}else{for(d=""+Tr(d),c=null,v=0;v<l.length;v++){if(l[v].value===d){l[v].selected=!0,g&&(l[v].defaultSelected=!0);return}c!==null||l[v].disabled||(c=l[v])}c!==null&&(c.selected=!0)}}function ZN(l,c,d){if(c!=null&&(c=""+Tr(c),c!==l.value&&(l.value=c),d==null)){l.defaultValue!==c&&(l.defaultValue=c);return}l.defaultValue=d!=null?""+Tr(d):""}function JN(l,c,d,g){if(c==null){if(g!=null){if(d!=null)throw Error(r(92));if(W(g)){if(1<g.length)throw Error(r(93));g=g[0]}d=g}d==null&&(d=""),c=d}d=Tr(c),l.defaultValue=d,g=l.textContent,g===d&&g!==""&&g!==null&&(l.value=g),cy(l)}function fo(l,c){if(c){var d=l.firstChild;if(d&&d===l.lastChild&&d.nodeType===3){d.nodeValue=c;return}}l.textContent=c}var _7=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function eC(l,c,d){var g=c.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?g?l.setProperty(c,""):c==="float"?l.cssFloat="":l[c]="":g?l.setProperty(c,d):typeof d!="number"||d===0||_7.has(c)?c==="float"?l.cssFloat=d:l[c]=(""+d).trim():l[c]=d+"px"}function tC(l,c,d){if(c!=null&&typeof c!="object")throw Error(r(62));if(l=l.style,d!=null){for(var g in d)!d.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?l.setProperty(g,""):g==="float"?l.cssFloat="":l[g]="");for(var v in c)g=c[v],c.hasOwnProperty(v)&&d[v]!==g&&eC(l,v,g)}else for(var w in c)c.hasOwnProperty(w)&&eC(l,w,c[w])}function dy(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D7=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),P7=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yd(l){return P7.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function ea(){}var hy=null;function my(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var ho=null,mo=null;function nC(l){var c=lo(l);if(c&&(l=c.stateNode)){var d=l[Hn]||null;e:switch(l=c.stateNode,c.type){case"input":if(uy(l,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),c=d.name,d.type==="radio"&&c!=null){for(d=l;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Mr(""+c)+'"][type="radio"]'),c=0;c<d.length;c++){var g=d[c];if(g!==l&&g.form===l.form){var v=g[Hn]||null;if(!v)throw Error(r(90));uy(g,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(c=0;c<d.length;c++)g=d[c],g.form===l.form&&QN(g)}break e;case"textarea":ZN(l,d.value,d.defaultValue);break e;case"select":c=d.value,c!=null&&uo(l,!!d.multiple,c,!1)}}}var py=!1;function rC(l,c,d){if(py)return l(c,d);py=!0;try{var g=l(c);return g}finally{if(py=!1,(ho!==null||mo!==null)&&(Lh(),ho&&(c=ho,l=mo,mo=ho=null,nC(c),l)))for(c=0;c<l.length;c++)nC(l[c])}}function au(l,c){var d=l.stateNode;if(d===null)return null;var g=d[Hn]||null;if(g===null)return null;d=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(l=l.type,g=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!g;break e;default:l=!1}if(l)return null;if(d&&typeof d!="function")throw Error(r(231,c,typeof d));return d}var ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gy=!1;if(ta)try{var su={};Object.defineProperty(su,"passive",{get:function(){gy=!0}}),window.addEventListener("test",su,su),window.removeEventListener("test",su,su)}catch{gy=!1}var Ka=null,yy=null,Qd=null;function iC(){if(Qd)return Qd;var l,c=yy,d=c.length,g,v="value"in Ka?Ka.value:Ka.textContent,w=v.length;for(l=0;l<d&&c[l]===v[l];l++);var A=d-l;for(g=1;g<=A&&c[d-g]===v[w-g];g++);return Qd=v.slice(l,1<g?1-g:void 0)}function Xd(l){var c=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&c===13&&(l=13)):l=c,l===10&&(l=13),32<=l||l===13?l:0}function Zd(){return!0}function aC(){return!1}function Vn(l){function c(d,g,v,w,A){this._reactName=d,this._targetInst=v,this.type=g,this.nativeEvent=w,this.target=A,this.currentTarget=null;for(var B in l)l.hasOwnProperty(B)&&(d=l[B],this[B]=d?d(w):w[B]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Zd:aC,this.isPropagationStopped=aC,this}return p(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Zd)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Zd)},persist:function(){},isPersistent:Zd}),c}var Zs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jd=Vn(Zs),lu=p({},Zs,{view:0,detail:0}),R7=Vn(lu),xy,vy,ou,eh=p({},lu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wy,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==ou&&(ou&&l.type==="mousemove"?(xy=l.screenX-ou.screenX,vy=l.screenY-ou.screenY):vy=xy=0,ou=l),xy)},movementY:function(l){return"movementY"in l?l.movementY:vy}}),sC=Vn(eh),L7=p({},eh,{dataTransfer:0}),B7=Vn(L7),z7=p({},lu,{relatedTarget:0}),by=Vn(z7),I7=p({},Zs,{animationName:0,elapsedTime:0,pseudoElement:0}),U7=Vn(I7),$7=p({},Zs,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),q7=Vn($7),H7=p({},Zs,{data:0}),lC=Vn(H7),V7={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},F7={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},W7={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function G7(l){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(l):(l=W7[l])?!!c[l]:!1}function wy(){return G7}var K7=p({},lu,{key:function(l){if(l.key){var c=V7[l.key]||l.key;if(c!=="Unidentified")return c}return l.type==="keypress"?(l=Xd(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?F7[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wy,charCode:function(l){return l.type==="keypress"?Xd(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Xd(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Y7=Vn(K7),Q7=p({},eh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oC=Vn(Q7),X7=p({},lu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wy}),Z7=Vn(X7),J7=p({},Zs,{propertyName:0,elapsedTime:0,pseudoElement:0}),e9=Vn(J7),t9=p({},eh,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),n9=Vn(t9),r9=p({},Zs,{newState:0,oldState:0}),i9=Vn(r9),a9=[9,13,27,32],Sy=ta&&"CompositionEvent"in window,cu=null;ta&&"documentMode"in document&&(cu=document.documentMode);var s9=ta&&"TextEvent"in window&&!cu,cC=ta&&(!Sy||cu&&8<cu&&11>=cu),uC=" ",fC=!1;function dC(l,c){switch(l){case"keyup":return a9.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hC(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var po=!1;function l9(l,c){switch(l){case"compositionend":return hC(c);case"keypress":return c.which!==32?null:(fC=!0,uC);case"textInput":return l=c.data,l===uC&&fC?null:l;default:return null}}function o9(l,c){if(po)return l==="compositionend"||!Sy&&dC(l,c)?(l=iC(),Qd=yy=Ka=null,po=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return cC&&c.locale!=="ko"?null:c.data;default:return null}}var c9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mC(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c==="input"?!!c9[l.type]:c==="textarea"}function pC(l,c,d,g){ho?mo?mo.push(g):mo=[g]:ho=g,c=Hh(c,"onChange"),0<c.length&&(d=new Jd("onChange","change",null,d,g),l.push({event:d,listeners:c}))}var uu=null,fu=null;function u9(l){XO(l,0)}function th(l){var c=iu(l);if(QN(c))return l}function gC(l,c){if(l==="change")return c}var yC=!1;if(ta){var jy;if(ta){var Ny="oninput"in document;if(!Ny){var xC=document.createElement("div");xC.setAttribute("oninput","return;"),Ny=typeof xC.oninput=="function"}jy=Ny}else jy=!1;yC=jy&&(!document.documentMode||9<document.documentMode)}function vC(){uu&&(uu.detachEvent("onpropertychange",bC),fu=uu=null)}function bC(l){if(l.propertyName==="value"&&th(fu)){var c=[];pC(c,fu,l,my(l)),rC(u9,c)}}function f9(l,c,d){l==="focusin"?(vC(),uu=c,fu=d,uu.attachEvent("onpropertychange",bC)):l==="focusout"&&vC()}function d9(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return th(fu)}function h9(l,c){if(l==="click")return th(c)}function m9(l,c){if(l==="input"||l==="change")return th(c)}function p9(l,c){return l===c&&(l!==0||1/l===1/c)||l!==l&&c!==c}var dr=typeof Object.is=="function"?Object.is:p9;function du(l,c){if(dr(l,c))return!0;if(typeof l!="object"||l===null||typeof c!="object"||c===null)return!1;var d=Object.keys(l),g=Object.keys(c);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!ty.call(c,v)||!dr(l[v],c[v]))return!1}return!0}function wC(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function SC(l,c){var d=wC(l);l=0;for(var g;d;){if(d.nodeType===3){if(g=l+d.textContent.length,l<=c&&g>=c)return{node:d,offset:c-l};l=g}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=wC(d)}}function jC(l,c){return l&&c?l===c?!0:l&&l.nodeType===3?!1:c&&c.nodeType===3?jC(l,c.parentNode):"contains"in l?l.contains(c):l.compareDocumentPosition?!!(l.compareDocumentPosition(c)&16):!1:!1}function NC(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var c=Kd(l.document);c instanceof l.HTMLIFrameElement;){try{var d=typeof c.contentWindow.location.href=="string"}catch{d=!1}if(d)l=c.contentWindow;else break;c=Kd(l.document)}return c}function Cy(l){var c=l&&l.nodeName&&l.nodeName.toLowerCase();return c&&(c==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||c==="textarea"||l.contentEditable==="true")}var g9=ta&&"documentMode"in document&&11>=document.documentMode,go=null,ky=null,hu=null,Oy=!1;function CC(l,c,d){var g=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Oy||go==null||go!==Kd(g)||(g=go,"selectionStart"in g&&Cy(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),hu&&du(hu,g)||(hu=g,g=Hh(ky,"onSelect"),0<g.length&&(c=new Jd("onSelect","select",null,c,d),l.push({event:c,listeners:g}),c.target=go)))}function Js(l,c){var d={};return d[l.toLowerCase()]=c.toLowerCase(),d["Webkit"+l]="webkit"+c,d["Moz"+l]="moz"+c,d}var yo={animationend:Js("Animation","AnimationEnd"),animationiteration:Js("Animation","AnimationIteration"),animationstart:Js("Animation","AnimationStart"),transitionrun:Js("Transition","TransitionRun"),transitionstart:Js("Transition","TransitionStart"),transitioncancel:Js("Transition","TransitionCancel"),transitionend:Js("Transition","TransitionEnd")},Ay={},kC={};ta&&(kC=document.createElement("div").style,"AnimationEvent"in window||(delete yo.animationend.animation,delete yo.animationiteration.animation,delete yo.animationstart.animation),"TransitionEvent"in window||delete yo.transitionend.transition);function el(l){if(Ay[l])return Ay[l];if(!yo[l])return l;var c=yo[l],d;for(d in c)if(c.hasOwnProperty(d)&&d in kC)return Ay[l]=c[d];return l}var OC=el("animationend"),AC=el("animationiteration"),EC=el("animationstart"),y9=el("transitionrun"),x9=el("transitionstart"),v9=el("transitioncancel"),TC=el("transitionend"),MC=new Map,Ey="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ey.push("scrollEnd");function ni(l,c){MC.set(l,c),Xs(c,[l])}var nh=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},_r=[],xo=0,Ty=0;function rh(){for(var l=xo,c=Ty=xo=0;c<l;){var d=_r[c];_r[c++]=null;var g=_r[c];_r[c++]=null;var v=_r[c];_r[c++]=null;var w=_r[c];if(_r[c++]=null,g!==null&&v!==null){var A=g.pending;A===null?v.next=v:(v.next=A.next,A.next=v),g.pending=v}w!==0&&_C(d,v,w)}}function ih(l,c,d,g){_r[xo++]=l,_r[xo++]=c,_r[xo++]=d,_r[xo++]=g,Ty|=g,l.lanes|=g,l=l.alternate,l!==null&&(l.lanes|=g)}function My(l,c,d,g){return ih(l,c,d,g),ah(l)}function tl(l,c){return ih(l,null,null,c),ah(l)}function _C(l,c,d){l.lanes|=d;var g=l.alternate;g!==null&&(g.lanes|=d);for(var v=!1,w=l.return;w!==null;)w.childLanes|=d,g=w.alternate,g!==null&&(g.childLanes|=d),w.tag===22&&(l=w.stateNode,l===null||l._visibility&1||(v=!0)),l=w,w=w.return;return l.tag===3?(w=l.stateNode,v&&c!==null&&(v=31-fr(d),l=w.hiddenUpdates,g=l[v],g===null?l[v]=[c]:g.push(c),c.lane=d|536870912),w):null}function ah(l){if(50<Ru)throw Ru=0,Ux=null,Error(r(185));for(var c=l.return;c!==null;)l=c,c=l.return;return l.tag===3?l.stateNode:null}var vo={};function b9(l,c,d,g){this.tag=l,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hr(l,c,d,g){return new b9(l,c,d,g)}function _y(l){return l=l.prototype,!(!l||!l.isReactComponent)}function na(l,c){var d=l.alternate;return d===null?(d=hr(l.tag,c,l.key,l.mode),d.elementType=l.elementType,d.type=l.type,d.stateNode=l.stateNode,d.alternate=l,l.alternate=d):(d.pendingProps=c,d.type=l.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=l.flags&65011712,d.childLanes=l.childLanes,d.lanes=l.lanes,d.child=l.child,d.memoizedProps=l.memoizedProps,d.memoizedState=l.memoizedState,d.updateQueue=l.updateQueue,c=l.dependencies,d.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},d.sibling=l.sibling,d.index=l.index,d.ref=l.ref,d.refCleanup=l.refCleanup,d}function DC(l,c){l.flags&=65011714;var d=l.alternate;return d===null?(l.childLanes=0,l.lanes=c,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=d.childLanes,l.lanes=d.lanes,l.child=d.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=d.memoizedProps,l.memoizedState=d.memoizedState,l.updateQueue=d.updateQueue,l.type=d.type,c=d.dependencies,l.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),l}function sh(l,c,d,g,v,w){var A=0;if(g=l,typeof l=="function")_y(l)&&(A=1);else if(typeof l=="string")A=CU(l,d,K.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case I:return l=hr(31,d,c,v),l.elementType=I,l.lanes=w,l;case j:return nl(d.children,v,w,c);case S:A=8,v|=24;break;case N:return l=hr(12,d,c,v|2),l.elementType=N,l.lanes=w,l;case P:return l=hr(13,d,c,v),l.elementType=P,l.lanes=w,l;case D:return l=hr(19,d,c,v),l.elementType=D,l.lanes=w,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case C:A=10;break e;case O:A=9;break e;case _:A=11;break e;case T:A=14;break e;case L:A=16,g=null;break e}A=29,d=Error(r(130,l===null?"null":typeof l,"")),g=null}return c=hr(A,d,c,v),c.elementType=l,c.type=g,c.lanes=w,c}function nl(l,c,d,g){return l=hr(7,l,g,c),l.lanes=d,l}function Dy(l,c,d){return l=hr(6,l,null,c),l.lanes=d,l}function PC(l){var c=hr(18,null,null,0);return c.stateNode=l,c}function Py(l,c,d){return c=hr(4,l.children!==null?l.children:[],l.key,c),c.lanes=d,c.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},c}var RC=new WeakMap;function Dr(l,c){if(typeof l=="object"&&l!==null){var d=RC.get(l);return d!==void 0?d:(c={value:l,source:c,stack:Jc(c)},RC.set(l,c),c)}return{value:l,source:c,stack:Jc(c)}}var bo=[],wo=0,lh=null,mu=0,Pr=[],Rr=0,Ya=null,bi=1,wi="";function ra(l,c){bo[wo++]=mu,bo[wo++]=lh,lh=l,mu=c}function LC(l,c,d){Pr[Rr++]=bi,Pr[Rr++]=wi,Pr[Rr++]=Ya,Ya=l;var g=bi;l=wi;var v=32-fr(g)-1;g&=~(1<<v),d+=1;var w=32-fr(c)+v;if(30<w){var A=v-v%5;w=(g&(1<<A)-1).toString(32),g>>=A,v-=A,bi=1<<32-fr(c)+v|d<<v|g,wi=w+l}else bi=1<<w|d<<v|g,wi=l}function Ry(l){l.return!==null&&(ra(l,1),LC(l,1,0))}function Ly(l){for(;l===lh;)lh=bo[--wo],bo[wo]=null,mu=bo[--wo],bo[wo]=null;for(;l===Ya;)Ya=Pr[--Rr],Pr[Rr]=null,wi=Pr[--Rr],Pr[Rr]=null,bi=Pr[--Rr],Pr[Rr]=null}function BC(l,c){Pr[Rr++]=bi,Pr[Rr++]=wi,Pr[Rr++]=Ya,bi=c.id,wi=c.overflow,Ya=l}var mn=null,pt=null,We=!1,Qa=null,Lr=!1,By=Error(r(519));function Xa(l){var c=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw pu(Dr(c,l)),By}function zC(l){var c=l.stateNode,d=l.type,g=l.memoizedProps;switch(c[hn]=l,c[Hn]=g,d){case"dialog":qe("cancel",c),qe("close",c);break;case"iframe":case"object":case"embed":qe("load",c);break;case"video":case"audio":for(d=0;d<Bu.length;d++)qe(Bu[d],c);break;case"source":qe("error",c);break;case"img":case"image":case"link":qe("error",c),qe("load",c);break;case"details":qe("toggle",c);break;case"input":qe("invalid",c),XN(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":qe("invalid",c);break;case"textarea":qe("invalid",c),JN(c,g.value,g.defaultValue,g.children)}d=g.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||c.textContent===""+d||g.suppressHydrationWarning===!0||tA(c.textContent,d)?(g.popover!=null&&(qe("beforetoggle",c),qe("toggle",c)),g.onScroll!=null&&qe("scroll",c),g.onScrollEnd!=null&&qe("scrollend",c),g.onClick!=null&&(c.onclick=ea),c=!0):c=!1,c||Xa(l,!0)}function IC(l){for(mn=l.return;mn;)switch(mn.tag){case 5:case 31:case 13:Lr=!1;return;case 27:case 3:Lr=!0;return;default:mn=mn.return}}function So(l){if(l!==mn)return!1;if(!We)return IC(l),We=!0,!1;var c=l.tag,d;if((d=c!==3&&c!==27)&&((d=c===5)&&(d=l.type,d=!(d!=="form"&&d!=="button")||tv(l.type,l.memoizedProps)),d=!d),d&&pt&&Xa(l),IC(l),c===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));pt=uA(l)}else if(c===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));pt=uA(l)}else c===27?(c=pt,fs(l.type)?(l=sv,sv=null,pt=l):pt=c):pt=mn?zr(l.stateNode.nextSibling):null;return!0}function rl(){pt=mn=null,We=!1}function zy(){var l=Qa;return l!==null&&(Kn===null?Kn=l:Kn.push.apply(Kn,l),Qa=null),l}function pu(l){Qa===null?Qa=[l]:Qa.push(l)}var Iy=M(null),il=null,ia=null;function Za(l,c,d){te(Iy,c._currentValue),c._currentValue=d}function aa(l){l._currentValue=Iy.current,$(Iy)}function Uy(l,c,d){for(;l!==null;){var g=l.alternate;if((l.childLanes&c)!==c?(l.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),l===d)break;l=l.return}}function $y(l,c,d,g){var v=l.child;for(v!==null&&(v.return=l);v!==null;){var w=v.dependencies;if(w!==null){var A=v.child;w=w.firstContext;e:for(;w!==null;){var B=w;w=v;for(var F=0;F<c.length;F++)if(B.context===c[F]){w.lanes|=d,B=w.alternate,B!==null&&(B.lanes|=d),Uy(w.return,d,l),g||(A=null);break e}w=B.next}}else if(v.tag===18){if(A=v.return,A===null)throw Error(r(341));A.lanes|=d,w=A.alternate,w!==null&&(w.lanes|=d),Uy(A,d,l),A=null}else A=v.child;if(A!==null)A.return=v;else for(A=v;A!==null;){if(A===l){A=null;break}if(v=A.sibling,v!==null){v.return=A.return,A=v;break}A=A.return}v=A}}function jo(l,c,d,g){l=null;for(var v=c,w=!1;v!==null;){if(!w){if((v.flags&524288)!==0)w=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var A=v.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var B=v.type;dr(v.pendingProps.value,A.value)||(l!==null?l.push(B):l=[B])}}else if(v===me.current){if(A=v.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(l!==null?l.push(qu):l=[qu])}v=v.return}l!==null&&$y(c,l,d,g),c.flags|=262144}function oh(l){for(l=l.firstContext;l!==null;){if(!dr(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function al(l){il=l,ia=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function pn(l){return UC(il,l)}function ch(l,c){return il===null&&al(l),UC(l,c)}function UC(l,c){var d=c._currentValue;if(c={context:c,memoizedValue:d,next:null},ia===null){if(l===null)throw Error(r(308));ia=c,l.dependencies={lanes:0,firstContext:c},l.flags|=524288}else ia=ia.next=c;return d}var w9=typeof AbortController<"u"?AbortController:function(){var l=[],c=this.signal={aborted:!1,addEventListener:function(d,g){l.push(g)}};this.abort=function(){c.aborted=!0,l.forEach(function(d){return d()})}},S9=t.unstable_scheduleCallback,j9=t.unstable_NormalPriority,zt={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function qy(){return{controller:new w9,data:new Map,refCount:0}}function gu(l){l.refCount--,l.refCount===0&&S9(j9,function(){l.controller.abort()})}var yu=null,Hy=0,No=0,Co=null;function N9(l,c){if(yu===null){var d=yu=[];Hy=0,No=Wx(),Co={status:"pending",value:void 0,then:function(g){d.push(g)}}}return Hy++,c.then($C,$C),c}function $C(){if(--Hy===0&&yu!==null){Co!==null&&(Co.status="fulfilled");var l=yu;yu=null,No=0,Co=null;for(var c=0;c<l.length;c++)(0,l[c])()}}function C9(l,c){var d=[],g={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return l.then(function(){g.status="fulfilled",g.value=c;for(var v=0;v<d.length;v++)(0,d[v])(c)},function(v){for(g.status="rejected",g.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),g}var qC=V.S;V.S=function(l,c){CO=cr(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&N9(l,c),qC!==null&&qC(l,c)};var sl=M(null);function Vy(){var l=sl.current;return l!==null?l:ct.pooledCache}function uh(l,c){c===null?te(sl,sl.current):te(sl,c.pool)}function HC(){var l=Vy();return l===null?null:{parent:zt._currentValue,pool:l}}var ko=Error(r(460)),Fy=Error(r(474)),fh=Error(r(542)),dh={then:function(){}};function VC(l){return l=l.status,l==="fulfilled"||l==="rejected"}function FC(l,c,d){switch(d=l[d],d===void 0?l.push(c):d!==c&&(c.then(ea,ea),c=d),c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,GC(l),l;default:if(typeof c.status=="string")c.then(ea,ea);else{if(l=ct,l!==null&&100<l.shellSuspendCounter)throw Error(r(482));l=c,l.status="pending",l.then(function(g){if(c.status==="pending"){var v=c;v.status="fulfilled",v.value=g}},function(g){if(c.status==="pending"){var v=c;v.status="rejected",v.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw l=c.reason,GC(l),l}throw ol=c,ko}}function ll(l){try{var c=l._init;return c(l._payload)}catch(d){throw d!==null&&typeof d=="object"&&typeof d.then=="function"?(ol=d,ko):d}}var ol=null;function WC(){if(ol===null)throw Error(r(459));var l=ol;return ol=null,l}function GC(l){if(l===ko||l===fh)throw Error(r(483))}var Oo=null,xu=0;function hh(l){var c=xu;return xu+=1,Oo===null&&(Oo=[]),FC(Oo,l,c)}function vu(l,c){c=c.props.ref,l.ref=c!==void 0?c:null}function mh(l,c){throw c.$$typeof===y?Error(r(525)):(l=Object.prototype.toString.call(c),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":l)))}function KC(l){function c(Z,G){if(l){var ee=Z.deletions;ee===null?(Z.deletions=[G],Z.flags|=16):ee.push(G)}}function d(Z,G){if(!l)return null;for(;G!==null;)c(Z,G),G=G.sibling;return null}function g(Z){for(var G=new Map;Z!==null;)Z.key!==null?G.set(Z.key,Z):G.set(Z.index,Z),Z=Z.sibling;return G}function v(Z,G){return Z=na(Z,G),Z.index=0,Z.sibling=null,Z}function w(Z,G,ee){return Z.index=ee,l?(ee=Z.alternate,ee!==null?(ee=ee.index,ee<G?(Z.flags|=67108866,G):ee):(Z.flags|=67108866,G)):(Z.flags|=1048576,G)}function A(Z){return l&&Z.alternate===null&&(Z.flags|=67108866),Z}function B(Z,G,ee,fe){return G===null||G.tag!==6?(G=Dy(ee,Z.mode,fe),G.return=Z,G):(G=v(G,ee),G.return=Z,G)}function F(Z,G,ee,fe){var Ee=ee.type;return Ee===j?ce(Z,G,ee.props.children,fe,ee.key):G!==null&&(G.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===L&&ll(Ee)===G.type)?(G=v(G,ee.props),vu(G,ee),G.return=Z,G):(G=sh(ee.type,ee.key,ee.props,null,Z.mode,fe),vu(G,ee),G.return=Z,G)}function ne(Z,G,ee,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==ee.containerInfo||G.stateNode.implementation!==ee.implementation?(G=Py(ee,Z.mode,fe),G.return=Z,G):(G=v(G,ee.children||[]),G.return=Z,G)}function ce(Z,G,ee,fe,Ee){return G===null||G.tag!==7?(G=nl(ee,Z.mode,fe,Ee),G.return=Z,G):(G=v(G,ee),G.return=Z,G)}function de(Z,G,ee){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Dy(""+G,Z.mode,ee),G.return=Z,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case x:return ee=sh(G.type,G.key,G.props,null,Z.mode,ee),vu(ee,G),ee.return=Z,ee;case b:return G=Py(G,Z.mode,ee),G.return=Z,G;case L:return G=ll(G),de(Z,G,ee)}if(W(G)||z(G))return G=nl(G,Z.mode,ee,null),G.return=Z,G;if(typeof G.then=="function")return de(Z,hh(G),ee);if(G.$$typeof===C)return de(Z,ch(Z,G),ee);mh(Z,G)}return null}function ie(Z,G,ee,fe){var Ee=G!==null?G.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ee!==null?null:B(Z,G,""+ee,fe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ee.key===Ee?F(Z,G,ee,fe):null;case b:return ee.key===Ee?ne(Z,G,ee,fe):null;case L:return ee=ll(ee),ie(Z,G,ee,fe)}if(W(ee)||z(ee))return Ee!==null?null:ce(Z,G,ee,fe,null);if(typeof ee.then=="function")return ie(Z,G,hh(ee),fe);if(ee.$$typeof===C)return ie(Z,G,ch(Z,ee),fe);mh(Z,ee)}return null}function se(Z,G,ee,fe,Ee){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return Z=Z.get(ee)||null,B(G,Z,""+fe,Ee);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case x:return Z=Z.get(fe.key===null?ee:fe.key)||null,F(G,Z,fe,Ee);case b:return Z=Z.get(fe.key===null?ee:fe.key)||null,ne(G,Z,fe,Ee);case L:return fe=ll(fe),se(Z,G,ee,fe,Ee)}if(W(fe)||z(fe))return Z=Z.get(ee)||null,ce(G,Z,fe,Ee,null);if(typeof fe.then=="function")return se(Z,G,ee,hh(fe),Ee);if(fe.$$typeof===C)return se(Z,G,ee,ch(G,fe),Ee);mh(G,fe)}return null}function Se(Z,G,ee,fe){for(var Ee=null,Ye=null,ke=G,Ie=G=0,Fe=null;ke!==null&&Ie<ee.length;Ie++){ke.index>Ie?(Fe=ke,ke=null):Fe=ke.sibling;var Qe=ie(Z,ke,ee[Ie],fe);if(Qe===null){ke===null&&(ke=Fe);break}l&&ke&&Qe.alternate===null&&c(Z,ke),G=w(Qe,G,Ie),Ye===null?Ee=Qe:Ye.sibling=Qe,Ye=Qe,ke=Fe}if(Ie===ee.length)return d(Z,ke),We&&ra(Z,Ie),Ee;if(ke===null){for(;Ie<ee.length;Ie++)ke=de(Z,ee[Ie],fe),ke!==null&&(G=w(ke,G,Ie),Ye===null?Ee=ke:Ye.sibling=ke,Ye=ke);return We&&ra(Z,Ie),Ee}for(ke=g(ke);Ie<ee.length;Ie++)Fe=se(ke,Z,Ie,ee[Ie],fe),Fe!==null&&(l&&Fe.alternate!==null&&ke.delete(Fe.key===null?Ie:Fe.key),G=w(Fe,G,Ie),Ye===null?Ee=Fe:Ye.sibling=Fe,Ye=Fe);return l&&ke.forEach(function(gs){return c(Z,gs)}),We&&ra(Z,Ie),Ee}function Pe(Z,G,ee,fe){if(ee==null)throw Error(r(151));for(var Ee=null,Ye=null,ke=G,Ie=G=0,Fe=null,Qe=ee.next();ke!==null&&!Qe.done;Ie++,Qe=ee.next()){ke.index>Ie?(Fe=ke,ke=null):Fe=ke.sibling;var gs=ie(Z,ke,Qe.value,fe);if(gs===null){ke===null&&(ke=Fe);break}l&&ke&&gs.alternate===null&&c(Z,ke),G=w(gs,G,Ie),Ye===null?Ee=gs:Ye.sibling=gs,Ye=gs,ke=Fe}if(Qe.done)return d(Z,ke),We&&ra(Z,Ie),Ee;if(ke===null){for(;!Qe.done;Ie++,Qe=ee.next())Qe=de(Z,Qe.value,fe),Qe!==null&&(G=w(Qe,G,Ie),Ye===null?Ee=Qe:Ye.sibling=Qe,Ye=Qe);return We&&ra(Z,Ie),Ee}for(ke=g(ke);!Qe.done;Ie++,Qe=ee.next())Qe=se(ke,Z,Ie,Qe.value,fe),Qe!==null&&(l&&Qe.alternate!==null&&ke.delete(Qe.key===null?Ie:Qe.key),G=w(Qe,G,Ie),Ye===null?Ee=Qe:Ye.sibling=Qe,Ye=Qe);return l&&ke.forEach(function(LU){return c(Z,LU)}),We&&ra(Z,Ie),Ee}function st(Z,G,ee,fe){if(typeof ee=="object"&&ee!==null&&ee.type===j&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:e:{for(var Ee=ee.key;G!==null;){if(G.key===Ee){if(Ee=ee.type,Ee===j){if(G.tag===7){d(Z,G.sibling),fe=v(G,ee.props.children),fe.return=Z,Z=fe;break e}}else if(G.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===L&&ll(Ee)===G.type){d(Z,G.sibling),fe=v(G,ee.props),vu(fe,ee),fe.return=Z,Z=fe;break e}d(Z,G);break}else c(Z,G);G=G.sibling}ee.type===j?(fe=nl(ee.props.children,Z.mode,fe,ee.key),fe.return=Z,Z=fe):(fe=sh(ee.type,ee.key,ee.props,null,Z.mode,fe),vu(fe,ee),fe.return=Z,Z=fe)}return A(Z);case b:e:{for(Ee=ee.key;G!==null;){if(G.key===Ee)if(G.tag===4&&G.stateNode.containerInfo===ee.containerInfo&&G.stateNode.implementation===ee.implementation){d(Z,G.sibling),fe=v(G,ee.children||[]),fe.return=Z,Z=fe;break e}else{d(Z,G);break}else c(Z,G);G=G.sibling}fe=Py(ee,Z.mode,fe),fe.return=Z,Z=fe}return A(Z);case L:return ee=ll(ee),st(Z,G,ee,fe)}if(W(ee))return Se(Z,G,ee,fe);if(z(ee)){if(Ee=z(ee),typeof Ee!="function")throw Error(r(150));return ee=Ee.call(ee),Pe(Z,G,ee,fe)}if(typeof ee.then=="function")return st(Z,G,hh(ee),fe);if(ee.$$typeof===C)return st(Z,G,ch(Z,ee),fe);mh(Z,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,G!==null&&G.tag===6?(d(Z,G.sibling),fe=v(G,ee),fe.return=Z,Z=fe):(d(Z,G),fe=Dy(ee,Z.mode,fe),fe.return=Z,Z=fe),A(Z)):d(Z,G)}return function(Z,G,ee,fe){try{xu=0;var Ee=st(Z,G,ee,fe);return Oo=null,Ee}catch(ke){if(ke===ko||ke===fh)throw ke;var Ye=hr(29,ke,null,Z.mode);return Ye.lanes=fe,Ye.return=Z,Ye}}}var cl=KC(!0),YC=KC(!1),Ja=!1;function Wy(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gy(l,c){l=l.updateQueue,c.updateQueue===l&&(c.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function es(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function ts(l,c,d){var g=l.updateQueue;if(g===null)return null;if(g=g.shared,(et&2)!==0){var v=g.pending;return v===null?c.next=c:(c.next=v.next,v.next=c),g.pending=c,c=ah(l),_C(l,null,d),c}return ih(l,g,c,d),ah(l)}function bu(l,c,d){if(c=c.updateQueue,c!==null&&(c=c.shared,(d&4194048)!==0)){var g=c.lanes;g&=l.pendingLanes,d|=g,c.lanes=d,UN(l,d)}}function Ky(l,c){var d=l.updateQueue,g=l.alternate;if(g!==null&&(g=g.updateQueue,d===g)){var v=null,w=null;if(d=d.firstBaseUpdate,d!==null){do{var A={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};w===null?v=w=A:w=w.next=A,d=d.next}while(d!==null);w===null?v=w=c:w=w.next=c}else v=w=c;d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:w,shared:g.shared,callbacks:g.callbacks},l.updateQueue=d;return}l=d.lastBaseUpdate,l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=c}var Yy=!1;function wu(){if(Yy){var l=Co;if(l!==null)throw l}}function Su(l,c,d,g){Yy=!1;var v=l.updateQueue;Ja=!1;var w=v.firstBaseUpdate,A=v.lastBaseUpdate,B=v.shared.pending;if(B!==null){v.shared.pending=null;var F=B,ne=F.next;F.next=null,A===null?w=ne:A.next=ne,A=F;var ce=l.alternate;ce!==null&&(ce=ce.updateQueue,B=ce.lastBaseUpdate,B!==A&&(B===null?ce.firstBaseUpdate=ne:B.next=ne,ce.lastBaseUpdate=F))}if(w!==null){var de=v.baseState;A=0,ce=ne=F=null,B=w;do{var ie=B.lane&-536870913,se=ie!==B.lane;if(se?(Ve&ie)===ie:(g&ie)===ie){ie!==0&&ie===No&&(Yy=!0),ce!==null&&(ce=ce.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var Se=l,Pe=B;ie=c;var st=d;switch(Pe.tag){case 1:if(Se=Pe.payload,typeof Se=="function"){de=Se.call(st,de,ie);break e}de=Se;break e;case 3:Se.flags=Se.flags&-65537|128;case 0:if(Se=Pe.payload,ie=typeof Se=="function"?Se.call(st,de,ie):Se,ie==null)break e;de=p({},de,ie);break e;case 2:Ja=!0}}ie=B.callback,ie!==null&&(l.flags|=64,se&&(l.flags|=8192),se=v.callbacks,se===null?v.callbacks=[ie]:se.push(ie))}else se={lane:ie,tag:B.tag,payload:B.payload,callback:B.callback,next:null},ce===null?(ne=ce=se,F=de):ce=ce.next=se,A|=ie;if(B=B.next,B===null){if(B=v.shared.pending,B===null)break;se=B,B=se.next,se.next=null,v.lastBaseUpdate=se,v.shared.pending=null}}while(!0);ce===null&&(F=de),v.baseState=F,v.firstBaseUpdate=ne,v.lastBaseUpdate=ce,w===null&&(v.shared.lanes=0),ss|=A,l.lanes=A,l.memoizedState=de}}function QC(l,c){if(typeof l!="function")throw Error(r(191,l));l.call(c)}function XC(l,c){var d=l.callbacks;if(d!==null)for(l.callbacks=null,l=0;l<d.length;l++)QC(d[l],c)}var Ao=M(null),ph=M(0);function ZC(l,c){l=ma,te(ph,l),te(Ao,c),ma=l|c.baseLanes}function Qy(){te(ph,ma),te(Ao,Ao.current)}function Xy(){ma=ph.current,$(Ao),$(ph)}var mr=M(null),Br=null;function ns(l){var c=l.alternate;te(_t,_t.current&1),te(mr,l),Br===null&&(c===null||Ao.current!==null||c.memoizedState!==null)&&(Br=l)}function Zy(l){te(_t,_t.current),te(mr,l),Br===null&&(Br=l)}function JC(l){l.tag===22?(te(_t,_t.current),te(mr,l),Br===null&&(Br=l)):rs()}function rs(){te(_t,_t.current),te(mr,mr.current)}function pr(l){$(mr),Br===l&&(Br=null),$(_t)}var _t=M(0);function gh(l){for(var c=l;c!==null;){if(c.tag===13){var d=c.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||iv(d)||av(d)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var sa=0,ze=null,it=null,It=null,yh=!1,Eo=!1,ul=!1,xh=0,ju=0,To=null,k9=0;function Ot(){throw Error(r(321))}function Jy(l,c){if(c===null)return!1;for(var d=0;d<c.length&&d<l.length;d++)if(!dr(l[d],c[d]))return!1;return!0}function ex(l,c,d,g,v,w){return sa=w,ze=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=l===null||l.memoizedState===null?Lk:px,ul=!1,w=d(g,v),ul=!1,Eo&&(w=tk(c,d,g,v)),ek(l),w}function ek(l){V.H=ku;var c=it!==null&&it.next!==null;if(sa=0,It=it=ze=null,yh=!1,ju=0,To=null,c)throw Error(r(300));l===null||Ut||(l=l.dependencies,l!==null&&oh(l)&&(Ut=!0))}function tk(l,c,d,g){ze=l;var v=0;do{if(Eo&&(To=null),ju=0,Eo=!1,25<=v)throw Error(r(301));if(v+=1,It=it=null,l.updateQueue!=null){var w=l.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}V.H=Bk,w=c(d,g)}while(Eo);return w}function O9(){var l=V.H,c=l.useState()[0];return c=typeof c.then=="function"?Nu(c):c,l=l.useState()[0],(it!==null?it.memoizedState:null)!==l&&(ze.flags|=1024),c}function tx(){var l=xh!==0;return xh=0,l}function nx(l,c,d){c.updateQueue=l.updateQueue,c.flags&=-2053,l.lanes&=~d}function rx(l){if(yh){for(l=l.memoizedState;l!==null;){var c=l.queue;c!==null&&(c.pending=null),l=l.next}yh=!1}sa=0,It=it=ze=null,Eo=!1,ju=xh=0,To=null}function Pn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?ze.memoizedState=It=l:It=It.next=l,It}function Dt(){if(it===null){var l=ze.alternate;l=l!==null?l.memoizedState:null}else l=it.next;var c=It===null?ze.memoizedState:It.next;if(c!==null)It=c,it=l;else{if(l===null)throw ze.alternate===null?Error(r(467)):Error(r(310));it=l,l={memoizedState:it.memoizedState,baseState:it.baseState,baseQueue:it.baseQueue,queue:it.queue,next:null},It===null?ze.memoizedState=It=l:It=It.next=l}return It}function vh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Nu(l){var c=ju;return ju+=1,To===null&&(To=[]),l=FC(To,l,c),c=ze,(It===null?c.memoizedState:It.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?Lk:px),l}function bh(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Nu(l);if(l.$$typeof===C)return pn(l)}throw Error(r(438,String(l)))}function ix(l){var c=null,d=ze.updateQueue;if(d!==null&&(c=d.memoCache),c==null){var g=ze.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(v){return v.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),d===null&&(d=vh(),ze.updateQueue=d),d.memoCache=c,d=c.data[c.index],d===void 0)for(d=c.data[c.index]=Array(l),g=0;g<l;g++)d[g]=q;return c.index++,d}function la(l,c){return typeof c=="function"?c(l):c}function wh(l){var c=Dt();return ax(c,it,l)}function ax(l,c,d){var g=l.queue;if(g===null)throw Error(r(311));g.lastRenderedReducer=d;var v=l.baseQueue,w=g.pending;if(w!==null){if(v!==null){var A=v.next;v.next=w.next,w.next=A}c.baseQueue=v=w,g.pending=null}if(w=l.baseState,v===null)l.memoizedState=w;else{c=v.next;var B=A=null,F=null,ne=c,ce=!1;do{var de=ne.lane&-536870913;if(de!==ne.lane?(Ve&de)===de:(sa&de)===de){var ie=ne.revertLane;if(ie===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null}),de===No&&(ce=!0);else if((sa&ie)===ie){ne=ne.next,ie===No&&(ce=!0);continue}else de={lane:0,revertLane:ne.revertLane,gesture:null,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(B=F=de,A=w):F=F.next=de,ze.lanes|=ie,ss|=ie;de=ne.action,ul&&d(w,de),w=ne.hasEagerState?ne.eagerState:d(w,de)}else ie={lane:de,revertLane:ne.revertLane,gesture:ne.gesture,action:ne.action,hasEagerState:ne.hasEagerState,eagerState:ne.eagerState,next:null},F===null?(B=F=ie,A=w):F=F.next=ie,ze.lanes|=de,ss|=de;ne=ne.next}while(ne!==null&&ne!==c);if(F===null?A=w:F.next=B,!dr(w,l.memoizedState)&&(Ut=!0,ce&&(d=Co,d!==null)))throw d;l.memoizedState=w,l.baseState=A,l.baseQueue=F,g.lastRenderedState=w}return v===null&&(g.lanes=0),[l.memoizedState,g.dispatch]}function sx(l){var c=Dt(),d=c.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=l;var g=d.dispatch,v=d.pending,w=c.memoizedState;if(v!==null){d.pending=null;var A=v=v.next;do w=l(w,A.action),A=A.next;while(A!==v);dr(w,c.memoizedState)||(Ut=!0),c.memoizedState=w,c.baseQueue===null&&(c.baseState=w),d.lastRenderedState=w}return[w,g]}function nk(l,c,d){var g=ze,v=Dt(),w=We;if(w){if(d===void 0)throw Error(r(407));d=d()}else d=c();var A=!dr((it||v).memoizedState,d);if(A&&(v.memoizedState=d,Ut=!0),v=v.queue,cx(ak.bind(null,g,v,l),[l]),v.getSnapshot!==c||A||It!==null&&It.memoizedState.tag&1){if(g.flags|=2048,Mo(9,{destroy:void 0},ik.bind(null,g,v,d,c),null),ct===null)throw Error(r(349));w||(sa&127)!==0||rk(g,c,d)}return d}function rk(l,c,d){l.flags|=16384,l={getSnapshot:c,value:d},c=ze.updateQueue,c===null?(c=vh(),ze.updateQueue=c,c.stores=[l]):(d=c.stores,d===null?c.stores=[l]:d.push(l))}function ik(l,c,d,g){c.value=d,c.getSnapshot=g,sk(c)&&lk(l)}function ak(l,c,d){return d(function(){sk(c)&&lk(l)})}function sk(l){var c=l.getSnapshot;l=l.value;try{var d=c();return!dr(l,d)}catch{return!0}}function lk(l){var c=tl(l,2);c!==null&&Yn(c,l,2)}function lx(l){var c=Pn();if(typeof l=="function"){var d=l;if(l=d(),ul){Wa(!0);try{d()}finally{Wa(!1)}}}return c.memoizedState=c.baseState=l,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:l},c}function ok(l,c,d,g){return l.baseState=d,ax(l,it,typeof g=="function"?g:la)}function A9(l,c,d,g,v){if(Nh(l))throw Error(r(485));if(l=c.action,l!==null){var w={payload:v,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){w.listeners.push(A)}};V.T!==null?d(!0):w.isTransition=!1,g(w),d=c.pending,d===null?(w.next=c.pending=w,ck(c,w)):(w.next=d.next,c.pending=d.next=w)}}function ck(l,c){var d=c.action,g=c.payload,v=l.state;if(c.isTransition){var w=V.T,A={};V.T=A;try{var B=d(v,g),F=V.S;F!==null&&F(A,B),uk(l,c,B)}catch(ne){ox(l,c,ne)}finally{w!==null&&A.types!==null&&(w.types=A.types),V.T=w}}else try{w=d(v,g),uk(l,c,w)}catch(ne){ox(l,c,ne)}}function uk(l,c,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(g){fk(l,c,g)},function(g){return ox(l,c,g)}):fk(l,c,d)}function fk(l,c,d){c.status="fulfilled",c.value=d,dk(c),l.state=d,c=l.pending,c!==null&&(d=c.next,d===c?l.pending=null:(d=d.next,c.next=d,ck(l,d)))}function ox(l,c,d){var g=l.pending;if(l.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=d,dk(c),c=c.next;while(c!==g)}l.action=null}function dk(l){l=l.listeners;for(var c=0;c<l.length;c++)(0,l[c])()}function hk(l,c){return c}function mk(l,c){if(We){var d=ct.formState;if(d!==null){e:{var g=ze;if(We){if(pt){t:{for(var v=pt,w=Lr;v.nodeType!==8;){if(!w){v=null;break t}if(v=zr(v.nextSibling),v===null){v=null;break t}}w=v.data,v=w==="F!"||w==="F"?v:null}if(v){pt=zr(v.nextSibling),g=v.data==="F!";break e}}Xa(g)}g=!1}g&&(c=d[0])}}return d=Pn(),d.memoizedState=d.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:hk,lastRenderedState:c},d.queue=g,d=Dk.bind(null,ze,g),g.dispatch=d,g=lx(!1),w=mx.bind(null,ze,!1,g.queue),g=Pn(),v={state:c,dispatch:null,action:l,pending:null},g.queue=v,d=A9.bind(null,ze,v,w,d),v.dispatch=d,g.memoizedState=l,[c,d,!1]}function pk(l){var c=Dt();return gk(c,it,l)}function gk(l,c,d){if(c=ax(l,c,hk)[0],l=wh(la)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Nu(c)}catch(A){throw A===ko?fh:A}else g=c;c=Dt();var v=c.queue,w=v.dispatch;return d!==c.memoizedState&&(ze.flags|=2048,Mo(9,{destroy:void 0},E9.bind(null,v,d),null)),[g,w,l]}function E9(l,c){l.action=c}function yk(l){var c=Dt(),d=it;if(d!==null)return gk(c,d,l);Dt(),c=c.memoizedState,d=Dt();var g=d.queue.dispatch;return d.memoizedState=l,[c,g,!1]}function Mo(l,c,d,g){return l={tag:l,create:d,deps:g,inst:c,next:null},c=ze.updateQueue,c===null&&(c=vh(),ze.updateQueue=c),d=c.lastEffect,d===null?c.lastEffect=l.next=l:(g=d.next,d.next=l,l.next=g,c.lastEffect=l),l}function xk(){return Dt().memoizedState}function Sh(l,c,d,g){var v=Pn();ze.flags|=l,v.memoizedState=Mo(1|c,{destroy:void 0},d,g===void 0?null:g)}function jh(l,c,d,g){var v=Dt();g=g===void 0?null:g;var w=v.memoizedState.inst;it!==null&&g!==null&&Jy(g,it.memoizedState.deps)?v.memoizedState=Mo(c,w,d,g):(ze.flags|=l,v.memoizedState=Mo(1|c,w,d,g))}function vk(l,c){Sh(8390656,8,l,c)}function cx(l,c){jh(2048,8,l,c)}function T9(l){ze.flags|=4;var c=ze.updateQueue;if(c===null)c=vh(),ze.updateQueue=c,c.events=[l];else{var d=c.events;d===null?c.events=[l]:d.push(l)}}function bk(l){var c=Dt().memoizedState;return T9({ref:c,nextImpl:l}),function(){if((et&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}function wk(l,c){return jh(4,2,l,c)}function Sk(l,c){return jh(4,4,l,c)}function jk(l,c){if(typeof c=="function"){l=l();var d=c(l);return function(){typeof d=="function"?d():c(null)}}if(c!=null)return l=l(),c.current=l,function(){c.current=null}}function Nk(l,c,d){d=d!=null?d.concat([l]):null,jh(4,4,jk.bind(null,c,l),d)}function ux(){}function Ck(l,c){var d=Dt();c=c===void 0?null:c;var g=d.memoizedState;return c!==null&&Jy(c,g[1])?g[0]:(d.memoizedState=[l,c],l)}function kk(l,c){var d=Dt();c=c===void 0?null:c;var g=d.memoizedState;if(c!==null&&Jy(c,g[1]))return g[0];if(g=l(),ul){Wa(!0);try{l()}finally{Wa(!1)}}return d.memoizedState=[g,c],g}function fx(l,c,d){return d===void 0||(sa&1073741824)!==0&&(Ve&261930)===0?l.memoizedState=c:(l.memoizedState=d,l=OO(),ze.lanes|=l,ss|=l,d)}function Ok(l,c,d,g){return dr(d,c)?d:Ao.current!==null?(l=fx(l,d,g),dr(l,c)||(Ut=!0),l):(sa&42)===0||(sa&1073741824)!==0&&(Ve&261930)===0?(Ut=!0,l.memoizedState=d):(l=OO(),ze.lanes|=l,ss|=l,c)}function Ak(l,c,d,g,v){var w=Y.p;Y.p=w!==0&&8>w?w:8;var A=V.T,B={};V.T=B,mx(l,!1,c,d);try{var F=v(),ne=V.S;if(ne!==null&&ne(B,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ce=C9(F,g);Cu(l,c,ce,xr(l))}else Cu(l,c,g,xr(l))}catch(de){Cu(l,c,{then:function(){},status:"rejected",reason:de},xr())}finally{Y.p=w,A!==null&&B.types!==null&&(A.types=B.types),V.T=A}}function M9(){}function dx(l,c,d,g){if(l.tag!==5)throw Error(r(476));var v=Ek(l).queue;Ak(l,v,c,J,d===null?M9:function(){return Tk(l),d(g)})}function Ek(l){var c=l.memoizedState;if(c!==null)return c;c={memoizedState:J,baseState:J,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:J},next:null};var d={};return c.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:d},next:null},l.memoizedState=c,l=l.alternate,l!==null&&(l.memoizedState=c),c}function Tk(l){var c=Ek(l);c.next===null&&(c=l.alternate.memoizedState),Cu(l,c.next.queue,{},xr())}function hx(){return pn(qu)}function Mk(){return Dt().memoizedState}function _k(){return Dt().memoizedState}function _9(l){for(var c=l.return;c!==null;){switch(c.tag){case 24:case 3:var d=xr();l=es(d);var g=ts(c,l,d);g!==null&&(Yn(g,c,d),bu(g,c,d)),c={cache:qy()},l.payload=c;return}c=c.return}}function D9(l,c,d){var g=xr();d={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null},Nh(l)?Pk(c,d):(d=My(l,c,d,g),d!==null&&(Yn(d,l,g),Rk(d,c,g)))}function Dk(l,c,d){var g=xr();Cu(l,c,d,g)}function Cu(l,c,d,g){var v={lane:g,revertLane:0,gesture:null,action:d,hasEagerState:!1,eagerState:null,next:null};if(Nh(l))Pk(c,v);else{var w=l.alternate;if(l.lanes===0&&(w===null||w.lanes===0)&&(w=c.lastRenderedReducer,w!==null))try{var A=c.lastRenderedState,B=w(A,d);if(v.hasEagerState=!0,v.eagerState=B,dr(B,A))return ih(l,c,v,0),ct===null&&rh(),!1}catch{}if(d=My(l,c,v,g),d!==null)return Yn(d,l,g),Rk(d,c,g),!0}return!1}function mx(l,c,d,g){if(g={lane:2,revertLane:Wx(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Nh(l)){if(c)throw Error(r(479))}else c=My(l,d,g,2),c!==null&&Yn(c,l,2)}function Nh(l){var c=l.alternate;return l===ze||c!==null&&c===ze}function Pk(l,c){Eo=yh=!0;var d=l.pending;d===null?c.next=c:(c.next=d.next,d.next=c),l.pending=c}function Rk(l,c,d){if((d&4194048)!==0){var g=c.lanes;g&=l.pendingLanes,d|=g,c.lanes=d,UN(l,d)}}var ku={readContext:pn,use:bh,useCallback:Ot,useContext:Ot,useEffect:Ot,useImperativeHandle:Ot,useLayoutEffect:Ot,useInsertionEffect:Ot,useMemo:Ot,useReducer:Ot,useRef:Ot,useState:Ot,useDebugValue:Ot,useDeferredValue:Ot,useTransition:Ot,useSyncExternalStore:Ot,useId:Ot,useHostTransitionStatus:Ot,useFormState:Ot,useActionState:Ot,useOptimistic:Ot,useMemoCache:Ot,useCacheRefresh:Ot};ku.useEffectEvent=Ot;var Lk={readContext:pn,use:bh,useCallback:function(l,c){return Pn().memoizedState=[l,c===void 0?null:c],l},useContext:pn,useEffect:vk,useImperativeHandle:function(l,c,d){d=d!=null?d.concat([l]):null,Sh(4194308,4,jk.bind(null,c,l),d)},useLayoutEffect:function(l,c){return Sh(4194308,4,l,c)},useInsertionEffect:function(l,c){Sh(4,2,l,c)},useMemo:function(l,c){var d=Pn();c=c===void 0?null:c;var g=l();if(ul){Wa(!0);try{l()}finally{Wa(!1)}}return d.memoizedState=[g,c],g},useReducer:function(l,c,d){var g=Pn();if(d!==void 0){var v=d(c);if(ul){Wa(!0);try{d(c)}finally{Wa(!1)}}}else v=c;return g.memoizedState=g.baseState=v,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:v},g.queue=l,l=l.dispatch=D9.bind(null,ze,l),[g.memoizedState,l]},useRef:function(l){var c=Pn();return l={current:l},c.memoizedState=l},useState:function(l){l=lx(l);var c=l.queue,d=Dk.bind(null,ze,c);return c.dispatch=d,[l.memoizedState,d]},useDebugValue:ux,useDeferredValue:function(l,c){var d=Pn();return fx(d,l,c)},useTransition:function(){var l=lx(!1);return l=Ak.bind(null,ze,l.queue,!0,!1),Pn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,c,d){var g=ze,v=Pn();if(We){if(d===void 0)throw Error(r(407));d=d()}else{if(d=c(),ct===null)throw Error(r(349));(Ve&127)!==0||rk(g,c,d)}v.memoizedState=d;var w={value:d,getSnapshot:c};return v.queue=w,vk(ak.bind(null,g,w,l),[l]),g.flags|=2048,Mo(9,{destroy:void 0},ik.bind(null,g,w,d,c),null),d},useId:function(){var l=Pn(),c=ct.identifierPrefix;if(We){var d=wi,g=bi;d=(g&~(1<<32-fr(g)-1)).toString(32)+d,c="_"+c+"R_"+d,d=xh++,0<d&&(c+="H"+d.toString(32)),c+="_"}else d=k9++,c="_"+c+"r_"+d.toString(32)+"_";return l.memoizedState=c},useHostTransitionStatus:hx,useFormState:mk,useActionState:mk,useOptimistic:function(l){var c=Pn();c.memoizedState=c.baseState=l;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=d,c=mx.bind(null,ze,!0,d),d.dispatch=c,[l,c]},useMemoCache:ix,useCacheRefresh:function(){return Pn().memoizedState=_9.bind(null,ze)},useEffectEvent:function(l){var c=Pn(),d={impl:l};return c.memoizedState=d,function(){if((et&2)!==0)throw Error(r(440));return d.impl.apply(void 0,arguments)}}},px={readContext:pn,use:bh,useCallback:Ck,useContext:pn,useEffect:cx,useImperativeHandle:Nk,useInsertionEffect:wk,useLayoutEffect:Sk,useMemo:kk,useReducer:wh,useRef:xk,useState:function(){return wh(la)},useDebugValue:ux,useDeferredValue:function(l,c){var d=Dt();return Ok(d,it.memoizedState,l,c)},useTransition:function(){var l=wh(la)[0],c=Dt().memoizedState;return[typeof l=="boolean"?l:Nu(l),c]},useSyncExternalStore:nk,useId:Mk,useHostTransitionStatus:hx,useFormState:pk,useActionState:pk,useOptimistic:function(l,c){var d=Dt();return ok(d,it,l,c)},useMemoCache:ix,useCacheRefresh:_k};px.useEffectEvent=bk;var Bk={readContext:pn,use:bh,useCallback:Ck,useContext:pn,useEffect:cx,useImperativeHandle:Nk,useInsertionEffect:wk,useLayoutEffect:Sk,useMemo:kk,useReducer:sx,useRef:xk,useState:function(){return sx(la)},useDebugValue:ux,useDeferredValue:function(l,c){var d=Dt();return it===null?fx(d,l,c):Ok(d,it.memoizedState,l,c)},useTransition:function(){var l=sx(la)[0],c=Dt().memoizedState;return[typeof l=="boolean"?l:Nu(l),c]},useSyncExternalStore:nk,useId:Mk,useHostTransitionStatus:hx,useFormState:yk,useActionState:yk,useOptimistic:function(l,c){var d=Dt();return it!==null?ok(d,it,l,c):(d.baseState=l,[l,d.queue.dispatch])},useMemoCache:ix,useCacheRefresh:_k};Bk.useEffectEvent=bk;function gx(l,c,d,g){c=l.memoizedState,d=d(g,c),d=d==null?c:p({},c,d),l.memoizedState=d,l.lanes===0&&(l.updateQueue.baseState=d)}var yx={enqueueSetState:function(l,c,d){l=l._reactInternals;var g=xr(),v=es(g);v.payload=c,d!=null&&(v.callback=d),c=ts(l,v,g),c!==null&&(Yn(c,l,g),bu(c,l,g))},enqueueReplaceState:function(l,c,d){l=l._reactInternals;var g=xr(),v=es(g);v.tag=1,v.payload=c,d!=null&&(v.callback=d),c=ts(l,v,g),c!==null&&(Yn(c,l,g),bu(c,l,g))},enqueueForceUpdate:function(l,c){l=l._reactInternals;var d=xr(),g=es(d);g.tag=2,c!=null&&(g.callback=c),c=ts(l,g,d),c!==null&&(Yn(c,l,d),bu(c,l,d))}};function zk(l,c,d,g,v,w,A){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(g,w,A):c.prototype&&c.prototype.isPureReactComponent?!du(d,g)||!du(v,w):!0}function Ik(l,c,d,g){l=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(d,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(d,g),c.state!==l&&yx.enqueueReplaceState(c,c.state,null)}function fl(l,c){var d=c;if("ref"in c){d={};for(var g in c)g!=="ref"&&(d[g]=c[g])}if(l=l.defaultProps){d===c&&(d=p({},d));for(var v in l)d[v]===void 0&&(d[v]=l[v])}return d}function Uk(l){nh(l)}function $k(l){console.error(l)}function qk(l){nh(l)}function Ch(l,c){try{var d=l.onUncaughtError;d(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function Hk(l,c,d){try{var g=l.onCaughtError;g(d.value,{componentStack:d.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function xx(l,c,d){return d=es(d),d.tag=3,d.payload={element:null},d.callback=function(){Ch(l,c)},d}function Vk(l){return l=es(l),l.tag=3,l}function Fk(l,c,d,g){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var w=g.value;l.payload=function(){return v(w)},l.callback=function(){Hk(c,d,g)}}var A=d.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(l.callback=function(){Hk(c,d,g),typeof v!="function"&&(ls===null?ls=new Set([this]):ls.add(this));var B=g.stack;this.componentDidCatch(g.value,{componentStack:B!==null?B:""})})}function P9(l,c,d,g,v){if(d.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=d.alternate,c!==null&&jo(c,d,v,!0),d=mr.current,d!==null){switch(d.tag){case 31:case 13:return Br===null?Bh():d.alternate===null&&At===0&&(At=3),d.flags&=-257,d.flags|=65536,d.lanes=v,g===dh?d.flags|=16384:(c=d.updateQueue,c===null?d.updateQueue=new Set([g]):c.add(g),Hx(l,g,v)),!1;case 22:return d.flags|=65536,g===dh?d.flags|=16384:(c=d.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},d.updateQueue=c):(d=c.retryQueue,d===null?c.retryQueue=new Set([g]):d.add(g)),Hx(l,g,v)),!1}throw Error(r(435,d.tag))}return Hx(l,g,v),Bh(),!1}if(We)return c=mr.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=v,g!==By&&(l=Error(r(422),{cause:g}),pu(Dr(l,d)))):(g!==By&&(c=Error(r(423),{cause:g}),pu(Dr(c,d))),l=l.current.alternate,l.flags|=65536,v&=-v,l.lanes|=v,g=Dr(g,d),v=xx(l.stateNode,g,v),Ky(l,v),At!==4&&(At=2)),!1;var w=Error(r(520),{cause:g});if(w=Dr(w,d),Pu===null?Pu=[w]:Pu.push(w),At!==4&&(At=2),c===null)return!0;g=Dr(g,d),d=c;do{switch(d.tag){case 3:return d.flags|=65536,l=v&-v,d.lanes|=l,l=xx(d.stateNode,g,l),Ky(d,l),!1;case 1:if(c=d.type,w=d.stateNode,(d.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ls===null||!ls.has(w))))return d.flags|=65536,v&=-v,d.lanes|=v,v=Vk(v),Fk(v,l,d,g),Ky(d,v),!1}d=d.return}while(d!==null);return!1}var vx=Error(r(461)),Ut=!1;function gn(l,c,d,g){c.child=l===null?YC(c,null,d,g):cl(c,l.child,d,g)}function Wk(l,c,d,g,v){d=d.render;var w=c.ref;if("ref"in g){var A={};for(var B in g)B!=="ref"&&(A[B]=g[B])}else A=g;return al(c),g=ex(l,c,d,A,w,v),B=tx(),l!==null&&!Ut?(nx(l,c,v),oa(l,c,v)):(We&&B&&Ry(c),c.flags|=1,gn(l,c,g,v),c.child)}function Gk(l,c,d,g,v){if(l===null){var w=d.type;return typeof w=="function"&&!_y(w)&&w.defaultProps===void 0&&d.compare===null?(c.tag=15,c.type=w,Kk(l,c,w,g,v)):(l=sh(d.type,null,g,c,c.mode,v),l.ref=c.ref,l.return=c,c.child=l)}if(w=l.child,!Ox(l,v)){var A=w.memoizedProps;if(d=d.compare,d=d!==null?d:du,d(A,g)&&l.ref===c.ref)return oa(l,c,v)}return c.flags|=1,l=na(w,g),l.ref=c.ref,l.return=c,c.child=l}function Kk(l,c,d,g,v){if(l!==null){var w=l.memoizedProps;if(du(w,g)&&l.ref===c.ref)if(Ut=!1,c.pendingProps=g=w,Ox(l,v))(l.flags&131072)!==0&&(Ut=!0);else return c.lanes=l.lanes,oa(l,c,v)}return bx(l,c,d,g,v)}function Yk(l,c,d,g){var v=g.children,w=l!==null?l.memoizedState:null;if(l===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(w=w!==null?w.baseLanes|d:d,l!==null){for(g=c.child=l.child,v=0;g!==null;)v=v|g.lanes|g.childLanes,g=g.sibling;g=v&~w}else g=0,c.child=null;return Qk(l,c,w,d,g)}if((d&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},l!==null&&uh(c,w!==null?w.cachePool:null),w!==null?ZC(c,w):Qy(),JC(c);else return g=c.lanes=536870912,Qk(l,c,w!==null?w.baseLanes|d:d,d,g)}else w!==null?(uh(c,w.cachePool),ZC(c,w),rs(),c.memoizedState=null):(l!==null&&uh(c,null),Qy(),rs());return gn(l,c,v,d),c.child}function Ou(l,c){return l!==null&&l.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function Qk(l,c,d,g,v){var w=Vy();return w=w===null?null:{parent:zt._currentValue,pool:w},c.memoizedState={baseLanes:d,cachePool:w},l!==null&&uh(c,null),Qy(),JC(c),l!==null&&jo(l,c,g,!0),c.childLanes=v,null}function kh(l,c){return c=Ah({mode:c.mode,children:c.children},l.mode),c.ref=l.ref,l.child=c,c.return=l,c}function Xk(l,c,d){return cl(c,l.child,null,d),l=kh(c,c.pendingProps),l.flags|=2,pr(c),c.memoizedState=null,l}function R9(l,c,d){var g=c.pendingProps,v=(c.flags&128)!==0;if(c.flags&=-129,l===null){if(We){if(g.mode==="hidden")return l=kh(c,g),c.lanes=536870912,Ou(null,l);if(Zy(c),(l=pt)?(l=cA(l,Lr),l=l!==null&&l.data==="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:Ya!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},d=PC(l),d.return=c,c.child=d,mn=c,pt=null)):l=null,l===null)throw Xa(c);return c.lanes=536870912,null}return kh(c,g)}var w=l.memoizedState;if(w!==null){var A=w.dehydrated;if(Zy(c),v)if(c.flags&256)c.flags&=-257,c=Xk(l,c,d);else if(c.memoizedState!==null)c.child=l.child,c.flags|=128,c=null;else throw Error(r(558));else if(Ut||jo(l,c,d,!1),v=(d&l.childLanes)!==0,Ut||v){if(g=ct,g!==null&&(A=$N(g,d),A!==0&&A!==w.retryLane))throw w.retryLane=A,tl(l,A),Yn(g,l,A),vx;Bh(),c=Xk(l,c,d)}else l=w.treeContext,pt=zr(A.nextSibling),mn=c,We=!0,Qa=null,Lr=!1,l!==null&&BC(c,l),c=kh(c,g),c.flags|=4096;return c}return l=na(l.child,{mode:g.mode,children:g.children}),l.ref=c.ref,c.child=l,l.return=c,l}function Oh(l,c){var d=c.ref;if(d===null)l!==null&&l.ref!==null&&(c.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(l===null||l.ref!==d)&&(c.flags|=4194816)}}function bx(l,c,d,g,v){return al(c),d=ex(l,c,d,g,void 0,v),g=tx(),l!==null&&!Ut?(nx(l,c,v),oa(l,c,v)):(We&&g&&Ry(c),c.flags|=1,gn(l,c,d,v),c.child)}function Zk(l,c,d,g,v,w){return al(c),c.updateQueue=null,d=tk(c,g,d,v),ek(l),g=tx(),l!==null&&!Ut?(nx(l,c,w),oa(l,c,w)):(We&&g&&Ry(c),c.flags|=1,gn(l,c,d,w),c.child)}function Jk(l,c,d,g,v){if(al(c),c.stateNode===null){var w=vo,A=d.contextType;typeof A=="object"&&A!==null&&(w=pn(A)),w=new d(g,w),c.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=yx,c.stateNode=w,w._reactInternals=c,w=c.stateNode,w.props=g,w.state=c.memoizedState,w.refs={},Wy(c),A=d.contextType,w.context=typeof A=="object"&&A!==null?pn(A):vo,w.state=c.memoizedState,A=d.getDerivedStateFromProps,typeof A=="function"&&(gx(c,d,A,g),w.state=c.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(A=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),A!==w.state&&yx.enqueueReplaceState(w,w.state,null),Su(c,g,w,v),wu(),w.state=c.memoizedState),typeof w.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(l===null){w=c.stateNode;var B=c.memoizedProps,F=fl(d,B);w.props=F;var ne=w.context,ce=d.contextType;A=vo,typeof ce=="object"&&ce!==null&&(A=pn(ce));var de=d.getDerivedStateFromProps;ce=typeof de=="function"||typeof w.getSnapshotBeforeUpdate=="function",B=c.pendingProps!==B,ce||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(B||ne!==A)&&Ik(c,w,g,A),Ja=!1;var ie=c.memoizedState;w.state=ie,Su(c,g,w,v),wu(),ne=c.memoizedState,B||ie!==ne||Ja?(typeof de=="function"&&(gx(c,d,de,g),ne=c.memoizedState),(F=Ja||zk(c,d,F,g,ie,ne,A))?(ce||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(c.flags|=4194308)):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=ne),w.props=g,w.state=ne,w.context=A,g=F):(typeof w.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{w=c.stateNode,Gy(l,c),A=c.memoizedProps,ce=fl(d,A),w.props=ce,de=c.pendingProps,ie=w.context,ne=d.contextType,F=vo,typeof ne=="object"&&ne!==null&&(F=pn(ne)),B=d.getDerivedStateFromProps,(ne=typeof B=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(A!==de||ie!==F)&&Ik(c,w,g,F),Ja=!1,ie=c.memoizedState,w.state=ie,Su(c,g,w,v),wu();var se=c.memoizedState;A!==de||ie!==se||Ja||l!==null&&l.dependencies!==null&&oh(l.dependencies)?(typeof B=="function"&&(gx(c,d,B,g),se=c.memoizedState),(ce=Ja||zk(c,d,ce,g,ie,se,F)||l!==null&&l.dependencies!==null&&oh(l.dependencies))?(ne||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(g,se,F),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(g,se,F)),typeof w.componentDidUpdate=="function"&&(c.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof w.componentDidUpdate!="function"||A===l.memoizedProps&&ie===l.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===l.memoizedProps&&ie===l.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=se),w.props=g,w.state=se,w.context=F,g=ce):(typeof w.componentDidUpdate!="function"||A===l.memoizedProps&&ie===l.memoizedState||(c.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||A===l.memoizedProps&&ie===l.memoizedState||(c.flags|=1024),g=!1)}return w=g,Oh(l,c),g=(c.flags&128)!==0,w||g?(w=c.stateNode,d=g&&typeof d.getDerivedStateFromError!="function"?null:w.render(),c.flags|=1,l!==null&&g?(c.child=cl(c,l.child,null,v),c.child=cl(c,null,d,v)):gn(l,c,d,v),c.memoizedState=w.state,l=c.child):l=oa(l,c,v),l}function eO(l,c,d,g){return rl(),c.flags|=256,gn(l,c,d,g),c.child}var wx={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sx(l){return{baseLanes:l,cachePool:HC()}}function jx(l,c,d){return l=l!==null?l.childLanes&~d:0,c&&(l|=yr),l}function tO(l,c,d){var g=c.pendingProps,v=!1,w=(c.flags&128)!==0,A;if((A=w)||(A=l!==null&&l.memoizedState===null?!1:(_t.current&2)!==0),A&&(v=!0,c.flags&=-129),A=(c.flags&32)!==0,c.flags&=-33,l===null){if(We){if(v?ns(c):rs(),(l=pt)?(l=cA(l,Lr),l=l!==null&&l.data!=="&"?l:null,l!==null&&(c.memoizedState={dehydrated:l,treeContext:Ya!==null?{id:bi,overflow:wi}:null,retryLane:536870912,hydrationErrors:null},d=PC(l),d.return=c,c.child=d,mn=c,pt=null)):l=null,l===null)throw Xa(c);return av(l)?c.lanes=32:c.lanes=536870912,null}var B=g.children;return g=g.fallback,v?(rs(),v=c.mode,B=Ah({mode:"hidden",children:B},v),g=nl(g,v,d,null),B.return=c,g.return=c,B.sibling=g,c.child=B,g=c.child,g.memoizedState=Sx(d),g.childLanes=jx(l,A,d),c.memoizedState=wx,Ou(null,g)):(ns(c),Nx(c,B))}var F=l.memoizedState;if(F!==null&&(B=F.dehydrated,B!==null)){if(w)c.flags&256?(ns(c),c.flags&=-257,c=Cx(l,c,d)):c.memoizedState!==null?(rs(),c.child=l.child,c.flags|=128,c=null):(rs(),B=g.fallback,v=c.mode,g=Ah({mode:"visible",children:g.children},v),B=nl(B,v,d,null),B.flags|=2,g.return=c,B.return=c,g.sibling=B,c.child=g,cl(c,l.child,null,d),g=c.child,g.memoizedState=Sx(d),g.childLanes=jx(l,A,d),c.memoizedState=wx,c=Ou(null,g));else if(ns(c),av(B)){if(A=B.nextSibling&&B.nextSibling.dataset,A)var ne=A.dgst;A=ne,g=Error(r(419)),g.stack="",g.digest=A,pu({value:g,source:null,stack:null}),c=Cx(l,c,d)}else if(Ut||jo(l,c,d,!1),A=(d&l.childLanes)!==0,Ut||A){if(A=ct,A!==null&&(g=$N(A,d),g!==0&&g!==F.retryLane))throw F.retryLane=g,tl(l,g),Yn(A,l,g),vx;iv(B)||Bh(),c=Cx(l,c,d)}else iv(B)?(c.flags|=192,c.child=l.child,c=null):(l=F.treeContext,pt=zr(B.nextSibling),mn=c,We=!0,Qa=null,Lr=!1,l!==null&&BC(c,l),c=Nx(c,g.children),c.flags|=4096);return c}return v?(rs(),B=g.fallback,v=c.mode,F=l.child,ne=F.sibling,g=na(F,{mode:"hidden",children:g.children}),g.subtreeFlags=F.subtreeFlags&65011712,ne!==null?B=na(ne,B):(B=nl(B,v,d,null),B.flags|=2),B.return=c,g.return=c,g.sibling=B,c.child=g,Ou(null,g),g=c.child,B=l.child.memoizedState,B===null?B=Sx(d):(v=B.cachePool,v!==null?(F=zt._currentValue,v=v.parent!==F?{parent:F,pool:F}:v):v=HC(),B={baseLanes:B.baseLanes|d,cachePool:v}),g.memoizedState=B,g.childLanes=jx(l,A,d),c.memoizedState=wx,Ou(l.child,g)):(ns(c),d=l.child,l=d.sibling,d=na(d,{mode:"visible",children:g.children}),d.return=c,d.sibling=null,l!==null&&(A=c.deletions,A===null?(c.deletions=[l],c.flags|=16):A.push(l)),c.child=d,c.memoizedState=null,d)}function Nx(l,c){return c=Ah({mode:"visible",children:c},l.mode),c.return=l,l.child=c}function Ah(l,c){return l=hr(22,l,null,c),l.lanes=0,l}function Cx(l,c,d){return cl(c,l.child,null,d),l=Nx(c,c.pendingProps.children),l.flags|=2,c.memoizedState=null,l}function nO(l,c,d){l.lanes|=c;var g=l.alternate;g!==null&&(g.lanes|=c),Uy(l.return,c,d)}function kx(l,c,d,g,v,w){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v,treeForkCount:w}:(A.isBackwards=c,A.rendering=null,A.renderingStartTime=0,A.last=g,A.tail=d,A.tailMode=v,A.treeForkCount=w)}function rO(l,c,d){var g=c.pendingProps,v=g.revealOrder,w=g.tail;g=g.children;var A=_t.current,B=(A&2)!==0;if(B?(A=A&1|2,c.flags|=128):A&=1,te(_t,A),gn(l,c,g,d),g=We?mu:0,!B&&l!==null&&(l.flags&128)!==0)e:for(l=c.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&nO(l,d,c);else if(l.tag===19)nO(l,d,c);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===c)break e;for(;l.sibling===null;){if(l.return===null||l.return===c)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(v){case"forwards":for(d=c.child,v=null;d!==null;)l=d.alternate,l!==null&&gh(l)===null&&(v=d),d=d.sibling;d=v,d===null?(v=c.child,c.child=null):(v=d.sibling,d.sibling=null),kx(c,!1,v,d,w,g);break;case"backwards":case"unstable_legacy-backwards":for(d=null,v=c.child,c.child=null;v!==null;){if(l=v.alternate,l!==null&&gh(l)===null){c.child=v;break}l=v.sibling,v.sibling=d,d=v,v=l}kx(c,!0,d,null,w,g);break;case"together":kx(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function oa(l,c,d){if(l!==null&&(c.dependencies=l.dependencies),ss|=c.lanes,(d&c.childLanes)===0)if(l!==null){if(jo(l,c,d,!1),(d&c.childLanes)===0)return null}else return null;if(l!==null&&c.child!==l.child)throw Error(r(153));if(c.child!==null){for(l=c.child,d=na(l,l.pendingProps),c.child=d,d.return=c;l.sibling!==null;)l=l.sibling,d=d.sibling=na(l,l.pendingProps),d.return=c;d.sibling=null}return c.child}function Ox(l,c){return(l.lanes&c)!==0?!0:(l=l.dependencies,!!(l!==null&&oh(l)))}function L9(l,c,d){switch(c.tag){case 3:Ce(c,c.stateNode.containerInfo),Za(c,zt,l.memoizedState.cache),rl();break;case 27:case 5:je(c);break;case 4:Ce(c,c.stateNode.containerInfo);break;case 10:Za(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,Zy(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(ns(c),c.flags|=128,null):(d&c.child.childLanes)!==0?tO(l,c,d):(ns(c),l=oa(l,c,d),l!==null?l.sibling:null);ns(c);break;case 19:var v=(l.flags&128)!==0;if(g=(d&c.childLanes)!==0,g||(jo(l,c,d,!1),g=(d&c.childLanes)!==0),v){if(g)return rO(l,c,d);c.flags|=128}if(v=c.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),te(_t,_t.current),g)break;return null;case 22:return c.lanes=0,Yk(l,c,d,c.pendingProps);case 24:Za(c,zt,l.memoizedState.cache)}return oa(l,c,d)}function iO(l,c,d){if(l!==null)if(l.memoizedProps!==c.pendingProps)Ut=!0;else{if(!Ox(l,d)&&(c.flags&128)===0)return Ut=!1,L9(l,c,d);Ut=(l.flags&131072)!==0}else Ut=!1,We&&(c.flags&1048576)!==0&&LC(c,mu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(l=ll(c.elementType),c.type=l,typeof l=="function")_y(l)?(g=fl(l,g),c.tag=1,c=Jk(null,c,l,g,d)):(c.tag=0,c=bx(null,c,l,g,d));else{if(l!=null){var v=l.$$typeof;if(v===_){c.tag=11,c=Wk(null,c,l,g,d);break e}else if(v===T){c.tag=14,c=Gk(null,c,l,g,d);break e}}throw c=X(l)||l,Error(r(306,c,""))}}return c;case 0:return bx(l,c,c.type,c.pendingProps,d);case 1:return g=c.type,v=fl(g,c.pendingProps),Jk(l,c,g,v,d);case 3:e:{if(Ce(c,c.stateNode.containerInfo),l===null)throw Error(r(387));g=c.pendingProps;var w=c.memoizedState;v=w.element,Gy(l,c),Su(c,g,null,d);var A=c.memoizedState;if(g=A.cache,Za(c,zt,g),g!==w.cache&&$y(c,[zt],d,!0),wu(),g=A.element,w.isDehydrated)if(w={element:g,isDehydrated:!1,cache:A.cache},c.updateQueue.baseState=w,c.memoizedState=w,c.flags&256){c=eO(l,c,g,d);break e}else if(g!==v){v=Dr(Error(r(424)),c),pu(v),c=eO(l,c,g,d);break e}else for(l=c.stateNode.containerInfo,l.nodeType===9?l=l.body:l=l.nodeName==="HTML"?l.ownerDocument.body:l,pt=zr(l.firstChild),mn=c,We=!0,Qa=null,Lr=!0,d=YC(c,null,g,d),c.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(rl(),g===v){c=oa(l,c,d);break e}gn(l,c,g,d)}c=c.child}return c;case 26:return Oh(l,c),l===null?(d=pA(c.type,null,c.pendingProps,null))?c.memoizedState=d:We||(d=c.type,l=c.pendingProps,g=Vh(Q.current).createElement(d),g[hn]=c,g[Hn]=l,yn(g,d,l),Jt(g),c.stateNode=g):c.memoizedState=pA(c.type,l.memoizedProps,c.pendingProps,l.memoizedState),null;case 27:return je(c),l===null&&We&&(g=c.stateNode=dA(c.type,c.pendingProps,Q.current),mn=c,Lr=!0,v=pt,fs(c.type)?(sv=v,pt=zr(g.firstChild)):pt=v),gn(l,c,c.pendingProps.children,d),Oh(l,c),l===null&&(c.flags|=4194304),c.child;case 5:return l===null&&We&&((v=g=pt)&&(g=dU(g,c.type,c.pendingProps,Lr),g!==null?(c.stateNode=g,mn=c,pt=zr(g.firstChild),Lr=!1,v=!0):v=!1),v||Xa(c)),je(c),v=c.type,w=c.pendingProps,A=l!==null?l.memoizedProps:null,g=w.children,tv(v,w)?g=null:A!==null&&tv(v,A)&&(c.flags|=32),c.memoizedState!==null&&(v=ex(l,c,O9,null,null,d),qu._currentValue=v),Oh(l,c),gn(l,c,g,d),c.child;case 6:return l===null&&We&&((l=d=pt)&&(d=hU(d,c.pendingProps,Lr),d!==null?(c.stateNode=d,mn=c,pt=null,l=!0):l=!1),l||Xa(c)),null;case 13:return tO(l,c,d);case 4:return Ce(c,c.stateNode.containerInfo),g=c.pendingProps,l===null?c.child=cl(c,null,g,d):gn(l,c,g,d),c.child;case 11:return Wk(l,c,c.type,c.pendingProps,d);case 7:return gn(l,c,c.pendingProps,d),c.child;case 8:return gn(l,c,c.pendingProps.children,d),c.child;case 12:return gn(l,c,c.pendingProps.children,d),c.child;case 10:return g=c.pendingProps,Za(c,c.type,g.value),gn(l,c,g.children,d),c.child;case 9:return v=c.type._context,g=c.pendingProps.children,al(c),v=pn(v),g=g(v),c.flags|=1,gn(l,c,g,d),c.child;case 14:return Gk(l,c,c.type,c.pendingProps,d);case 15:return Kk(l,c,c.type,c.pendingProps,d);case 19:return rO(l,c,d);case 31:return R9(l,c,d);case 22:return Yk(l,c,d,c.pendingProps);case 24:return al(c),g=pn(zt),l===null?(v=Vy(),v===null&&(v=ct,w=qy(),v.pooledCache=w,w.refCount++,w!==null&&(v.pooledCacheLanes|=d),v=w),c.memoizedState={parent:g,cache:v},Wy(c),Za(c,zt,v)):((l.lanes&d)!==0&&(Gy(l,c),Su(c,null,null,d),wu()),v=l.memoizedState,w=c.memoizedState,v.parent!==g?(v={parent:g,cache:g},c.memoizedState=v,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=v),Za(c,zt,g)):(g=w.cache,Za(c,zt,g),g!==v.cache&&$y(c,[zt],d,!0))),gn(l,c,c.pendingProps.children,d),c.child;case 29:throw c.pendingProps}throw Error(r(156,c.tag))}function ca(l){l.flags|=4}function Ax(l,c,d,g,v){if((c=(l.mode&32)!==0)&&(c=!1),c){if(l.flags|=16777216,(v&335544128)===v)if(l.stateNode.complete)l.flags|=8192;else if(MO())l.flags|=8192;else throw ol=dh,Fy}else l.flags&=-16777217}function aO(l,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!bA(c))if(MO())l.flags|=8192;else throw ol=dh,Fy}function Eh(l,c){c!==null&&(l.flags|=4),l.flags&16384&&(c=l.tag!==22?zN():536870912,l.lanes|=c,Ro|=c)}function Au(l,c){if(!We)switch(l.tailMode){case"hidden":c=l.tail;for(var d=null;c!==null;)c.alternate!==null&&(d=c),c=c.sibling;d===null?l.tail=null:d.sibling=null;break;case"collapsed":d=l.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?c||l.tail===null?l.tail=null:l.tail.sibling=null:g.sibling=null}}function gt(l){var c=l.alternate!==null&&l.alternate.child===l.child,d=0,g=0;if(c)for(var v=l.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags&65011712,g|=v.flags&65011712,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=g,l.childLanes=d,c}function B9(l,c,d){var g=c.pendingProps;switch(Ly(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gt(c),null;case 1:return gt(c),null;case 3:return d=c.stateNode,g=null,l!==null&&(g=l.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),aa(zt),re(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(l===null||l.child===null)&&(So(c)?ca(c):l===null||l.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,zy())),gt(c),null;case 26:var v=c.type,w=c.memoizedState;return l===null?(ca(c),w!==null?(gt(c),aO(c,w)):(gt(c),Ax(c,v,null,g,d))):w?w!==l.memoizedState?(ca(c),gt(c),aO(c,w)):(gt(c),c.flags&=-16777217):(l=l.memoizedProps,l!==g&&ca(c),gt(c),Ax(c,v,l,g,d)),null;case 27:if(De(c),d=Q.current,v=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==g&&ca(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return gt(c),null}l=K.current,So(c)?zC(c):(l=dA(v,g,d),c.stateNode=l,ca(c))}return gt(c),null;case 5:if(De(c),v=c.type,l!==null&&c.stateNode!=null)l.memoizedProps!==g&&ca(c);else{if(!g){if(c.stateNode===null)throw Error(r(166));return gt(c),null}if(w=K.current,So(c))zC(c);else{var A=Vh(Q.current);switch(w){case 1:w=A.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:w=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":w=A.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":w=A.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":w=A.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof g.is=="string"?A.createElement("select",{is:g.is}):A.createElement("select"),g.multiple?w.multiple=!0:g.size&&(w.size=g.size);break;default:w=typeof g.is=="string"?A.createElement(v,{is:g.is}):A.createElement(v)}}w[hn]=c,w[Hn]=g;e:for(A=c.child;A!==null;){if(A.tag===5||A.tag===6)w.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===c)break e;for(;A.sibling===null;){if(A.return===null||A.return===c)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}c.stateNode=w;e:switch(yn(w,v,g),v){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&ca(c)}}return gt(c),Ax(c,c.type,l===null?null:l.memoizedProps,c.pendingProps,d),null;case 6:if(l&&c.stateNode!=null)l.memoizedProps!==g&&ca(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(r(166));if(l=Q.current,So(c)){if(l=c.stateNode,d=c.memoizedProps,g=null,v=mn,v!==null)switch(v.tag){case 27:case 5:g=v.memoizedProps}l[hn]=c,l=!!(l.nodeValue===d||g!==null&&g.suppressHydrationWarning===!0||tA(l.nodeValue,d)),l||Xa(c,!0)}else l=Vh(l).createTextNode(g),l[hn]=c,c.stateNode=l}return gt(c),null;case 31:if(d=c.memoizedState,l===null||l.memoizedState!==null){if(g=So(c),d!==null){if(l===null){if(!g)throw Error(r(318));if(l=c.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(557));l[hn]=c}else rl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gt(c),l=!1}else d=zy(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=d),l=!0;if(!l)return c.flags&256?(pr(c),c):(pr(c),null);if((c.flags&128)!==0)throw Error(r(558))}return gt(c),null;case 13:if(g=c.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(v=So(c),g!==null&&g.dehydrated!==null){if(l===null){if(!v)throw Error(r(318));if(v=c.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[hn]=c}else rl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;gt(c),v=!1}else v=zy(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=v),v=!0;if(!v)return c.flags&256?(pr(c),c):(pr(c),null)}return pr(c),(c.flags&128)!==0?(c.lanes=d,c):(d=g!==null,l=l!==null&&l.memoizedState!==null,d&&(g=c.child,v=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(v=g.alternate.memoizedState.cachePool.pool),w=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(w=g.memoizedState.cachePool.pool),w!==v&&(g.flags|=2048)),d!==l&&d&&(c.child.flags|=8192),Eh(c,c.updateQueue),gt(c),null);case 4:return re(),l===null&&Qx(c.stateNode.containerInfo),gt(c),null;case 10:return aa(c.type),gt(c),null;case 19:if($(_t),g=c.memoizedState,g===null)return gt(c),null;if(v=(c.flags&128)!==0,w=g.rendering,w===null)if(v)Au(g,!1);else{if(At!==0||l!==null&&(l.flags&128)!==0)for(l=c.child;l!==null;){if(w=gh(l),w!==null){for(c.flags|=128,Au(g,!1),l=w.updateQueue,c.updateQueue=l,Eh(c,l),c.subtreeFlags=0,l=d,d=c.child;d!==null;)DC(d,l),d=d.sibling;return te(_t,_t.current&1|2),We&&ra(c,g.treeForkCount),c.child}l=l.sibling}g.tail!==null&&cr()>Ph&&(c.flags|=128,v=!0,Au(g,!1),c.lanes=4194304)}else{if(!v)if(l=gh(w),l!==null){if(c.flags|=128,v=!0,l=l.updateQueue,c.updateQueue=l,Eh(c,l),Au(g,!0),g.tail===null&&g.tailMode==="hidden"&&!w.alternate&&!We)return gt(c),null}else 2*cr()-g.renderingStartTime>Ph&&d!==536870912&&(c.flags|=128,v=!0,Au(g,!1),c.lanes=4194304);g.isBackwards?(w.sibling=c.child,c.child=w):(l=g.last,l!==null?l.sibling=w:c.child=w,g.last=w)}return g.tail!==null?(l=g.tail,g.rendering=l,g.tail=l.sibling,g.renderingStartTime=cr(),l.sibling=null,d=_t.current,te(_t,v?d&1|2:d&1),We&&ra(c,g.treeForkCount),l):(gt(c),null);case 22:case 23:return pr(c),Xy(),g=c.memoizedState!==null,l!==null?l.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(d&536870912)!==0&&(c.flags&128)===0&&(gt(c),c.subtreeFlags&6&&(c.flags|=8192)):gt(c),d=c.updateQueue,d!==null&&Eh(c,d.retryQueue),d=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==d&&(c.flags|=2048),l!==null&&$(sl),null;case 24:return d=null,l!==null&&(d=l.memoizedState.cache),c.memoizedState.cache!==d&&(c.flags|=2048),aa(zt),gt(c),null;case 25:return null;case 30:return null}throw Error(r(156,c.tag))}function z9(l,c){switch(Ly(c),c.tag){case 1:return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 3:return aa(zt),re(),l=c.flags,(l&65536)!==0&&(l&128)===0?(c.flags=l&-65537|128,c):null;case 26:case 27:case 5:return De(c),null;case 31:if(c.memoizedState!==null){if(pr(c),c.alternate===null)throw Error(r(340));rl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 13:if(pr(c),l=c.memoizedState,l!==null&&l.dehydrated!==null){if(c.alternate===null)throw Error(r(340));rl()}return l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 19:return $(_t),null;case 4:return re(),null;case 10:return aa(c.type),null;case 22:case 23:return pr(c),Xy(),l!==null&&$(sl),l=c.flags,l&65536?(c.flags=l&-65537|128,c):null;case 24:return aa(zt),null;case 25:return null;default:return null}}function sO(l,c){switch(Ly(c),c.tag){case 3:aa(zt),re();break;case 26:case 27:case 5:De(c);break;case 4:re();break;case 31:c.memoizedState!==null&&pr(c);break;case 13:pr(c);break;case 19:$(_t);break;case 10:aa(c.type);break;case 22:case 23:pr(c),Xy(),l!==null&&$(sl);break;case 24:aa(zt)}}function Eu(l,c){try{var d=c.updateQueue,g=d!==null?d.lastEffect:null;if(g!==null){var v=g.next;d=v;do{if((d.tag&l)===l){g=void 0;var w=d.create,A=d.inst;g=w(),A.destroy=g}d=d.next}while(d!==v)}}catch(B){nt(c,c.return,B)}}function is(l,c,d){try{var g=c.updateQueue,v=g!==null?g.lastEffect:null;if(v!==null){var w=v.next;g=w;do{if((g.tag&l)===l){var A=g.inst,B=A.destroy;if(B!==void 0){A.destroy=void 0,v=c;var F=d,ne=B;try{ne()}catch(ce){nt(v,F,ce)}}}g=g.next}while(g!==w)}}catch(ce){nt(c,c.return,ce)}}function lO(l){var c=l.updateQueue;if(c!==null){var d=l.stateNode;try{XC(c,d)}catch(g){nt(l,l.return,g)}}}function oO(l,c,d){d.props=fl(l.type,l.memoizedProps),d.state=l.memoizedState;try{d.componentWillUnmount()}catch(g){nt(l,c,g)}}function Tu(l,c){try{var d=l.ref;if(d!==null){switch(l.tag){case 26:case 27:case 5:var g=l.stateNode;break;case 30:g=l.stateNode;break;default:g=l.stateNode}typeof d=="function"?l.refCleanup=d(g):d.current=g}}catch(v){nt(l,c,v)}}function Si(l,c){var d=l.ref,g=l.refCleanup;if(d!==null)if(typeof g=="function")try{g()}catch(v){nt(l,c,v)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){nt(l,c,v)}else d.current=null}function cO(l){var c=l.type,d=l.memoizedProps,g=l.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":d.autoFocus&&g.focus();break e;case"img":d.src?g.src=d.src:d.srcSet&&(g.srcset=d.srcSet)}}catch(v){nt(l,l.return,v)}}function Ex(l,c,d){try{var g=l.stateNode;sU(g,l.type,d,c),g[Hn]=c}catch(v){nt(l,l.return,v)}}function uO(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&fs(l.type)||l.tag===4}function Tx(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||uO(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&fs(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Mx(l,c,d){var g=l.tag;if(g===5||g===6)l=l.stateNode,c?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(l,c):(c=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,c.appendChild(l),d=d._reactRootContainer,d!=null||c.onclick!==null||(c.onclick=ea));else if(g!==4&&(g===27&&fs(l.type)&&(d=l.stateNode,c=null),l=l.child,l!==null))for(Mx(l,c,d),l=l.sibling;l!==null;)Mx(l,c,d),l=l.sibling}function Th(l,c,d){var g=l.tag;if(g===5||g===6)l=l.stateNode,c?d.insertBefore(l,c):d.appendChild(l);else if(g!==4&&(g===27&&fs(l.type)&&(d=l.stateNode),l=l.child,l!==null))for(Th(l,c,d),l=l.sibling;l!==null;)Th(l,c,d),l=l.sibling}function fO(l){var c=l.stateNode,d=l.memoizedProps;try{for(var g=l.type,v=c.attributes;v.length;)c.removeAttributeNode(v[0]);yn(c,g,d),c[hn]=l,c[Hn]=d}catch(w){nt(l,l.return,w)}}var ua=!1,$t=!1,_x=!1,dO=typeof WeakSet=="function"?WeakSet:Set,en=null;function I9(l,c){if(l=l.containerInfo,Jx=Xh,l=NC(l),Cy(l)){if("selectionStart"in l)var d={start:l.selectionStart,end:l.selectionEnd};else e:{d=(d=l.ownerDocument)&&d.defaultView||window;var g=d.getSelection&&d.getSelection();if(g&&g.rangeCount!==0){d=g.anchorNode;var v=g.anchorOffset,w=g.focusNode;g=g.focusOffset;try{d.nodeType,w.nodeType}catch{d=null;break e}var A=0,B=-1,F=-1,ne=0,ce=0,de=l,ie=null;t:for(;;){for(var se;de!==d||v!==0&&de.nodeType!==3||(B=A+v),de!==w||g!==0&&de.nodeType!==3||(F=A+g),de.nodeType===3&&(A+=de.nodeValue.length),(se=de.firstChild)!==null;)ie=de,de=se;for(;;){if(de===l)break t;if(ie===d&&++ne===v&&(B=A),ie===w&&++ce===g&&(F=A),(se=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=se}d=B===-1||F===-1?null:{start:B,end:F}}else d=null}d=d||{start:0,end:0}}else d=null;for(ev={focusedElem:l,selectionRange:d},Xh=!1,en=c;en!==null;)if(c=en,l=c.child,(c.subtreeFlags&1028)!==0&&l!==null)l.return=c,en=l;else for(;en!==null;){switch(c=en,w=c.alternate,l=c.flags,c.tag){case 0:if((l&4)!==0&&(l=c.updateQueue,l=l!==null?l.events:null,l!==null))for(d=0;d<l.length;d++)v=l[d],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&w!==null){l=void 0,d=c,v=w.memoizedProps,w=w.memoizedState,g=d.stateNode;try{var Se=fl(d.type,v);l=g.getSnapshotBeforeUpdate(Se,w),g.__reactInternalSnapshotBeforeUpdate=l}catch(Pe){nt(d,d.return,Pe)}}break;case 3:if((l&1024)!==0){if(l=c.stateNode.containerInfo,d=l.nodeType,d===9)rv(l);else if(d===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":rv(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(r(163))}if(l=c.sibling,l!==null){l.return=c.return,en=l;break}en=c.return}}function hO(l,c,d){var g=d.flags;switch(d.tag){case 0:case 11:case 15:da(l,d),g&4&&Eu(5,d);break;case 1:if(da(l,d),g&4)if(l=d.stateNode,c===null)try{l.componentDidMount()}catch(A){nt(d,d.return,A)}else{var v=fl(d.type,c.memoizedProps);c=c.memoizedState;try{l.componentDidUpdate(v,c,l.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(d,d.return,A)}}g&64&&lO(d),g&512&&Tu(d,d.return);break;case 3:if(da(l,d),g&64&&(l=d.updateQueue,l!==null)){if(c=null,d.child!==null)switch(d.child.tag){case 27:case 5:c=d.child.stateNode;break;case 1:c=d.child.stateNode}try{XC(l,c)}catch(A){nt(d,d.return,A)}}break;case 27:c===null&&g&4&&fO(d);case 26:case 5:da(l,d),c===null&&g&4&&cO(d),g&512&&Tu(d,d.return);break;case 12:da(l,d);break;case 31:da(l,d),g&4&&gO(l,d);break;case 13:da(l,d),g&4&&yO(l,d),g&64&&(l=d.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(d=K9.bind(null,d),mU(l,d))));break;case 22:if(g=d.memoizedState!==null||ua,!g){c=c!==null&&c.memoizedState!==null||$t,v=ua;var w=$t;ua=g,($t=c)&&!w?ha(l,d,(d.subtreeFlags&8772)!==0):da(l,d),ua=v,$t=w}break;case 30:break;default:da(l,d)}}function mO(l){var c=l.alternate;c!==null&&(l.alternate=null,mO(c)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(c=l.stateNode,c!==null&&oy(c)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var xt=null,Fn=!1;function fa(l,c,d){for(d=d.child;d!==null;)pO(l,c,d),d=d.sibling}function pO(l,c,d){if(ur&&typeof ur.onCommitFiberUnmount=="function")try{ur.onCommitFiberUnmount(eu,d)}catch{}switch(d.tag){case 26:$t||Si(d,c),fa(l,c,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:$t||Si(d,c);var g=xt,v=Fn;fs(d.type)&&(xt=d.stateNode,Fn=!1),fa(l,c,d),Iu(d.stateNode),xt=g,Fn=v;break;case 5:$t||Si(d,c);case 6:if(g=xt,v=Fn,xt=null,fa(l,c,d),xt=g,Fn=v,xt!==null)if(Fn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(d.stateNode)}catch(w){nt(d,c,w)}else try{xt.removeChild(d.stateNode)}catch(w){nt(d,c,w)}break;case 18:xt!==null&&(Fn?(l=xt,lA(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,d.stateNode),Ho(l)):lA(xt,d.stateNode));break;case 4:g=xt,v=Fn,xt=d.stateNode.containerInfo,Fn=!0,fa(l,c,d),xt=g,Fn=v;break;case 0:case 11:case 14:case 15:is(2,d,c),$t||is(4,d,c),fa(l,c,d);break;case 1:$t||(Si(d,c),g=d.stateNode,typeof g.componentWillUnmount=="function"&&oO(d,c,g)),fa(l,c,d);break;case 21:fa(l,c,d);break;case 22:$t=(g=$t)||d.memoizedState!==null,fa(l,c,d),$t=g;break;default:fa(l,c,d)}}function gO(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{Ho(l)}catch(d){nt(c,c.return,d)}}}function yO(l,c){if(c.memoizedState===null&&(l=c.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{Ho(l)}catch(d){nt(c,c.return,d)}}function U9(l){switch(l.tag){case 31:case 13:case 19:var c=l.stateNode;return c===null&&(c=l.stateNode=new dO),c;case 22:return l=l.stateNode,c=l._retryCache,c===null&&(c=l._retryCache=new dO),c;default:throw Error(r(435,l.tag))}}function Mh(l,c){var d=U9(l);c.forEach(function(g){if(!d.has(g)){d.add(g);var v=Y9.bind(null,l,g);g.then(v,v)}})}function Wn(l,c){var d=c.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g],w=l,A=c,B=A;e:for(;B!==null;){switch(B.tag){case 27:if(fs(B.type)){xt=B.stateNode,Fn=!1;break e}break;case 5:xt=B.stateNode,Fn=!1;break e;case 3:case 4:xt=B.stateNode.containerInfo,Fn=!0;break e}B=B.return}if(xt===null)throw Error(r(160));pO(w,A,v),xt=null,Fn=!1,w=v.alternate,w!==null&&(w.return=null),v.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)xO(c,l),c=c.sibling}var ri=null;function xO(l,c){var d=l.alternate,g=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Wn(c,l),Gn(l),g&4&&(is(3,l,l.return),Eu(3,l),is(5,l,l.return));break;case 1:Wn(c,l),Gn(l),g&512&&($t||d===null||Si(d,d.return)),g&64&&ua&&(l=l.updateQueue,l!==null&&(g=l.callbacks,g!==null&&(d=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=d===null?g:d.concat(g))));break;case 26:var v=ri;if(Wn(c,l),Gn(l),g&512&&($t||d===null||Si(d,d.return)),g&4){var w=d!==null?d.memoizedState:null;if(g=l.memoizedState,d===null)if(g===null)if(l.stateNode===null){e:{g=l.type,d=l.memoizedProps,v=v.ownerDocument||v;t:switch(g){case"title":w=v.getElementsByTagName("title")[0],(!w||w[ru]||w[hn]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=v.createElement(g),v.head.insertBefore(w,v.querySelector("head > title"))),yn(w,g,d),w[hn]=l,Jt(w),g=w;break e;case"link":var A=xA("link","href",v).get(g+(d.href||""));if(A){for(var B=0;B<A.length;B++)if(w=A[B],w.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&w.getAttribute("rel")===(d.rel==null?null:d.rel)&&w.getAttribute("title")===(d.title==null?null:d.title)&&w.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){A.splice(B,1);break t}}w=v.createElement(g),yn(w,g,d),v.head.appendChild(w);break;case"meta":if(A=xA("meta","content",v).get(g+(d.content||""))){for(B=0;B<A.length;B++)if(w=A[B],w.getAttribute("content")===(d.content==null?null:""+d.content)&&w.getAttribute("name")===(d.name==null?null:d.name)&&w.getAttribute("property")===(d.property==null?null:d.property)&&w.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&w.getAttribute("charset")===(d.charSet==null?null:d.charSet)){A.splice(B,1);break t}}w=v.createElement(g),yn(w,g,d),v.head.appendChild(w);break;default:throw Error(r(468,g))}w[hn]=l,Jt(w),g=w}l.stateNode=g}else vA(v,l.type,l.stateNode);else l.stateNode=yA(v,g,l.memoizedProps);else w!==g?(w===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):w.count--,g===null?vA(v,l.type,l.stateNode):yA(v,g,l.memoizedProps)):g===null&&l.stateNode!==null&&Ex(l,l.memoizedProps,d.memoizedProps)}break;case 27:Wn(c,l),Gn(l),g&512&&($t||d===null||Si(d,d.return)),d!==null&&g&4&&Ex(l,l.memoizedProps,d.memoizedProps);break;case 5:if(Wn(c,l),Gn(l),g&512&&($t||d===null||Si(d,d.return)),l.flags&32){v=l.stateNode;try{fo(v,"")}catch(Se){nt(l,l.return,Se)}}g&4&&l.stateNode!=null&&(v=l.memoizedProps,Ex(l,v,d!==null?d.memoizedProps:v)),g&1024&&(_x=!0);break;case 6:if(Wn(c,l),Gn(l),g&4){if(l.stateNode===null)throw Error(r(162));g=l.memoizedProps,d=l.stateNode;try{d.nodeValue=g}catch(Se){nt(l,l.return,Se)}}break;case 3:if(Gh=null,v=ri,ri=Fh(c.containerInfo),Wn(c,l),ri=v,Gn(l),g&4&&d!==null&&d.memoizedState.isDehydrated)try{Ho(c.containerInfo)}catch(Se){nt(l,l.return,Se)}_x&&(_x=!1,vO(l));break;case 4:g=ri,ri=Fh(l.stateNode.containerInfo),Wn(c,l),Gn(l),ri=g;break;case 12:Wn(c,l),Gn(l);break;case 31:Wn(c,l),Gn(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Mh(l,g)));break;case 13:Wn(c,l),Gn(l),l.child.flags&8192&&l.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(Dh=cr()),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Mh(l,g)));break;case 22:v=l.memoizedState!==null;var F=d!==null&&d.memoizedState!==null,ne=ua,ce=$t;if(ua=ne||v,$t=ce||F,Wn(c,l),$t=ce,ua=ne,Gn(l),g&8192)e:for(c=l.stateNode,c._visibility=v?c._visibility&-2:c._visibility|1,v&&(d===null||F||ua||$t||dl(l)),d=null,c=l;;){if(c.tag===5||c.tag===26){if(d===null){F=d=c;try{if(w=F.stateNode,v)A=w.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{B=F.stateNode;var de=F.memoizedProps.style,ie=de!=null&&de.hasOwnProperty("display")?de.display:null;B.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Se){nt(F,F.return,Se)}}}else if(c.tag===6){if(d===null){F=c;try{F.stateNode.nodeValue=v?"":F.memoizedProps}catch(Se){nt(F,F.return,Se)}}}else if(c.tag===18){if(d===null){F=c;try{var se=F.stateNode;v?oA(se,!0):oA(F.stateNode,!1)}catch(Se){nt(F,F.return,Se)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===l)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===l)break e;for(;c.sibling===null;){if(c.return===null||c.return===l)break e;d===c&&(d=null),c=c.return}d===c&&(d=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=l.updateQueue,g!==null&&(d=g.retryQueue,d!==null&&(g.retryQueue=null,Mh(l,d))));break;case 19:Wn(c,l),Gn(l),g&4&&(g=l.updateQueue,g!==null&&(l.updateQueue=null,Mh(l,g)));break;case 30:break;case 21:break;default:Wn(c,l),Gn(l)}}function Gn(l){var c=l.flags;if(c&2){try{for(var d,g=l.return;g!==null;){if(uO(g)){d=g;break}g=g.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var v=d.stateNode,w=Tx(l);Th(l,w,v);break;case 5:var A=d.stateNode;d.flags&32&&(fo(A,""),d.flags&=-33);var B=Tx(l);Th(l,B,A);break;case 3:case 4:var F=d.stateNode.containerInfo,ne=Tx(l);Mx(l,ne,F);break;default:throw Error(r(161))}}catch(ce){nt(l,l.return,ce)}l.flags&=-3}c&4096&&(l.flags&=-4097)}function vO(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var c=l;vO(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),l=l.sibling}}function da(l,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)hO(l,c.alternate,c),c=c.sibling}function dl(l){for(l=l.child;l!==null;){var c=l;switch(c.tag){case 0:case 11:case 14:case 15:is(4,c,c.return),dl(c);break;case 1:Si(c,c.return);var d=c.stateNode;typeof d.componentWillUnmount=="function"&&oO(c,c.return,d),dl(c);break;case 27:Iu(c.stateNode);case 26:case 5:Si(c,c.return),dl(c);break;case 22:c.memoizedState===null&&dl(c);break;case 30:dl(c);break;default:dl(c)}l=l.sibling}}function ha(l,c,d){for(d=d&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,v=l,w=c,A=w.flags;switch(w.tag){case 0:case 11:case 15:ha(v,w,d),Eu(4,w);break;case 1:if(ha(v,w,d),g=w,v=g.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ne){nt(g,g.return,ne)}if(g=w,v=g.updateQueue,v!==null){var B=g.stateNode;try{var F=v.shared.hiddenCallbacks;if(F!==null)for(v.shared.hiddenCallbacks=null,v=0;v<F.length;v++)QC(F[v],B)}catch(ne){nt(g,g.return,ne)}}d&&A&64&&lO(w),Tu(w,w.return);break;case 27:fO(w);case 26:case 5:ha(v,w,d),d&&g===null&&A&4&&cO(w),Tu(w,w.return);break;case 12:ha(v,w,d);break;case 31:ha(v,w,d),d&&A&4&&gO(v,w);break;case 13:ha(v,w,d),d&&A&4&&yO(v,w);break;case 22:w.memoizedState===null&&ha(v,w,d),Tu(w,w.return);break;case 30:break;default:ha(v,w,d)}c=c.sibling}}function Dx(l,c){var d=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),l=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(l=c.memoizedState.cachePool.pool),l!==d&&(l!=null&&l.refCount++,d!=null&&gu(d))}function Px(l,c){l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&gu(l))}function ii(l,c,d,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)bO(l,c,d,g),c=c.sibling}function bO(l,c,d,g){var v=c.flags;switch(c.tag){case 0:case 11:case 15:ii(l,c,d,g),v&2048&&Eu(9,c);break;case 1:ii(l,c,d,g);break;case 3:ii(l,c,d,g),v&2048&&(l=null,c.alternate!==null&&(l=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==l&&(c.refCount++,l!=null&&gu(l)));break;case 12:if(v&2048){ii(l,c,d,g),l=c.stateNode;try{var w=c.memoizedProps,A=w.id,B=w.onPostCommit;typeof B=="function"&&B(A,c.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(F){nt(c,c.return,F)}}else ii(l,c,d,g);break;case 31:ii(l,c,d,g);break;case 13:ii(l,c,d,g);break;case 23:break;case 22:w=c.stateNode,A=c.alternate,c.memoizedState!==null?w._visibility&2?ii(l,c,d,g):Mu(l,c):w._visibility&2?ii(l,c,d,g):(w._visibility|=2,_o(l,c,d,g,(c.subtreeFlags&10256)!==0||!1)),v&2048&&Dx(A,c);break;case 24:ii(l,c,d,g),v&2048&&Px(c.alternate,c);break;default:ii(l,c,d,g)}}function _o(l,c,d,g,v){for(v=v&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var w=l,A=c,B=d,F=g,ne=A.flags;switch(A.tag){case 0:case 11:case 15:_o(w,A,B,F,v),Eu(8,A);break;case 23:break;case 22:var ce=A.stateNode;A.memoizedState!==null?ce._visibility&2?_o(w,A,B,F,v):Mu(w,A):(ce._visibility|=2,_o(w,A,B,F,v)),v&&ne&2048&&Dx(A.alternate,A);break;case 24:_o(w,A,B,F,v),v&&ne&2048&&Px(A.alternate,A);break;default:_o(w,A,B,F,v)}c=c.sibling}}function Mu(l,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var d=l,g=c,v=g.flags;switch(g.tag){case 22:Mu(d,g),v&2048&&Dx(g.alternate,g);break;case 24:Mu(d,g),v&2048&&Px(g.alternate,g);break;default:Mu(d,g)}c=c.sibling}}var _u=8192;function Do(l,c,d){if(l.subtreeFlags&_u)for(l=l.child;l!==null;)wO(l,c,d),l=l.sibling}function wO(l,c,d){switch(l.tag){case 26:Do(l,c,d),l.flags&_u&&l.memoizedState!==null&&kU(d,ri,l.memoizedState,l.memoizedProps);break;case 5:Do(l,c,d);break;case 3:case 4:var g=ri;ri=Fh(l.stateNode.containerInfo),Do(l,c,d),ri=g;break;case 22:l.memoizedState===null&&(g=l.alternate,g!==null&&g.memoizedState!==null?(g=_u,_u=16777216,Do(l,c,d),_u=g):Do(l,c,d));break;default:Do(l,c,d)}}function SO(l){var c=l.alternate;if(c!==null&&(l=c.child,l!==null)){c.child=null;do c=l.sibling,l.sibling=null,l=c;while(l!==null)}}function Du(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];en=g,NO(g,l)}SO(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)jO(l),l=l.sibling}function jO(l){switch(l.tag){case 0:case 11:case 15:Du(l),l.flags&2048&&is(9,l,l.return);break;case 3:Du(l);break;case 12:Du(l);break;case 22:var c=l.stateNode;l.memoizedState!==null&&c._visibility&2&&(l.return===null||l.return.tag!==13)?(c._visibility&=-3,_h(l)):Du(l);break;default:Du(l)}}function _h(l){var c=l.deletions;if((l.flags&16)!==0){if(c!==null)for(var d=0;d<c.length;d++){var g=c[d];en=g,NO(g,l)}SO(l)}for(l=l.child;l!==null;){switch(c=l,c.tag){case 0:case 11:case 15:is(8,c,c.return),_h(c);break;case 22:d=c.stateNode,d._visibility&2&&(d._visibility&=-3,_h(c));break;default:_h(c)}l=l.sibling}}function NO(l,c){for(;en!==null;){var d=en;switch(d.tag){case 0:case 11:case 15:is(8,d,c);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var g=d.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:gu(d.memoizedState.cache)}if(g=d.child,g!==null)g.return=d,en=g;else e:for(d=l;en!==null;){g=en;var v=g.sibling,w=g.return;if(mO(g),g===d){en=null;break e}if(v!==null){v.return=w,en=v;break e}en=w}}}var $9={getCacheForType:function(l){var c=pn(zt),d=c.data.get(l);return d===void 0&&(d=l(),c.data.set(l,d)),d},cacheSignal:function(){return pn(zt).controller.signal}},q9=typeof WeakMap=="function"?WeakMap:Map,et=0,ct=null,$e=null,Ve=0,tt=0,gr=null,as=!1,Po=!1,Rx=!1,ma=0,At=0,ss=0,hl=0,Lx=0,yr=0,Ro=0,Pu=null,Kn=null,Bx=!1,Dh=0,CO=0,Ph=1/0,Rh=null,ls=null,Ft=0,os=null,Lo=null,pa=0,zx=0,Ix=null,kO=null,Ru=0,Ux=null;function xr(){return(et&2)!==0&&Ve!==0?Ve&-Ve:V.T!==null?Wx():qN()}function OO(){if(yr===0)if((Ve&536870912)===0||We){var l=Hd;Hd<<=1,(Hd&3932160)===0&&(Hd=262144),yr=l}else yr=536870912;return l=mr.current,l!==null&&(l.flags|=32),yr}function Yn(l,c,d){(l===ct&&(tt===2||tt===9)||l.cancelPendingCommit!==null)&&(Bo(l,0),cs(l,Ve,yr,!1)),nu(l,d),((et&2)===0||l!==ct)&&(l===ct&&((et&2)===0&&(hl|=d),At===4&&cs(l,Ve,yr,!1)),ji(l))}function AO(l,c,d){if((et&6)!==0)throw Error(r(327));var g=!d&&(c&127)===0&&(c&l.expiredLanes)===0||tu(l,c),v=g?F9(l,c):qx(l,c,!0),w=g;do{if(v===0){Po&&!g&&cs(l,c,0,!1);break}else{if(d=l.current.alternate,w&&!H9(d)){v=qx(l,c,!1),w=!1;continue}if(v===2){if(w=c,l.errorRecoveryDisabledLanes&w)var A=0;else A=l.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){c=A;e:{var B=l;v=Pu;var F=B.current.memoizedState.isDehydrated;if(F&&(Bo(B,A).flags|=256),A=qx(B,A,!1),A!==2){if(Rx&&!F){B.errorRecoveryDisabledLanes|=w,hl|=w,v=4;break e}w=Kn,Kn=v,w!==null&&(Kn===null?Kn=w:Kn.push.apply(Kn,w))}v=A}if(w=!1,v!==2)continue}}if(v===1){Bo(l,0),cs(l,c,0,!0);break}e:{switch(g=l,w=v,w){case 0:case 1:throw Error(r(345));case 4:if((c&4194048)!==c)break;case 6:cs(g,c,yr,!as);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((c&62914560)===c&&(v=Dh+300-cr(),10<v)){if(cs(g,c,yr,!as),Fd(g,0,!0)!==0)break e;pa=c,g.timeoutHandle=aA(EO.bind(null,g,d,Kn,Rh,Bx,c,yr,hl,Ro,as,w,"Throttled",-0,0),v);break e}EO(g,d,Kn,Rh,Bx,c,yr,hl,Ro,as,w,null,-0,0)}}break}while(!0);ji(l)}function EO(l,c,d,g,v,w,A,B,F,ne,ce,de,ie,se){if(l.timeoutHandle=-1,de=c.subtreeFlags,de&8192||(de&16785408)===16785408){de={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ea},wO(c,w,de);var Se=(w&62914560)===w?Dh-cr():(w&4194048)===w?CO-cr():0;if(Se=OU(de,Se),Se!==null){pa=w,l.cancelPendingCommit=Se(BO.bind(null,l,c,w,d,g,v,A,B,F,ce,de,null,ie,se)),cs(l,w,A,!ne);return}}BO(l,c,w,d,g,v,A,B,F)}function H9(l){for(var c=l;;){var d=c.tag;if((d===0||d===11||d===15)&&c.flags&16384&&(d=c.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var g=0;g<d.length;g++){var v=d[g],w=v.getSnapshot;v=v.value;try{if(!dr(w(),v))return!1}catch{return!1}}if(d=c.child,c.subtreeFlags&16384&&d!==null)d.return=c,c=d;else{if(c===l)break;for(;c.sibling===null;){if(c.return===null||c.return===l)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function cs(l,c,d,g){c&=~Lx,c&=~hl,l.suspendedLanes|=c,l.pingedLanes&=~c,g&&(l.warmLanes|=c),g=l.expirationTimes;for(var v=c;0<v;){var w=31-fr(v),A=1<<w;g[w]=-1,v&=~A}d!==0&&IN(l,d,c)}function Lh(){return(et&6)===0?(Lu(0),!1):!0}function $x(){if($e!==null){if(tt===0)var l=$e.return;else l=$e,ia=il=null,rx(l),Oo=null,xu=0,l=$e;for(;l!==null;)sO(l.alternate,l),l=l.return;$e=null}}function Bo(l,c){var d=l.timeoutHandle;d!==-1&&(l.timeoutHandle=-1,cU(d)),d=l.cancelPendingCommit,d!==null&&(l.cancelPendingCommit=null,d()),pa=0,$x(),ct=l,$e=d=na(l.current,null),Ve=c,tt=0,gr=null,as=!1,Po=tu(l,c),Rx=!1,Ro=yr=Lx=hl=ss=At=0,Kn=Pu=null,Bx=!1,(c&8)!==0&&(c|=c&32);var g=l.entangledLanes;if(g!==0)for(l=l.entanglements,g&=c;0<g;){var v=31-fr(g),w=1<<v;c|=l[v],g&=~w}return ma=c,rh(),d}function TO(l,c){ze=null,V.H=ku,c===ko||c===fh?(c=WC(),tt=3):c===Fy?(c=WC(),tt=4):tt=c===vx?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,gr=c,$e===null&&(At=1,Ch(l,Dr(c,l.current)))}function MO(){var l=mr.current;return l===null?!0:(Ve&4194048)===Ve?Br===null:(Ve&62914560)===Ve||(Ve&536870912)!==0?l===Br:!1}function _O(){var l=V.H;return V.H=ku,l===null?ku:l}function DO(){var l=V.A;return V.A=$9,l}function Bh(){At=4,as||(Ve&4194048)!==Ve&&mr.current!==null||(Po=!0),(ss&134217727)===0&&(hl&134217727)===0||ct===null||cs(ct,Ve,yr,!1)}function qx(l,c,d){var g=et;et|=2;var v=_O(),w=DO();(ct!==l||Ve!==c)&&(Rh=null,Bo(l,c)),c=!1;var A=At;e:do try{if(tt!==0&&$e!==null){var B=$e,F=gr;switch(tt){case 8:$x(),A=6;break e;case 3:case 2:case 9:case 6:mr.current===null&&(c=!0);var ne=tt;if(tt=0,gr=null,zo(l,B,F,ne),d&&Po){A=0;break e}break;default:ne=tt,tt=0,gr=null,zo(l,B,F,ne)}}V9(),A=At;break}catch(ce){TO(l,ce)}while(!0);return c&&l.shellSuspendCounter++,ia=il=null,et=g,V.H=v,V.A=w,$e===null&&(ct=null,Ve=0,rh()),A}function V9(){for(;$e!==null;)PO($e)}function F9(l,c){var d=et;et|=2;var g=_O(),v=DO();ct!==l||Ve!==c?(Rh=null,Ph=cr()+500,Bo(l,c)):Po=tu(l,c);e:do try{if(tt!==0&&$e!==null){c=$e;var w=gr;t:switch(tt){case 1:tt=0,gr=null,zo(l,c,w,1);break;case 2:case 9:if(VC(w)){tt=0,gr=null,RO(c);break}c=function(){tt!==2&&tt!==9||ct!==l||(tt=7),ji(l)},w.then(c,c);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:VC(w)?(tt=0,gr=null,RO(c)):(tt=0,gr=null,zo(l,c,w,7));break;case 5:var A=null;switch($e.tag){case 26:A=$e.memoizedState;case 5:case 27:var B=$e;if(A?bA(A):B.stateNode.complete){tt=0,gr=null;var F=B.sibling;if(F!==null)$e=F;else{var ne=B.return;ne!==null?($e=ne,zh(ne)):$e=null}break t}}tt=0,gr=null,zo(l,c,w,5);break;case 6:tt=0,gr=null,zo(l,c,w,6);break;case 8:$x(),At=6;break e;default:throw Error(r(462))}}W9();break}catch(ce){TO(l,ce)}while(!0);return ia=il=null,V.H=g,V.A=v,et=d,$e!==null?0:(ct=null,Ve=0,rh(),At)}function W9(){for(;$e!==null&&!p7();)PO($e)}function PO(l){var c=iO(l.alternate,l,ma);l.memoizedProps=l.pendingProps,c===null?zh(l):$e=c}function RO(l){var c=l,d=c.alternate;switch(c.tag){case 15:case 0:c=Zk(d,c,c.pendingProps,c.type,void 0,Ve);break;case 11:c=Zk(d,c,c.pendingProps,c.type.render,c.ref,Ve);break;case 5:rx(c);default:sO(d,c),c=$e=DC(c,ma),c=iO(d,c,ma)}l.memoizedProps=l.pendingProps,c===null?zh(l):$e=c}function zo(l,c,d,g){ia=il=null,rx(c),Oo=null,xu=0;var v=c.return;try{if(P9(l,v,c,d,Ve)){At=1,Ch(l,Dr(d,l.current)),$e=null;return}}catch(w){if(v!==null)throw $e=v,w;At=1,Ch(l,Dr(d,l.current)),$e=null;return}c.flags&32768?(We||g===1?l=!0:Po||(Ve&536870912)!==0?l=!1:(as=l=!0,(g===2||g===9||g===3||g===6)&&(g=mr.current,g!==null&&g.tag===13&&(g.flags|=16384))),LO(c,l)):zh(c)}function zh(l){var c=l;do{if((c.flags&32768)!==0){LO(c,as);return}l=c.return;var d=B9(c.alternate,c,ma);if(d!==null){$e=d;return}if(c=c.sibling,c!==null){$e=c;return}$e=c=l}while(c!==null);At===0&&(At=5)}function LO(l,c){do{var d=z9(l.alternate,l);if(d!==null){d.flags&=32767,$e=d;return}if(d=l.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!c&&(l=l.sibling,l!==null)){$e=l;return}$e=l=d}while(l!==null);At=6,$e=null}function BO(l,c,d,g,v,w,A,B,F){l.cancelPendingCommit=null;do Ih();while(Ft!==0);if((et&6)!==0)throw Error(r(327));if(c!==null){if(c===l.current)throw Error(r(177));if(w=c.lanes|c.childLanes,w|=Ty,C7(l,d,w,A,B,F),l===ct&&($e=ct=null,Ve=0),Lo=c,os=l,pa=d,zx=w,Ix=v,kO=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,Q9($d,function(){return qO(),null})):(l.callbackNode=null,l.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=V.T,V.T=null,v=Y.p,Y.p=2,A=et,et|=4;try{I9(l,c,d)}finally{et=A,Y.p=v,V.T=g}}Ft=1,zO(),IO(),UO()}}function zO(){if(Ft===1){Ft=0;var l=os,c=Lo,d=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||d){d=V.T,V.T=null;var g=Y.p;Y.p=2;var v=et;et|=4;try{xO(c,l);var w=ev,A=NC(l.containerInfo),B=w.focusedElem,F=w.selectionRange;if(A!==B&&B&&B.ownerDocument&&jC(B.ownerDocument.documentElement,B)){if(F!==null&&Cy(B)){var ne=F.start,ce=F.end;if(ce===void 0&&(ce=ne),"selectionStart"in B)B.selectionStart=ne,B.selectionEnd=Math.min(ce,B.value.length);else{var de=B.ownerDocument||document,ie=de&&de.defaultView||window;if(ie.getSelection){var se=ie.getSelection(),Se=B.textContent.length,Pe=Math.min(F.start,Se),st=F.end===void 0?Pe:Math.min(F.end,Se);!se.extend&&Pe>st&&(A=st,st=Pe,Pe=A);var Z=SC(B,Pe),G=SC(B,st);if(Z&&G&&(se.rangeCount!==1||se.anchorNode!==Z.node||se.anchorOffset!==Z.offset||se.focusNode!==G.node||se.focusOffset!==G.offset)){var ee=de.createRange();ee.setStart(Z.node,Z.offset),se.removeAllRanges(),Pe>st?(se.addRange(ee),se.extend(G.node,G.offset)):(ee.setEnd(G.node,G.offset),se.addRange(ee))}}}}for(de=[],se=B;se=se.parentNode;)se.nodeType===1&&de.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<de.length;B++){var fe=de[B];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Xh=!!Jx,ev=Jx=null}finally{et=v,Y.p=g,V.T=d}}l.current=c,Ft=2}}function IO(){if(Ft===2){Ft=0;var l=os,c=Lo,d=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||d){d=V.T,V.T=null;var g=Y.p;Y.p=2;var v=et;et|=4;try{hO(l,c.alternate,c)}finally{et=v,Y.p=g,V.T=d}}Ft=3}}function UO(){if(Ft===4||Ft===3){Ft=0,g7();var l=os,c=Lo,d=pa,g=kO;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ft=5:(Ft=0,Lo=os=null,$O(l,l.pendingLanes));var v=l.pendingLanes;if(v===0&&(ls=null),sy(d),c=c.stateNode,ur&&typeof ur.onCommitFiberRoot=="function")try{ur.onCommitFiberRoot(eu,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=V.T,v=Y.p,Y.p=2,V.T=null;try{for(var w=l.onRecoverableError,A=0;A<g.length;A++){var B=g[A];w(B.value,{componentStack:B.stack})}}finally{V.T=c,Y.p=v}}(pa&3)!==0&&Ih(),ji(l),v=l.pendingLanes,(d&261930)!==0&&(v&42)!==0?l===Ux?Ru++:(Ru=0,Ux=l):Ru=0,Lu(0)}}function $O(l,c){(l.pooledCacheLanes&=c)===0&&(c=l.pooledCache,c!=null&&(l.pooledCache=null,gu(c)))}function Ih(){return zO(),IO(),UO(),qO()}function qO(){if(Ft!==5)return!1;var l=os,c=zx;zx=0;var d=sy(pa),g=V.T,v=Y.p;try{Y.p=32>d?32:d,V.T=null,d=Ix,Ix=null;var w=os,A=pa;if(Ft=0,Lo=os=null,pa=0,(et&6)!==0)throw Error(r(331));var B=et;if(et|=4,jO(w.current),bO(w,w.current,A,d),et=B,Lu(0,!1),ur&&typeof ur.onPostCommitFiberRoot=="function")try{ur.onPostCommitFiberRoot(eu,w)}catch{}return!0}finally{Y.p=v,V.T=g,$O(l,c)}}function HO(l,c,d){c=Dr(d,c),c=xx(l.stateNode,c,2),l=ts(l,c,2),l!==null&&(nu(l,2),ji(l))}function nt(l,c,d){if(l.tag===3)HO(l,l,d);else for(;c!==null;){if(c.tag===3){HO(c,l,d);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(ls===null||!ls.has(g))){l=Dr(d,l),d=Vk(2),g=ts(c,d,2),g!==null&&(Fk(d,g,c,l),nu(g,2),ji(g));break}}c=c.return}}function Hx(l,c,d){var g=l.pingCache;if(g===null){g=l.pingCache=new q9;var v=new Set;g.set(c,v)}else v=g.get(c),v===void 0&&(v=new Set,g.set(c,v));v.has(d)||(Rx=!0,v.add(d),l=G9.bind(null,l,c,d),c.then(l,l))}function G9(l,c,d){var g=l.pingCache;g!==null&&g.delete(c),l.pingedLanes|=l.suspendedLanes&d,l.warmLanes&=~d,ct===l&&(Ve&d)===d&&(At===4||At===3&&(Ve&62914560)===Ve&&300>cr()-Dh?(et&2)===0&&Bo(l,0):Lx|=d,Ro===Ve&&(Ro=0)),ji(l)}function VO(l,c){c===0&&(c=zN()),l=tl(l,c),l!==null&&(nu(l,c),ji(l))}function K9(l){var c=l.memoizedState,d=0;c!==null&&(d=c.retryLane),VO(l,d)}function Y9(l,c){var d=0;switch(l.tag){case 31:case 13:var g=l.stateNode,v=l.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=l.stateNode;break;case 22:g=l.stateNode._retryCache;break;default:throw Error(r(314))}g!==null&&g.delete(c),VO(l,d)}function Q9(l,c){return ny(l,c)}var Uh=null,Io=null,Vx=!1,$h=!1,Fx=!1,us=0;function ji(l){l!==Io&&l.next===null&&(Io===null?Uh=Io=l:Io=Io.next=l),$h=!0,Vx||(Vx=!0,Z9())}function Lu(l,c){if(!Fx&&$h){Fx=!0;do for(var d=!1,g=Uh;g!==null;){if(l!==0){var v=g.pendingLanes;if(v===0)var w=0;else{var A=g.suspendedLanes,B=g.pingedLanes;w=(1<<31-fr(42|l)+1)-1,w&=v&~(A&~B),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(d=!0,KO(g,w))}else w=Ve,w=Fd(g,g===ct?w:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(w&3)===0||tu(g,w)||(d=!0,KO(g,w));g=g.next}while(d);Fx=!1}}function X9(){FO()}function FO(){$h=Vx=!1;var l=0;us!==0&&oU()&&(l=us);for(var c=cr(),d=null,g=Uh;g!==null;){var v=g.next,w=WO(g,c);w===0?(g.next=null,d===null?Uh=v:d.next=v,v===null&&(Io=d)):(d=g,(l!==0||(w&3)!==0)&&($h=!0)),g=v}Ft!==0&&Ft!==5||Lu(l),us!==0&&(us=0)}function WO(l,c){for(var d=l.suspendedLanes,g=l.pingedLanes,v=l.expirationTimes,w=l.pendingLanes&-62914561;0<w;){var A=31-fr(w),B=1<<A,F=v[A];F===-1?((B&d)===0||(B&g)!==0)&&(v[A]=N7(B,c)):F<=c&&(l.expiredLanes|=B),w&=~B}if(c=ct,d=Ve,d=Fd(l,l===c?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g=l.callbackNode,d===0||l===c&&(tt===2||tt===9)||l.cancelPendingCommit!==null)return g!==null&&g!==null&&ry(g),l.callbackNode=null,l.callbackPriority=0;if((d&3)===0||tu(l,d)){if(c=d&-d,c===l.callbackPriority)return c;switch(g!==null&&ry(g),sy(d)){case 2:case 8:d=LN;break;case 32:d=$d;break;case 268435456:d=BN;break;default:d=$d}return g=GO.bind(null,l),d=ny(d,g),l.callbackPriority=c,l.callbackNode=d,c}return g!==null&&g!==null&&ry(g),l.callbackPriority=2,l.callbackNode=null,2}function GO(l,c){if(Ft!==0&&Ft!==5)return l.callbackNode=null,l.callbackPriority=0,null;var d=l.callbackNode;if(Ih()&&l.callbackNode!==d)return null;var g=Ve;return g=Fd(l,l===ct?g:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),g===0?null:(AO(l,g,c),WO(l,cr()),l.callbackNode!=null&&l.callbackNode===d?GO.bind(null,l):null)}function KO(l,c){if(Ih())return null;AO(l,c,!0)}function Z9(){uU(function(){(et&6)!==0?ny(RN,X9):FO()})}function Wx(){if(us===0){var l=No;l===0&&(l=qd,qd<<=1,(qd&261888)===0&&(qd=256)),us=l}return us}function YO(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:Yd(""+l)}function QO(l,c){var d=c.ownerDocument.createElement("input");return d.name=c.name,d.value=c.value,l.id&&d.setAttribute("form",l.id),c.parentNode.insertBefore(d,c),l=new FormData(l),d.parentNode.removeChild(d),l}function J9(l,c,d,g,v){if(c==="submit"&&d&&d.stateNode===v){var w=YO((v[Hn]||null).action),A=g.submitter;A&&(c=(c=A[Hn]||null)?YO(c.formAction):A.getAttribute("formAction"),c!==null&&(w=c,A=null));var B=new Jd("action","action",null,g,v);l.push({event:B,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(us!==0){var F=A?QO(v,A):new FormData(v);dx(d,{pending:!0,data:F,method:v.method,action:w},null,F)}}else typeof w=="function"&&(B.preventDefault(),F=A?QO(v,A):new FormData(v),dx(d,{pending:!0,data:F,method:v.method,action:w},w,F))},currentTarget:v}]})}}for(var Gx=0;Gx<Ey.length;Gx++){var Kx=Ey[Gx],eU=Kx.toLowerCase(),tU=Kx[0].toUpperCase()+Kx.slice(1);ni(eU,"on"+tU)}ni(OC,"onAnimationEnd"),ni(AC,"onAnimationIteration"),ni(EC,"onAnimationStart"),ni("dblclick","onDoubleClick"),ni("focusin","onFocus"),ni("focusout","onBlur"),ni(y9,"onTransitionRun"),ni(x9,"onTransitionStart"),ni(v9,"onTransitionCancel"),ni(TC,"onTransitionEnd"),co("onMouseEnter",["mouseout","mouseover"]),co("onMouseLeave",["mouseout","mouseover"]),co("onPointerEnter",["pointerout","pointerover"]),co("onPointerLeave",["pointerout","pointerover"]),Xs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xs("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),nU=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Bu));function XO(l,c){c=(c&4)!==0;for(var d=0;d<l.length;d++){var g=l[d],v=g.event;g=g.listeners;e:{var w=void 0;if(c)for(var A=g.length-1;0<=A;A--){var B=g[A],F=B.instance,ne=B.currentTarget;if(B=B.listener,F!==w&&v.isPropagationStopped())break e;w=B,v.currentTarget=ne;try{w(v)}catch(ce){nh(ce)}v.currentTarget=null,w=F}else for(A=0;A<g.length;A++){if(B=g[A],F=B.instance,ne=B.currentTarget,B=B.listener,F!==w&&v.isPropagationStopped())break e;w=B,v.currentTarget=ne;try{w(v)}catch(ce){nh(ce)}v.currentTarget=null,w=F}}}}function qe(l,c){var d=c[ly];d===void 0&&(d=c[ly]=new Set);var g=l+"__bubble";d.has(g)||(ZO(c,l,2,!1),d.add(g))}function Yx(l,c,d){var g=0;c&&(g|=4),ZO(d,l,g,c)}var qh="_reactListening"+Math.random().toString(36).slice(2);function Qx(l){if(!l[qh]){l[qh]=!0,FN.forEach(function(d){d!=="selectionchange"&&(nU.has(d)||Yx(d,!1,l),Yx(d,!0,l))});var c=l.nodeType===9?l:l.ownerDocument;c===null||c[qh]||(c[qh]=!0,Yx("selectionchange",!1,c))}}function ZO(l,c,d,g){switch(OA(c)){case 2:var v=TU;break;case 8:v=MU;break;default:v=fv}d=v.bind(null,c,d,l),v=void 0,!gy||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(v=!0),g?v!==void 0?l.addEventListener(c,d,{capture:!0,passive:v}):l.addEventListener(c,d,!0):v!==void 0?l.addEventListener(c,d,{passive:v}):l.addEventListener(c,d,!1)}function Xx(l,c,d,g,v){var w=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var A=g.tag;if(A===3||A===4){var B=g.stateNode.containerInfo;if(B===v)break;if(A===4)for(A=g.return;A!==null;){var F=A.tag;if((F===3||F===4)&&A.stateNode.containerInfo===v)return;A=A.return}for(;B!==null;){if(A=so(B),A===null)return;if(F=A.tag,F===5||F===6||F===26||F===27){g=w=A;continue e}B=B.parentNode}}g=g.return}rC(function(){var ne=w,ce=my(d),de=[];e:{var ie=MC.get(l);if(ie!==void 0){var se=Jd,Se=l;switch(l){case"keypress":if(Xd(d)===0)break e;case"keydown":case"keyup":se=Y7;break;case"focusin":Se="focus",se=by;break;case"focusout":Se="blur",se=by;break;case"beforeblur":case"afterblur":se=by;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=sC;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=B7;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Z7;break;case OC:case AC:case EC:se=U7;break;case TC:se=e9;break;case"scroll":case"scrollend":se=R7;break;case"wheel":se=n9;break;case"copy":case"cut":case"paste":se=q7;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=oC;break;case"toggle":case"beforetoggle":se=i9}var Pe=(c&4)!==0,st=!Pe&&(l==="scroll"||l==="scrollend"),Z=Pe?ie!==null?ie+"Capture":null:ie;Pe=[];for(var G=ne,ee;G!==null;){var fe=G;if(ee=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||ee===null||Z===null||(fe=au(G,Z),fe!=null&&Pe.push(zu(G,fe,ee))),st)break;G=G.return}0<Pe.length&&(ie=new se(ie,Se,null,d,ce),de.push({event:ie,listeners:Pe}))}}if((c&7)===0){e:{if(ie=l==="mouseover"||l==="pointerover",se=l==="mouseout"||l==="pointerout",ie&&d!==hy&&(Se=d.relatedTarget||d.fromElement)&&(so(Se)||Se[ao]))break e;if((se||ie)&&(ie=ce.window===ce?ce:(ie=ce.ownerDocument)?ie.defaultView||ie.parentWindow:window,se?(Se=d.relatedTarget||d.toElement,se=ne,Se=Se?so(Se):null,Se!==null&&(st=a(Se),Pe=Se.tag,Se!==st||Pe!==5&&Pe!==27&&Pe!==6)&&(Se=null)):(se=null,Se=ne),se!==Se)){if(Pe=sC,fe="onMouseLeave",Z="onMouseEnter",G="mouse",(l==="pointerout"||l==="pointerover")&&(Pe=oC,fe="onPointerLeave",Z="onPointerEnter",G="pointer"),st=se==null?ie:iu(se),ee=Se==null?ie:iu(Se),ie=new Pe(fe,G+"leave",se,d,ce),ie.target=st,ie.relatedTarget=ee,fe=null,so(ce)===ne&&(Pe=new Pe(Z,G+"enter",Se,d,ce),Pe.target=ee,Pe.relatedTarget=st,fe=Pe),st=fe,se&&Se)t:{for(Pe=rU,Z=se,G=Se,ee=0,fe=Z;fe;fe=Pe(fe))ee++;fe=0;for(var Ee=G;Ee;Ee=Pe(Ee))fe++;for(;0<ee-fe;)Z=Pe(Z),ee--;for(;0<fe-ee;)G=Pe(G),fe--;for(;ee--;){if(Z===G||G!==null&&Z===G.alternate){Pe=Z;break t}Z=Pe(Z),G=Pe(G)}Pe=null}else Pe=null;se!==null&&JO(de,ie,se,Pe,!1),Se!==null&&st!==null&&JO(de,st,Se,Pe,!0)}}e:{if(ie=ne?iu(ne):window,se=ie.nodeName&&ie.nodeName.toLowerCase(),se==="select"||se==="input"&&ie.type==="file")var Ye=gC;else if(mC(ie))if(yC)Ye=m9;else{Ye=d9;var ke=f9}else se=ie.nodeName,!se||se.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?ne&&dy(ne.elementType)&&(Ye=gC):Ye=h9;if(Ye&&(Ye=Ye(l,ne))){pC(de,Ye,d,ce);break e}ke&&ke(l,ie,ne),l==="focusout"&&ne&&ie.type==="number"&&ne.memoizedProps.value!=null&&fy(ie,"number",ie.value)}switch(ke=ne?iu(ne):window,l){case"focusin":(mC(ke)||ke.contentEditable==="true")&&(go=ke,ky=ne,hu=null);break;case"focusout":hu=ky=go=null;break;case"mousedown":Oy=!0;break;case"contextmenu":case"mouseup":case"dragend":Oy=!1,CC(de,d,ce);break;case"selectionchange":if(g9)break;case"keydown":case"keyup":CC(de,d,ce)}var Ie;if(Sy)e:{switch(l){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else po?dC(l,d)&&(Fe="onCompositionEnd"):l==="keydown"&&d.keyCode===229&&(Fe="onCompositionStart");Fe&&(cC&&d.locale!=="ko"&&(po||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&po&&(Ie=iC()):(Ka=ce,yy="value"in Ka?Ka.value:Ka.textContent,po=!0)),ke=Hh(ne,Fe),0<ke.length&&(Fe=new lC(Fe,l,null,d,ce),de.push({event:Fe,listeners:ke}),Ie?Fe.data=Ie:(Ie=hC(d),Ie!==null&&(Fe.data=Ie)))),(Ie=s9?l9(l,d):o9(l,d))&&(Fe=Hh(ne,"onBeforeInput"),0<Fe.length&&(ke=new lC("onBeforeInput","beforeinput",null,d,ce),de.push({event:ke,listeners:Fe}),ke.data=Ie)),J9(de,l,ne,d,ce)}XO(de,c)})}function zu(l,c,d){return{instance:l,listener:c,currentTarget:d}}function Hh(l,c){for(var d=c+"Capture",g=[];l!==null;){var v=l,w=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||w===null||(v=au(l,d),v!=null&&g.unshift(zu(l,v,w)),v=au(l,c),v!=null&&g.push(zu(l,v,w))),l.tag===3)return g;l=l.return}return[]}function rU(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function JO(l,c,d,g,v){for(var w=c._reactName,A=[];d!==null&&d!==g;){var B=d,F=B.alternate,ne=B.stateNode;if(B=B.tag,F!==null&&F===g)break;B!==5&&B!==26&&B!==27||ne===null||(F=ne,v?(ne=au(d,w),ne!=null&&A.unshift(zu(d,ne,F))):v||(ne=au(d,w),ne!=null&&A.push(zu(d,ne,F)))),d=d.return}A.length!==0&&l.push({event:c,listeners:A})}var iU=/\r\n?/g,aU=/\u0000|\uFFFD/g;function eA(l){return(typeof l=="string"?l:""+l).replace(iU,`
`).replace(aU,"")}function tA(l,c){return c=eA(c),eA(l)===c}function at(l,c,d,g,v,w){switch(d){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||fo(l,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&fo(l,""+g);break;case"className":Gd(l,"class",g);break;case"tabIndex":Gd(l,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Gd(l,d,g);break;case"style":tC(l,g,w);break;case"data":if(c!=="object"){Gd(l,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||d!=="href")){l.removeAttribute(d);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(d);break}g=Yd(""+g),l.setAttribute(d,g);break;case"action":case"formAction":if(typeof g=="function"){l.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(d==="formAction"?(c!=="input"&&at(l,c,"name",v.name,v,null),at(l,c,"formEncType",v.formEncType,v,null),at(l,c,"formMethod",v.formMethod,v,null),at(l,c,"formTarget",v.formTarget,v,null)):(at(l,c,"encType",v.encType,v,null),at(l,c,"method",v.method,v,null),at(l,c,"target",v.target,v,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){l.removeAttribute(d);break}g=Yd(""+g),l.setAttribute(d,g);break;case"onClick":g!=null&&(l.onclick=ea);break;case"onScroll":g!=null&&qe("scroll",l);break;case"onScrollEnd":g!=null&&qe("scrollend",l);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"multiple":l.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":l.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){l.removeAttribute("xlink:href");break}d=Yd(""+g),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(d,""+g):l.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(d,""):l.removeAttribute(d);break;case"capture":case"download":g===!0?l.setAttribute(d,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?l.setAttribute(d,g):l.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?l.setAttribute(d,g):l.removeAttribute(d);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?l.removeAttribute(d):l.setAttribute(d,g);break;case"popover":qe("beforetoggle",l),qe("toggle",l),Wd(l,"popover",g);break;case"xlinkActuate":Ji(l,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":Ji(l,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":Ji(l,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":Ji(l,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":Ji(l,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":Ji(l,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":Ji(l,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":Ji(l,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":Ji(l,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Wd(l,"is",g);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=D7.get(d)||d,Wd(l,d,g))}}function Zx(l,c,d,g,v,w){switch(d){case"style":tC(l,g,w);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(r(61));if(d=g.__html,d!=null){if(v.children!=null)throw Error(r(60));l.innerHTML=d}}break;case"children":typeof g=="string"?fo(l,g):(typeof g=="number"||typeof g=="bigint")&&fo(l,""+g);break;case"onScroll":g!=null&&qe("scroll",l);break;case"onScrollEnd":g!=null&&qe("scrollend",l);break;case"onClick":g!=null&&(l.onclick=ea);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!WN.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),c=d.slice(2,v?d.length-7:void 0),w=l[Hn]||null,w=w!=null?w[d]:null,typeof w=="function"&&l.removeEventListener(c,w,v),typeof g=="function")){typeof w!="function"&&w!==null&&(d in l?l[d]=null:l.hasAttribute(d)&&l.removeAttribute(d)),l.addEventListener(c,g,v);break e}d in l?l[d]=g:g===!0?l.setAttribute(d,""):Wd(l,d,g)}}}function yn(l,c,d){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":qe("error",l),qe("load",l);var g=!1,v=!1,w;for(w in d)if(d.hasOwnProperty(w)){var A=d[w];if(A!=null)switch(w){case"src":g=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:at(l,c,w,A,d,null)}}v&&at(l,c,"srcSet",d.srcSet,d,null),g&&at(l,c,"src",d.src,d,null);return;case"input":qe("invalid",l);var B=w=A=v=null,F=null,ne=null;for(g in d)if(d.hasOwnProperty(g)){var ce=d[g];if(ce!=null)switch(g){case"name":v=ce;break;case"type":A=ce;break;case"checked":F=ce;break;case"defaultChecked":ne=ce;break;case"value":w=ce;break;case"defaultValue":B=ce;break;case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(r(137,c));break;default:at(l,c,g,ce,d,null)}}XN(l,w,B,F,ne,A,v,!1);return;case"select":qe("invalid",l),g=A=w=null;for(v in d)if(d.hasOwnProperty(v)&&(B=d[v],B!=null))switch(v){case"value":w=B;break;case"defaultValue":A=B;break;case"multiple":g=B;default:at(l,c,v,B,d,null)}c=w,d=A,l.multiple=!!g,c!=null?uo(l,!!g,c,!1):d!=null&&uo(l,!!g,d,!0);return;case"textarea":qe("invalid",l),w=v=g=null;for(A in d)if(d.hasOwnProperty(A)&&(B=d[A],B!=null))switch(A){case"value":g=B;break;case"defaultValue":v=B;break;case"children":w=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:at(l,c,A,B,d,null)}JN(l,g,v,w);return;case"option":for(F in d)d.hasOwnProperty(F)&&(g=d[F],g!=null)&&(F==="selected"?l.selected=g&&typeof g!="function"&&typeof g!="symbol":at(l,c,F,g,d,null));return;case"dialog":qe("beforetoggle",l),qe("toggle",l),qe("cancel",l),qe("close",l);break;case"iframe":case"object":qe("load",l);break;case"video":case"audio":for(g=0;g<Bu.length;g++)qe(Bu[g],l);break;case"image":qe("error",l),qe("load",l);break;case"details":qe("toggle",l);break;case"embed":case"source":case"link":qe("error",l),qe("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ne in d)if(d.hasOwnProperty(ne)&&(g=d[ne],g!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,c));default:at(l,c,ne,g,d,null)}return;default:if(dy(c)){for(ce in d)d.hasOwnProperty(ce)&&(g=d[ce],g!==void 0&&Zx(l,c,ce,g,d,void 0));return}}for(B in d)d.hasOwnProperty(B)&&(g=d[B],g!=null&&at(l,c,B,g,d,null))}function sU(l,c,d,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,w=null,A=null,B=null,F=null,ne=null,ce=null;for(se in d){var de=d[se];if(d.hasOwnProperty(se)&&de!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":F=de;default:g.hasOwnProperty(se)||at(l,c,se,null,g,de)}}for(var ie in g){var se=g[ie];if(de=d[ie],g.hasOwnProperty(ie)&&(se!=null||de!=null))switch(ie){case"type":w=se;break;case"name":v=se;break;case"checked":ne=se;break;case"defaultChecked":ce=se;break;case"value":A=se;break;case"defaultValue":B=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(r(137,c));break;default:se!==de&&at(l,c,ie,se,g,de)}}uy(l,A,B,F,ne,ce,w,v);return;case"select":se=A=B=ie=null;for(w in d)if(F=d[w],d.hasOwnProperty(w)&&F!=null)switch(w){case"value":break;case"multiple":se=F;default:g.hasOwnProperty(w)||at(l,c,w,null,g,F)}for(v in g)if(w=g[v],F=d[v],g.hasOwnProperty(v)&&(w!=null||F!=null))switch(v){case"value":ie=w;break;case"defaultValue":B=w;break;case"multiple":A=w;default:w!==F&&at(l,c,v,w,g,F)}c=B,d=A,g=se,ie!=null?uo(l,!!d,ie,!1):!!g!=!!d&&(c!=null?uo(l,!!d,c,!0):uo(l,!!d,d?[]:"",!1));return;case"textarea":se=ie=null;for(B in d)if(v=d[B],d.hasOwnProperty(B)&&v!=null&&!g.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:at(l,c,B,null,g,v)}for(A in g)if(v=g[A],w=d[A],g.hasOwnProperty(A)&&(v!=null||w!=null))switch(A){case"value":ie=v;break;case"defaultValue":se=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==w&&at(l,c,A,v,g,w)}ZN(l,ie,se);return;case"option":for(var Se in d)ie=d[Se],d.hasOwnProperty(Se)&&ie!=null&&!g.hasOwnProperty(Se)&&(Se==="selected"?l.selected=!1:at(l,c,Se,null,g,ie));for(F in g)ie=g[F],se=d[F],g.hasOwnProperty(F)&&ie!==se&&(ie!=null||se!=null)&&(F==="selected"?l.selected=ie&&typeof ie!="function"&&typeof ie!="symbol":at(l,c,F,ie,g,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in d)ie=d[Pe],d.hasOwnProperty(Pe)&&ie!=null&&!g.hasOwnProperty(Pe)&&at(l,c,Pe,null,g,ie);for(ne in g)if(ie=g[ne],se=d[ne],g.hasOwnProperty(ne)&&ie!==se&&(ie!=null||se!=null))switch(ne){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(r(137,c));break;default:at(l,c,ne,ie,g,se)}return;default:if(dy(c)){for(var st in d)ie=d[st],d.hasOwnProperty(st)&&ie!==void 0&&!g.hasOwnProperty(st)&&Zx(l,c,st,void 0,g,ie);for(ce in g)ie=g[ce],se=d[ce],!g.hasOwnProperty(ce)||ie===se||ie===void 0&&se===void 0||Zx(l,c,ce,ie,g,se);return}}for(var Z in d)ie=d[Z],d.hasOwnProperty(Z)&&ie!=null&&!g.hasOwnProperty(Z)&&at(l,c,Z,null,g,ie);for(de in g)ie=g[de],se=d[de],!g.hasOwnProperty(de)||ie===se||ie==null&&se==null||at(l,c,de,ie,g,se)}function nA(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lU(){if(typeof performance.getEntriesByType=="function"){for(var l=0,c=0,d=performance.getEntriesByType("resource"),g=0;g<d.length;g++){var v=d[g],w=v.transferSize,A=v.initiatorType,B=v.duration;if(w&&B&&nA(A)){for(A=0,B=v.responseEnd,g+=1;g<d.length;g++){var F=d[g],ne=F.startTime;if(ne>B)break;var ce=F.transferSize,de=F.initiatorType;ce&&nA(de)&&(F=F.responseEnd,A+=ce*(F<B?1:(B-ne)/(F-ne)))}if(--g,c+=8*(w+A)/(v.duration/1e3),l++,10<l)break}}if(0<l)return c/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var Jx=null,ev=null;function Vh(l){return l.nodeType===9?l:l.ownerDocument}function rA(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function iA(l,c){if(l===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&c==="foreignObject"?0:l}function tv(l,c){return l==="textarea"||l==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var nv=null;function oU(){var l=window.event;return l&&l.type==="popstate"?l===nv?!1:(nv=l,!0):(nv=null,!1)}var aA=typeof setTimeout=="function"?setTimeout:void 0,cU=typeof clearTimeout=="function"?clearTimeout:void 0,sA=typeof Promise=="function"?Promise:void 0,uU=typeof queueMicrotask=="function"?queueMicrotask:typeof sA<"u"?function(l){return sA.resolve(null).then(l).catch(fU)}:aA;function fU(l){setTimeout(function(){throw l})}function fs(l){return l==="head"}function lA(l,c){var d=c,g=0;do{var v=d.nextSibling;if(l.removeChild(d),v&&v.nodeType===8)if(d=v.data,d==="/$"||d==="/&"){if(g===0){l.removeChild(v),Ho(c);return}g--}else if(d==="$"||d==="$?"||d==="$~"||d==="$!"||d==="&")g++;else if(d==="html")Iu(l.ownerDocument.documentElement);else if(d==="head"){d=l.ownerDocument.head,Iu(d);for(var w=d.firstChild;w;){var A=w.nextSibling,B=w.nodeName;w[ru]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&w.rel.toLowerCase()==="stylesheet"||d.removeChild(w),w=A}}else d==="body"&&Iu(l.ownerDocument.body);d=v}while(d);Ho(c)}function oA(l,c){var d=l;l=0;do{var g=d.nextSibling;if(d.nodeType===1?c?(d._stashedDisplay=d.style.display,d.style.display="none"):(d.style.display=d._stashedDisplay||"",d.getAttribute("style")===""&&d.removeAttribute("style")):d.nodeType===3&&(c?(d._stashedText=d.nodeValue,d.nodeValue=""):d.nodeValue=d._stashedText||""),g&&g.nodeType===8)if(d=g.data,d==="/$"){if(l===0)break;l--}else d!=="$"&&d!=="$?"&&d!=="$~"&&d!=="$!"||l++;d=g}while(d)}function rv(l){var c=l.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var d=c;switch(c=c.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":rv(d),oy(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}l.removeChild(d)}}function dU(l,c,d,g){for(;l.nodeType===1;){var v=d;if(l.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(g){if(!l[ru])switch(c){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(w=l.getAttribute("rel"),w==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(w!==v.rel||l.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||l.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||l.getAttribute("title")!==(v.title==null?null:v.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(w=l.getAttribute("src"),(w!==(v.src==null?null:v.src)||l.getAttribute("type")!==(v.type==null?null:v.type)||l.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&w&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(c==="input"&&l.type==="hidden"){var w=v.name==null?null:""+v.name;if(v.type==="hidden"&&l.getAttribute("name")===w)return l}else return l;if(l=zr(l.nextSibling),l===null)break}return null}function hU(l,c,d){if(c==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!d||(l=zr(l.nextSibling),l===null))return null;return l}function cA(l,c){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!c||(l=zr(l.nextSibling),l===null))return null;return l}function iv(l){return l.data==="$?"||l.data==="$~"}function av(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function mU(l,c){var d=l.ownerDocument;if(l.data==="$~")l._reactRetry=c;else if(l.data!=="$?"||d.readyState!=="loading")c();else{var g=function(){c(),d.removeEventListener("DOMContentLoaded",g)};d.addEventListener("DOMContentLoaded",g),l._reactRetry=g}}function zr(l){for(;l!=null;l=l.nextSibling){var c=l.nodeType;if(c===1||c===3)break;if(c===8){if(c=l.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return l}var sv=null;function uA(l){l=l.nextSibling;for(var c=0;l;){if(l.nodeType===8){var d=l.data;if(d==="/$"||d==="/&"){if(c===0)return zr(l.nextSibling);c--}else d!=="$"&&d!=="$!"&&d!=="$?"&&d!=="$~"&&d!=="&"||c++}l=l.nextSibling}return null}function fA(l){l=l.previousSibling;for(var c=0;l;){if(l.nodeType===8){var d=l.data;if(d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"){if(c===0)return l;c--}else d!=="/$"&&d!=="/&"||c++}l=l.previousSibling}return null}function dA(l,c,d){switch(c=Vh(d),l){case"html":if(l=c.documentElement,!l)throw Error(r(452));return l;case"head":if(l=c.head,!l)throw Error(r(453));return l;case"body":if(l=c.body,!l)throw Error(r(454));return l;default:throw Error(r(451))}}function Iu(l){for(var c=l.attributes;c.length;)l.removeAttributeNode(c[0]);oy(l)}var Ir=new Map,hA=new Set;function Fh(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var ga=Y.d;Y.d={f:pU,r:gU,D:yU,C:xU,L:vU,m:bU,X:SU,S:wU,M:jU};function pU(){var l=ga.f(),c=Lh();return l||c}function gU(l){var c=lo(l);c!==null&&c.tag===5&&c.type==="form"?Tk(c):ga.r(l)}var Uo=typeof document>"u"?null:document;function mA(l,c,d){var g=Uo;if(g&&typeof c=="string"&&c){var v=Mr(c);v='link[rel="'+l+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),hA.has(v)||(hA.add(v),l={rel:l,crossOrigin:d,href:c},g.querySelector(v)===null&&(c=g.createElement("link"),yn(c,"link",l),Jt(c),g.head.appendChild(c)))}}function yU(l){ga.D(l),mA("dns-prefetch",l,null)}function xU(l,c){ga.C(l,c),mA("preconnect",l,c)}function vU(l,c,d){ga.L(l,c,d);var g=Uo;if(g&&l&&c){var v='link[rel="preload"][as="'+Mr(c)+'"]';c==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Mr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Mr(d.imageSizes)+'"]')):v+='[href="'+Mr(l)+'"]';var w=v;switch(c){case"style":w=$o(l);break;case"script":w=qo(l)}Ir.has(w)||(l=p({rel:"preload",href:c==="image"&&d&&d.imageSrcSet?void 0:l,as:c},d),Ir.set(w,l),g.querySelector(v)!==null||c==="style"&&g.querySelector(Uu(w))||c==="script"&&g.querySelector($u(w))||(c=g.createElement("link"),yn(c,"link",l),Jt(c),g.head.appendChild(c)))}}function bU(l,c){ga.m(l,c);var d=Uo;if(d&&l){var g=c&&typeof c.as=="string"?c.as:"script",v='link[rel="modulepreload"][as="'+Mr(g)+'"][href="'+Mr(l)+'"]',w=v;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=qo(l)}if(!Ir.has(w)&&(l=p({rel:"modulepreload",href:l},c),Ir.set(w,l),d.querySelector(v)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector($u(w)))return}g=d.createElement("link"),yn(g,"link",l),Jt(g),d.head.appendChild(g)}}}function wU(l,c,d){ga.S(l,c,d);var g=Uo;if(g&&l){var v=oo(g).hoistableStyles,w=$o(l);c=c||"default";var A=v.get(w);if(!A){var B={loading:0,preload:null};if(A=g.querySelector(Uu(w)))B.loading=5;else{l=p({rel:"stylesheet",href:l,"data-precedence":c},d),(d=Ir.get(w))&&lv(l,d);var F=A=g.createElement("link");Jt(F),yn(F,"link",l),F._p=new Promise(function(ne,ce){F.onload=ne,F.onerror=ce}),F.addEventListener("load",function(){B.loading|=1}),F.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Wh(A,c,g)}A={type:"stylesheet",instance:A,count:1,state:B},v.set(w,A)}}}function SU(l,c){ga.X(l,c);var d=Uo;if(d&&l){var g=oo(d).hoistableScripts,v=qo(l),w=g.get(v);w||(w=d.querySelector($u(v)),w||(l=p({src:l,async:!0},c),(c=Ir.get(v))&&ov(l,c),w=d.createElement("script"),Jt(w),yn(w,"link",l),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function jU(l,c){ga.M(l,c);var d=Uo;if(d&&l){var g=oo(d).hoistableScripts,v=qo(l),w=g.get(v);w||(w=d.querySelector($u(v)),w||(l=p({src:l,async:!0,type:"module"},c),(c=Ir.get(v))&&ov(l,c),w=d.createElement("script"),Jt(w),yn(w,"link",l),d.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},g.set(v,w))}}function pA(l,c,d,g){var v=(v=Q.current)?Fh(v):null;if(!v)throw Error(r(446));switch(l){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(c=$o(d.href),d=oo(v).hoistableStyles,g=d.get(c),g||(g={type:"style",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){l=$o(d.href);var w=oo(v).hoistableStyles,A=w.get(l);if(A||(v=v.ownerDocument||v,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(l,A),(w=v.querySelector(Uu(l)))&&!w._p&&(A.instance=w,A.state.loading=5),Ir.has(l)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Ir.set(l,d),w||NU(v,l,d,A.state))),c&&g===null)throw Error(r(528,""));return A}if(c&&g!==null)throw Error(r(529,""));return null;case"script":return c=d.async,d=d.src,typeof d=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=qo(d),d=oo(v).hoistableScripts,g=d.get(c),g||(g={type:"script",instance:null,count:0,state:null},d.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,l))}}function $o(l){return'href="'+Mr(l)+'"'}function Uu(l){return'link[rel="stylesheet"]['+l+"]"}function gA(l){return p({},l,{"data-precedence":l.precedence,precedence:null})}function NU(l,c,d,g){l.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=l.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),yn(c,"link",d),Jt(c),l.head.appendChild(c))}function qo(l){return'[src="'+Mr(l)+'"]'}function $u(l){return"script[async]"+l}function yA(l,c,d){if(c.count++,c.instance===null)switch(c.type){case"style":var g=l.querySelector('style[data-href~="'+Mr(d.href)+'"]');if(g)return c.instance=g,Jt(g),g;var v=p({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return g=(l.ownerDocument||l).createElement("style"),Jt(g),yn(g,"style",v),Wh(g,d.precedence,l),c.instance=g;case"stylesheet":v=$o(d.href);var w=l.querySelector(Uu(v));if(w)return c.state.loading|=4,c.instance=w,Jt(w),w;g=gA(d),(v=Ir.get(v))&&lv(g,v),w=(l.ownerDocument||l).createElement("link"),Jt(w);var A=w;return A._p=new Promise(function(B,F){A.onload=B,A.onerror=F}),yn(w,"link",g),c.state.loading|=4,Wh(w,d.precedence,l),c.instance=w;case"script":return w=qo(d.src),(v=l.querySelector($u(w)))?(c.instance=v,Jt(v),v):(g=d,(v=Ir.get(w))&&(g=p({},d),ov(g,v)),l=l.ownerDocument||l,v=l.createElement("script"),Jt(v),yn(v,"link",g),l.head.appendChild(v),c.instance=v);case"void":return null;default:throw Error(r(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Wh(g,d.precedence,l));return c.instance}function Wh(l,c,d){for(var g=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=g.length?g[g.length-1]:null,w=v,A=0;A<g.length;A++){var B=g[A];if(B.dataset.precedence===c)w=B;else if(w!==v)break}w?w.parentNode.insertBefore(l,w.nextSibling):(c=d.nodeType===9?d.head:d,c.insertBefore(l,c.firstChild))}function lv(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.title==null&&(l.title=c.title)}function ov(l,c){l.crossOrigin==null&&(l.crossOrigin=c.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=c.referrerPolicy),l.integrity==null&&(l.integrity=c.integrity)}var Gh=null;function xA(l,c,d){if(Gh===null){var g=new Map,v=Gh=new Map;v.set(d,g)}else v=Gh,g=v.get(d),g||(g=new Map,v.set(d,g));if(g.has(l))return g;for(g.set(l,null),d=d.getElementsByTagName(l),v=0;v<d.length;v++){var w=d[v];if(!(w[ru]||w[hn]||l==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var A=w.getAttribute(c)||"";A=l+A;var B=g.get(A);B?B.push(w):g.set(A,[w])}}return g}function vA(l,c,d){l=l.ownerDocument||l,l.head.insertBefore(d,c==="title"?l.querySelector("head > title"):null)}function CU(l,c,d){if(d===1||c.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;return c.rel==="stylesheet"?(l=c.disabled,typeof c.precedence=="string"&&l==null):!0;case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function bA(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function kU(l,c,d,g){if(d.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(d.state.loading&4)===0){if(d.instance===null){var v=$o(g.href),w=c.querySelector(Uu(v));if(w){c=w._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(l.count++,l=Kh.bind(l),c.then(l,l)),d.state.loading|=4,d.instance=w,Jt(w);return}w=c.ownerDocument||c,g=gA(g),(v=Ir.get(v))&&lv(g,v),w=w.createElement("link"),Jt(w);var A=w;A._p=new Promise(function(B,F){A.onload=B,A.onerror=F}),yn(w,"link",g),d.instance=w}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(d,c),(c=d.state.preload)&&(d.state.loading&3)===0&&(l.count++,d=Kh.bind(l),c.addEventListener("load",d),c.addEventListener("error",d))}}var cv=0;function OU(l,c){return l.stylesheets&&l.count===0&&Qh(l,l.stylesheets),0<l.count||0<l.imgCount?function(d){var g=setTimeout(function(){if(l.stylesheets&&Qh(l,l.stylesheets),l.unsuspend){var w=l.unsuspend;l.unsuspend=null,w()}},6e4+c);0<l.imgBytes&&cv===0&&(cv=62500*lU());var v=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&Qh(l,l.stylesheets),l.unsuspend)){var w=l.unsuspend;l.unsuspend=null,w()}},(l.imgBytes>cv?50:800)+c);return l.unsuspend=d,function(){l.unsuspend=null,clearTimeout(g),clearTimeout(v)}}:null}function Kh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Qh(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var Yh=null;function Qh(l,c){l.stylesheets=null,l.unsuspend!==null&&(l.count++,Yh=new Map,c.forEach(AU,l),Yh=null,Kh.call(l))}function AU(l,c){if(!(c.state.loading&4)){var d=Yh.get(l);if(d)var g=d.get(null);else{d=new Map,Yh.set(l,d);for(var v=l.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<v.length;w++){var A=v[w];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(d.set(A.dataset.precedence,A),g=A)}g&&d.set(null,g)}v=c.instance,A=v.getAttribute("data-precedence"),w=d.get(A)||g,w===g&&d.set(null,v),d.set(A,v),this.count++,g=Kh.bind(this),v.addEventListener("load",g),v.addEventListener("error",g),w?w.parentNode.insertBefore(v,w.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(v,l.firstChild)),c.state.loading|=4}}var qu={$$typeof:C,Provider:null,Consumer:null,_currentValue:J,_currentValue2:J,_threadCount:0};function EU(l,c,d,g,v,w,A,B,F){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=iy(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iy(0),this.hiddenUpdates=iy(null),this.identifierPrefix=g,this.onUncaughtError=v,this.onCaughtError=w,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function wA(l,c,d,g,v,w,A,B,F,ne,ce,de){return l=new EU(l,c,d,A,F,ne,ce,de,B),c=1,w===!0&&(c|=24),w=hr(3,null,null,c),l.current=w,w.stateNode=l,c=qy(),c.refCount++,l.pooledCache=c,c.refCount++,w.memoizedState={element:g,isDehydrated:d,cache:c},Wy(w),l}function SA(l){return l?(l=vo,l):vo}function jA(l,c,d,g,v,w){v=SA(v),g.context===null?g.context=v:g.pendingContext=v,g=es(c),g.payload={element:d},w=w===void 0?null:w,w!==null&&(g.callback=w),d=ts(l,g,c),d!==null&&(Yn(d,l,c),bu(d,l,c))}function NA(l,c){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var d=l.retryLane;l.retryLane=d!==0&&d<c?d:c}}function uv(l,c){NA(l,c),(l=l.alternate)&&NA(l,c)}function CA(l){if(l.tag===13||l.tag===31){var c=tl(l,67108864);c!==null&&Yn(c,l,67108864),uv(l,67108864)}}function kA(l){if(l.tag===13||l.tag===31){var c=xr();c=ay(c);var d=tl(l,c);d!==null&&Yn(d,l,c),uv(l,c)}}var Xh=!0;function TU(l,c,d,g){var v=V.T;V.T=null;var w=Y.p;try{Y.p=2,fv(l,c,d,g)}finally{Y.p=w,V.T=v}}function MU(l,c,d,g){var v=V.T;V.T=null;var w=Y.p;try{Y.p=8,fv(l,c,d,g)}finally{Y.p=w,V.T=v}}function fv(l,c,d,g){if(Xh){var v=dv(g);if(v===null)Xx(l,c,g,Zh,d),AA(l,g);else if(DU(v,l,c,d,g))g.stopPropagation();else if(AA(l,g),c&4&&-1<_U.indexOf(l)){for(;v!==null;){var w=lo(v);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var A=Qs(w.pendingLanes);if(A!==0){var B=w;for(B.pendingLanes|=2,B.entangledLanes|=2;A;){var F=1<<31-fr(A);B.entanglements[1]|=F,A&=~F}ji(w),(et&6)===0&&(Ph=cr()+500,Lu(0))}}break;case 31:case 13:B=tl(w,2),B!==null&&Yn(B,w,2),Lh(),uv(w,2)}if(w=dv(g),w===null&&Xx(l,c,g,Zh,d),w===v)break;v=w}v!==null&&g.stopPropagation()}else Xx(l,c,g,null,d)}}function dv(l){return l=my(l),hv(l)}var Zh=null;function hv(l){if(Zh=null,l=so(l),l!==null){var c=a(l);if(c===null)l=null;else{var d=c.tag;if(d===13){if(l=s(c),l!==null)return l;l=null}else if(d===31){if(l=o(c),l!==null)return l;l=null}else if(d===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;l=null}else c!==l&&(l=null)}}return Zh=l,null}function OA(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(y7()){case RN:return 2;case LN:return 8;case $d:case x7:return 32;case BN:return 268435456;default:return 32}default:return 32}}var mv=!1,ds=null,hs=null,ms=null,Hu=new Map,Vu=new Map,ps=[],_U="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AA(l,c){switch(l){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":ms=null;break;case"pointerover":case"pointerout":Hu.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(c.pointerId)}}function Fu(l,c,d,g,v,w){return l===null||l.nativeEvent!==w?(l={blockedOn:c,domEventName:d,eventSystemFlags:g,nativeEvent:w,targetContainers:[v]},c!==null&&(c=lo(c),c!==null&&CA(c)),l):(l.eventSystemFlags|=g,c=l.targetContainers,v!==null&&c.indexOf(v)===-1&&c.push(v),l)}function DU(l,c,d,g,v){switch(c){case"focusin":return ds=Fu(ds,l,c,d,g,v),!0;case"dragenter":return hs=Fu(hs,l,c,d,g,v),!0;case"mouseover":return ms=Fu(ms,l,c,d,g,v),!0;case"pointerover":var w=v.pointerId;return Hu.set(w,Fu(Hu.get(w)||null,l,c,d,g,v)),!0;case"gotpointercapture":return w=v.pointerId,Vu.set(w,Fu(Vu.get(w)||null,l,c,d,g,v)),!0}return!1}function EA(l){var c=so(l.target);if(c!==null){var d=a(c);if(d!==null){if(c=d.tag,c===13){if(c=s(d),c!==null){l.blockedOn=c,HN(l.priority,function(){kA(d)});return}}else if(c===31){if(c=o(d),c!==null){l.blockedOn=c,HN(l.priority,function(){kA(d)});return}}else if(c===3&&d.stateNode.current.memoizedState.isDehydrated){l.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Jh(l){if(l.blockedOn!==null)return!1;for(var c=l.targetContainers;0<c.length;){var d=dv(l.nativeEvent);if(d===null){d=l.nativeEvent;var g=new d.constructor(d.type,d);hy=g,d.target.dispatchEvent(g),hy=null}else return c=lo(d),c!==null&&CA(c),l.blockedOn=d,!1;c.shift()}return!0}function TA(l,c,d){Jh(l)&&d.delete(c)}function PU(){mv=!1,ds!==null&&Jh(ds)&&(ds=null),hs!==null&&Jh(hs)&&(hs=null),ms!==null&&Jh(ms)&&(ms=null),Hu.forEach(TA),Vu.forEach(TA)}function em(l,c){l.blockedOn===c&&(l.blockedOn=null,mv||(mv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,PU)))}var tm=null;function MA(l){tm!==l&&(tm=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){tm===l&&(tm=null);for(var c=0;c<l.length;c+=3){var d=l[c],g=l[c+1],v=l[c+2];if(typeof g!="function"){if(hv(g||d)===null)continue;break}var w=lo(d);w!==null&&(l.splice(c,3),c-=3,dx(w,{pending:!0,data:v,method:d.method,action:g},g,v))}}))}function Ho(l){function c(F){return em(F,l)}ds!==null&&em(ds,l),hs!==null&&em(hs,l),ms!==null&&em(ms,l),Hu.forEach(c),Vu.forEach(c);for(var d=0;d<ps.length;d++){var g=ps[d];g.blockedOn===l&&(g.blockedOn=null)}for(;0<ps.length&&(d=ps[0],d.blockedOn===null);)EA(d),d.blockedOn===null&&ps.shift();if(d=(l.ownerDocument||l).$$reactFormReplay,d!=null)for(g=0;g<d.length;g+=3){var v=d[g],w=d[g+1],A=v[Hn]||null;if(typeof w=="function")A||MA(d);else if(A){var B=null;if(w&&w.hasAttribute("formAction")){if(v=w,A=w[Hn]||null)B=A.formAction;else if(hv(v)!==null)continue}else B=A.action;typeof B=="function"?d[g+1]=B:(d.splice(g,3),g-=3),MA(d)}}}function _A(){function l(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(A){return v=A})},focusReset:"manual",scroll:"manual"})}function c(){v!==null&&(v(),v=null),g||setTimeout(d,20)}function d(){if(!g&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,v=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(d,100),function(){g=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),v!==null&&(v(),v=null)}}}function pv(l){this._internalRoot=l}nm.prototype.render=pv.prototype.render=function(l){var c=this._internalRoot;if(c===null)throw Error(r(409));var d=c.current,g=xr();jA(d,g,l,c,null,null)},nm.prototype.unmount=pv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var c=l.containerInfo;jA(l.current,2,null,l,null,null),Lh(),c[ao]=null}};function nm(l){this._internalRoot=l}nm.prototype.unstable_scheduleHydration=function(l){if(l){var c=qN();l={blockedOn:null,target:l,priority:c};for(var d=0;d<ps.length&&c!==0&&c<ps[d].priority;d++);ps.splice(d,0,l),d===0&&EA(l)}};var DA=e.version;if(DA!=="19.2.4")throw Error(r(527,DA,"19.2.4"));Y.findDOMNode=function(l){var c=l._reactInternals;if(c===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=f(c),l=l!==null?h(l):null,l=l===null?null:l.stateNode,l};var RU={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rm.isDisabled&&rm.supportsFiber)try{eu=rm.inject(RU),ur=rm}catch{}}return Gu.createRoot=function(l,c){if(!i(l))throw Error(r(299));var d=!1,g="",v=Uk,w=$k,A=qk;return c!=null&&(c.unstable_strictMode===!0&&(d=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(v=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(A=c.onRecoverableError)),c=wA(l,1,!1,null,null,d,g,null,v,w,A,_A),l[ao]=c.current,Qx(l),new pv(c)},Gu.hydrateRoot=function(l,c,d){if(!i(l))throw Error(r(299));var g=!1,v="",w=Uk,A=$k,B=qk,F=null;return d!=null&&(d.unstable_strictMode===!0&&(g=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(w=d.onUncaughtError),d.onCaughtError!==void 0&&(A=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError),d.formState!==void 0&&(F=d.formState)),c=wA(l,1,!0,c,d??null,g,v,F,w,A,B,_A),c.context=SA(null),d=c.current,g=xr(),g=ay(g),v=es(g),v.callback=null,ts(d,v,g),d=g,c.current.lanes=d,nu(c,d),ji(c),l[ao]=c.current,Qx(l),new nm(c)},Gu.version="19.2.4",Gu}var FA;function WU(){if(FA)return xv.exports;FA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),xv.exports=FU(),xv.exports}var GU=WU();const KU=gi(GU);var jv={exports:{}},WA;function YU(){if(WA)return jv.exports;WA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jv.exports=D3(),jv.exports}YU();function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ef.apply(this,arguments)}var Ns;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ns||(Ns={}));const GA="popstate";function QU(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:s,hash:o}=r.location;return V1("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:cp(i)}return ZU(e,n,null,t)}function jt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ij(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function XU(){return Math.random().toString(36).substr(2,8)}function KA(t,e){return{usr:t.state,key:t.key,idx:e}}function V1(t,e,n,r){return n===void 0&&(n=null),Ef({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Dc(e):e,{state:n,key:e&&e.key||r||XU()})}function cp(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Dc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ZU(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,s=i.history,o=Ns.Pop,u=null,f=h();f==null&&(f=0,s.replaceState(Ef({},s.state,{idx:f}),""));function h(){return(s.state||{idx:null}).idx}function p(){o=Ns.Pop;let S=h(),N=S==null?null:S-f;f=S,u&&u({action:o,location:j.location,delta:N})}function y(S,N){o=Ns.Push;let O=V1(j.location,S,N);f=h()+1;let C=KA(O,f),_=j.createHref(O);try{s.pushState(C,"",_)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(_)}a&&u&&u({action:o,location:j.location,delta:1})}function x(S,N){o=Ns.Replace;let O=V1(j.location,S,N);f=h();let C=KA(O,f),_=j.createHref(O);s.replaceState(C,"",_),a&&u&&u({action:o,location:j.location,delta:0})}function b(S){let N=i.location.origin!=="null"?i.location.origin:i.location.href,O=typeof S=="string"?S:cp(S);return O=O.replace(/ $/,"%20"),jt(N,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,N)}let j={get action(){return o},get location(){return t(i,s)},listen(S){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(GA,p),u=S,()=>{i.removeEventListener(GA,p),u=null}},createHref(S){return e(i,S)},createURL:b,encodeLocation(S){let N=b(S);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:y,replace:x,go(S){return s.go(S)}};return j}var YA;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(YA||(YA={}));function JU(t,e,n){return n===void 0&&(n="/"),e$(t,e,n)}function e$(t,e,n,r){let i=typeof e=="string"?Dc(e):e,a=pc(i.pathname||"/",n);if(a==null)return null;let s=R3(t);t$(s);let o=null;for(let u=0;o==null&&u<s.length;++u){let f=d$(a);o=u$(s[u],f)}return o}function R3(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,s,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:s,route:a};u.relativePath.startsWith("/")&&(jt(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let f=As([r,u.relativePath]),h=n.concat(u);a.children&&a.children.length>0&&(jt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),R3(a.children,e,h,f)),!(a.path==null&&!a.index)&&e.push({path:f,score:o$(f,a.index),routesMeta:h})};return t.forEach((a,s)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))i(a,s);else for(let u of L3(a.path))i(a,s,u)}),e}function L3(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let s=L3(r.join("/")),o=[];return o.push(...s.map(u=>u===""?a:[a,u].join("/"))),i&&o.push(...s),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function t$(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c$(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const n$=/^:[\w-]+$/,r$=3,i$=2,a$=1,s$=10,l$=-2,QA=t=>t==="*";function o$(t,e){let n=t.split("/"),r=n.length;return n.some(QA)&&(r+=l$),e&&(r+=i$),n.filter(i=>!QA(i)).reduce((i,a)=>i+(n$.test(a)?r$:a===""?a$:s$),r)}function c$(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function u$(t,e,n){let{routesMeta:r}=t,i={},a="/",s=[];for(let o=0;o<r.length;++o){let u=r[o],f=o===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",p=F1({path:u.relativePath,caseSensitive:u.caseSensitive,end:f},h),y=u.route;if(!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:As([a,p.pathname]),pathnameBase:y$(As([a,p.pathnameBase])),route:y}),p.pathnameBase!=="/"&&(a=As([a,p.pathnameBase]))}return s}function F1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f$(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:y,isOptional:x}=h;if(y==="*"){let j=o[p]||"";s=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const b=o[p];return x&&!b?f[y]=void 0:f[y]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function f$(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ij(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function d$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ij(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function pc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const h$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,m$=t=>h$.test(t);function p$(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Dc(t):t,a;if(n)if(m$(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),ij(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=XA(n.substring(1),"/"):a=XA(n,e)}else a=e;return{pathname:a,search:x$(r),hash:v$(i)}}function XA(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Nv(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function g$(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function aj(t,e){let n=g$(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function sj(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Dc(t):(i=Ef({},t),jt(!i.pathname||!i.pathname.includes("?"),Nv("?","pathname","search",i)),jt(!i.pathname||!i.pathname.includes("#"),Nv("#","pathname","hash",i)),jt(!i.search||!i.search.includes("#"),Nv("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}o=p>=0?e[p]:"/"}let u=p$(i,o),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const As=t=>t.join("/").replace(/\/\/+/g,"/"),y$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),x$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,v$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const B3=["post","put","patch","delete"];new Set(B3);const w$=["get",...B3];new Set(w$);function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tf.apply(this,arguments)}const Ug=R.createContext(null),z3=R.createContext(null),Ba=R.createContext(null),$g=R.createContext(null),Vs=R.createContext({outlet:null,matches:[],isDataRoute:!1}),I3=R.createContext(null);function S$(t,e){let{relative:n}=e===void 0?{}:e;Pc()||jt(!1);let{basename:r,navigator:i}=R.useContext(Ba),{hash:a,pathname:s,search:o}=qg(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:As([r,s])),i.createHref({pathname:u,search:o,hash:a})}function Pc(){return R.useContext($g)!=null}function to(){return Pc()||jt(!1),R.useContext($g).location}function U3(t){R.useContext(Ba).static||R.useLayoutEffect(t)}function pd(){let{isDataRoute:t}=R.useContext(Vs);return t?R$():j$()}function j$(){Pc()||jt(!1);let t=R.useContext(Ug),{basename:e,future:n,navigator:r}=R.useContext(Ba),{matches:i}=R.useContext(Vs),{pathname:a}=to(),s=JSON.stringify(aj(i,n.v7_relativeSplatPath)),o=R.useRef(!1);return U3(()=>{o.current=!0}),R.useCallback(function(f,h){if(h===void 0&&(h={}),!o.current)return;if(typeof f=="number"){r.go(f);return}let p=sj(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:As([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,s,a,t])}function qg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=R.useContext(Ba),{matches:i}=R.useContext(Vs),{pathname:a}=to(),s=JSON.stringify(aj(i,r.v7_relativeSplatPath));return R.useMemo(()=>sj(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}function N$(t,e){return C$(t,e)}function C$(t,e,n,r){Pc()||jt(!1);let{navigator:i}=R.useContext(Ba),{matches:a}=R.useContext(Vs),s=a[a.length-1],o=s?s.params:{};s&&s.pathname;let u=s?s.pathnameBase:"/";s&&s.route;let f=to(),h;if(e){var p;let S=typeof e=="string"?Dc(e):e;u==="/"||(p=S.pathname)!=null&&p.startsWith(u)||jt(!1),h=S}else h=f;let y=h.pathname||"/",x=y;if(u!=="/"){let S=u.replace(/^\//,"").split("/");x="/"+y.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=JU(t,{pathname:x}),j=T$(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},o,S.params),pathname:As([u,i.encodeLocation?i.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?u:As([u,i.encodeLocation?i.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),a,n,r);return e&&j?R.createElement($g.Provider,{value:{location:Tf({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Ns.Pop}},j):j}function k$(){let t=P$(),e=b$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},e),n?R.createElement("pre",{style:i},n):null,null)}const O$=R.createElement(k$,null);class A$ extends R.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?R.createElement(Vs.Provider,{value:this.props.routeContext},R.createElement(I3.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E$(t){let{routeContext:e,match:n,children:r}=t,i=R.useContext(Ug);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),R.createElement(Vs.Provider,{value:e},r)}function T$(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let h=s.findIndex(p=>p.route.id&&o?.[p.route.id]!==void 0);h>=0||jt(!1),s=s.slice(0,Math.min(s.length,h+1))}let u=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<s.length;h++){let p=s[h];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(f=h),p.route.id){let{loaderData:y,errors:x}=n,b=p.route.loader&&y[p.route.id]===void 0&&(!x||x[p.route.id]===void 0);if(p.route.lazy||b){u=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((h,p,y)=>{let x,b=!1,j=null,S=null;n&&(x=o&&p.route.id?o[p.route.id]:void 0,j=p.route.errorElement||O$,u&&(f<0&&y===0?(L$("route-fallback"),b=!0,S=null):f===y&&(b=!0,S=p.route.hydrateFallbackElement||null)));let N=e.concat(s.slice(0,y+1)),O=()=>{let C;return x?C=j:b?C=S:p.route.Component?C=R.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=h,R.createElement(E$,{match:p,routeContext:{outlet:h,matches:N,isDataRoute:n!=null},children:C})};return n&&(p.route.ErrorBoundary||p.route.errorElement||y===0)?R.createElement(A$,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:O(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):O()},null)}var $3=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})($3||{}),q3=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(q3||{});function M$(t){let e=R.useContext(Ug);return e||jt(!1),e}function _$(t){let e=R.useContext(z3);return e||jt(!1),e}function D$(t){let e=R.useContext(Vs);return e||jt(!1),e}function H3(t){let e=D$(),n=e.matches[e.matches.length-1];return n.route.id||jt(!1),n.route.id}function P$(){var t;let e=R.useContext(I3),n=_$(),r=H3();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function R$(){let{router:t}=M$($3.UseNavigateStable),e=H3(q3.UseNavigateStable),n=R.useRef(!1);return U3(()=>{n.current=!0}),R.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Tf({fromRouteId:e},a)))},[t,e])}const ZA={};function L$(t,e,n){ZA[t]||(ZA[t]=!0)}function B$(t,e){t?.v7_startTransition,t?.v7_relativeSplatPath}function Yo(t){let{to:e,replace:n,state:r,relative:i}=t;Pc()||jt(!1);let{future:a,static:s}=R.useContext(Ba),{matches:o}=R.useContext(Vs),{pathname:u}=to(),f=pd(),h=sj(e,aj(o,a.v7_relativeSplatPath),u,i==="path"),p=JSON.stringify(h);return R.useEffect(()=>f(JSON.parse(p),{replace:n,state:r,relative:i}),[f,p,i,n,r]),null}function Te(t){jt(!1)}function z$(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Ns.Pop,navigator:a,static:s=!1,future:o}=t;Pc()&&jt(!1);let u=e.replace(/^\/*/,"/"),f=R.useMemo(()=>({basename:u,navigator:a,static:s,future:Tf({v7_relativeSplatPath:!1},o)}),[u,o,a,s]);typeof r=="string"&&(r=Dc(r));let{pathname:h="/",search:p="",hash:y="",state:x=null,key:b="default"}=r,j=R.useMemo(()=>{let S=pc(h,u);return S==null?null:{location:{pathname:S,search:p,hash:y,state:x,key:b},navigationType:i}},[u,h,p,y,x,b,i]);return j==null?null:R.createElement(Ba.Provider,{value:f},R.createElement($g.Provider,{children:n,value:j}))}function V3(t){let{children:e,location:n}=t;return N$(W1(e),n)}new Promise(()=>{});function W1(t,e){e===void 0&&(e=[]);let n=[];return R.Children.forEach(t,(r,i)=>{if(!R.isValidElement(r))return;let a=[...e,i];if(r.type===R.Fragment){n.push.apply(n,W1(r.props.children,a));return}r.type!==Te&&jt(!1),!r.props.index||!r.props.children||jt(!1);let s={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=W1(r.props.children,a)),n.push(s)}),n}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},up.apply(this,arguments)}function F3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I$(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function U$(t,e){return t.button===0&&(!e||e==="_self")&&!I$(t)}const $$=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q$=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],H$="6";try{window.__reactRouterVersion=H$}catch{}const V$=R.createContext({isTransitioning:!1}),F$="startTransition",JA=$U[F$];function W$(t){let{basename:e,children:n,future:r,window:i}=t,a=R.useRef();a.current==null&&(a.current=QU({window:i,v5Compat:!0}));let s=a.current,[o,u]=R.useState({action:s.action,location:s.location}),{v7_startTransition:f}=r||{},h=R.useCallback(p=>{f&&JA?JA(()=>u(p)):u(p)},[u,f]);return R.useLayoutEffect(()=>s.listen(h),[s,h]),R.useEffect(()=>B$(r),[r]),R.createElement(z$,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:s,future:r})}const G$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Y$=R.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:u,to:f,preventScrollReset:h,viewTransition:p}=e,y=F3(e,$$),{basename:x}=R.useContext(Ba),b,j=!1;if(typeof f=="string"&&K$.test(f)&&(b=f,G$))try{let C=new URL(window.location.href),_=f.startsWith("//")?new URL(C.protocol+f):new URL(f),P=pc(_.pathname,x);_.origin===C.origin&&P!=null?f=P+_.search+_.hash:j=!0}catch{}let S=S$(f,{relative:i}),N=Z$(f,{replace:s,state:o,target:u,preventScrollReset:h,relative:i,viewTransition:p});function O(C){r&&r(C),C.defaultPrevented||N(C)}return R.createElement("a",up({},y,{href:b||S,onClick:j||a?r:O,ref:n,target:u}))}),Q$=R.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:u,viewTransition:f,children:h}=e,p=F3(e,q$),y=qg(u,{relative:p.relative}),x=to(),b=R.useContext(z3),{navigator:j,basename:S}=R.useContext(Ba),N=b!=null&&J$(y)&&f===!0,O=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,C=x.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(C=C.toLowerCase(),_=_?_.toLowerCase():null,O=O.toLowerCase()),_&&S&&(_=pc(_,S)||_);const P=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let D=C===O||!s&&C.startsWith(O)&&C.charAt(P)==="/",T=_!=null&&(_===O||!s&&_.startsWith(O)&&_.charAt(O.length)==="/"),L={isActive:D,isPending:T,isTransitioning:N},I=D?r:void 0,q;typeof a=="function"?q=a(L):q=[a,D?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(L):o;return R.createElement(Y$,up({},p,{"aria-current":I,className:q,ref:n,style:U,to:u,viewTransition:f}),typeof h=="function"?h(L):h)});var G1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(G1||(G1={}));var eE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eE||(eE={}));function X$(t){let e=R.useContext(Ug);return e||jt(!1),e}function Z$(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,u=pd(),f=to(),h=qg(t,{relative:s});return R.useCallback(p=>{if(U$(p,n)){p.preventDefault();let y=r!==void 0?r:cp(f)===cp(h);u(t,{replace:y,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[f,u,h,r,i,n,t,a,s,o])}function J$(t,e){e===void 0&&(e={});let n=R.useContext(V$);n==null&&jt(!1);let{basename:r}=X$(G1.useViewTransitionState),i=qg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=pc(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=pc(n.nextLocation.pathname,r)||n.nextLocation.pathname;return F1(i.pathname,s)!=null||F1(i.pathname,a)!=null}var k=_c();const W3=gi(k),eq=_3({__proto__:null,default:W3},[k]);const G3=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();const tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const nq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase());const tE=t=>{const e=nq(t);return e.charAt(0).toUpperCase()+e.slice(1)};var rq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const iq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const aq=k.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:s,...o},u)=>k.createElement("svg",{ref:u,...rq,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:G3("lucide",i),...!a&&!iq(o)&&{"aria-hidden":"true"},...o},[...s.map(([f,h])=>k.createElement(f,h)),...Array.isArray(a)?a:[a]]));const Ae=(t,e)=>{const n=k.forwardRef(({className:r,...i},a)=>k.createElement(aq,{ref:a,iconNode:e,className:G3(`lucide-${tq(tE(t))}`,`lucide-${t}`,r),...i}));return n.displayName=tE(t),n};const sq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],ws=Ae("activity",sq);const lq=[["path",{d:"m3 16 4 4 4-4",key:"1co6wj"}],["path",{d:"M7 20V4",key:"1yoxec"}],["path",{d:"m21 8-4-4-4 4",key:"1c9v7m"}],["path",{d:"M17 4v16",key:"7dpous"}]],K3=Ae("arrow-down-up",lq);const oq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],cq=Ae("arrow-right",oq);const uq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Y3=Ae("bell-off",uq);const fq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Hg=Ae("bell",fq);const dq=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],lj=Ae("camera",dq);const hq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],ja=Ae("chart-column",hq);const mq=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Q3=Ae("check",mq);const pq=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Hi=Ae("chevron-down",pq);const gq=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yq=Ae("chevron-left",gq);const xq=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ds=Ae("chevron-right",xq);const vq=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oj=Ae("chevron-up",vq);const bq=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mf=Ae("circle-check-big",bq);const wq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vg=Ae("circle-x",wq);const Sq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jq=Ae("circle",Sq);const Nq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 6v6l4 2",key:"mmk7yg"}]],ka=Ae("clock",Nq);const Cq=[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]],kq=Ae("code-xml",Cq);const Oq=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],K1=Ae("copy",Oq);const Aq=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Eq=Ae("cpu",Aq);const Tq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]],Fg=Ae("crosshair",Tq);const Mq=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],ir=Ae("database",Mq);const _q=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],gc=Ae("download",_q);const Dq=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],X3=Ae("external-link",Dq);const Pq=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rq=Ae("eye",Pq);const Lq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12a1 1 0 0 0-1 1v1a1 1 0 0 1-1 1 1 1 0 0 1 1 1v1a1 1 0 0 0 1 1",key:"1oajmo"}],["path",{d:"M14 18a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1 1 1 0 0 1-1-1v-1a1 1 0 0 0-1-1",key:"mpwhp6"}]],Bq=Ae("file-braces",Lq);const zq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 12.5 8 15l2 2.5",key:"1tg20x"}],["path",{d:"m14 12.5 2 2.5-2 2.5",key:"yinavb"}]],Wg=Ae("file-code",zq);const Iq=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Uq=Ae("file-spreadsheet",Iq);const $q=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Z3=Ae("file-text",$q);const qq=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Y1=Ae("flame",qq);const Hq=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],Q1=Ae("flask-conical",Hq);const Vq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Fq=Ae("globe",Vq);const Wq=[["path",{d:"M10 16h.01",key:"1bzywj"}],["path",{d:"M2.212 11.577a2 2 0 0 0-.212.896V18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5.527a2 2 0 0 0-.212-.896L18.55 5.11A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"18tbho"}],["path",{d:"M21.946 12.013H2.054",key:"zqlbp7"}],["path",{d:"M6 16h.01",key:"1pmjb7"}]],_l=Ae("hard-drive",Wq);const Gq=[["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}]],X1=Ae("hexagon",Gq);const Kq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Yq=Ae("info",Kq);const Qq=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],J3=Ae("key",Qq);const Xq=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}],["path",{d:"M14 4h7",key:"3xa0d5"}],["path",{d:"M14 9h7",key:"1icrd9"}],["path",{d:"M14 15h7",key:"1mj8o2"}],["path",{d:"M14 20h7",key:"11slyb"}]],Gg=Ae("layout-list",Xq);const Zq=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Cv=Ae("link",Zq);const Jq=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],eP=Ae("menu",Jq);const eH=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],tP=Ae("pen-line",eH);const tH=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],cj=Ae("pencil",tH);const nH=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],zl=Ae("play",nH);const rH=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vi=Ae("plus",rH);const iH=[["path",{d:"M19.07 4.93A10 10 0 0 0 6.99 3.34",key:"z3du51"}],["path",{d:"M4 6h.01",key:"oypzma"}],["path",{d:"M2.29 9.62A10 10 0 1 0 21.31 8.35",key:"qzzz0"}],["path",{d:"M16.24 7.76A6 6 0 1 0 8.23 16.67",key:"1yjesh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M17.99 11.66A6 6 0 0 1 15.77 16.67",key:"1u2y91"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"m13.41 10.59 5.66-5.66",key:"mhq4k0"}]],nP=Ae("radar",iH);const aH=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nt=Ae("refresh-cw",aH);const sH=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rc=Ae("search",sH);const lH=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],oH=Ae("send",lH);const cH=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],Z1=Ae("server",cH);const uH=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ps=Ae("shield",uH);const fH=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],Kg=Ae("table-2",fH);const dH=[["path",{d:"M12 19h8",key:"baeox8"}],["path",{d:"m4 17 6-6-6-6",key:"1yngyt"}]],Lc=Ae("terminal",dH);const hH=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],hi=Ae("trash-2",hH);const mH=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ac=Ae("triangle-alert",mH);const pH=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],fp=Ae("upload",pH);const gH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],nE=Ae("users",gH);const yH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],uj=Ae("x",yH);const xH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Il=Ae("zap",xH),Ui=window.__TSUI_BASE__||"";window.location.pathname.startsWith(Ui+"/playground");class vH{baseUrl;credentials={};_standaloneMode=!1;_remoteConnection=null;constructor(){this.baseUrl=Ui}get standaloneMode(){return this._standaloneMode}setStandaloneMode(e){this._standaloneMode=e}setRemoteConnection(e){this._remoteConnection=e}getRemoteConnection(){return this._remoteConnection}setCredentials(e,n){this.credentials={username:e,password:n}}getAuthParams(){if(this._standaloneMode&&this._remoteConnection)return"";const e=new URLSearchParams;return this.credentials.username&&e.set("u",this.credentials.username),this.credentials.password&&e.set("p",this.credentials.password),e.toString()}getProxyHeaders(){const e={};return this._standaloneMode&&this._remoteConnection&&(e["X-Influxdb-Url"]=this._remoteConnection.url,this._remoteConnection.username&&(e["X-Influxdb-Username"]=this._remoteConnection.username),this._remoteConnection.password&&(e["X-Influxdb-Password"]=this._remoteConnection.password)),e}async ping(){try{const e=await fetch(`${this.baseUrl}/ping`,{headers:this.getProxyHeaders()});return{version:e.headers.get("X-Timeseriesui-Version")||e.headers.get("X-Influxdb-Version")||"unknown",ok:e.status===204}}catch{return{version:"unknown",ok:!1}}}async query(e,n,r){const i=new URLSearchParams;i.set("q",e),n&&i.set("db",n),r&&i.set("epoch",r);const a=this.getAuthParams();a&&new URLSearchParams(a).forEach((u,f)=>i.set(f,u));const s=await fetch(`${this.baseUrl}/query?${i.toString()}`,{method:"POST",headers:{Accept:"application/json",...this.getProxyHeaders()}});if(!s.ok){const o=await s.text();throw new Error(`Query failed (${s.status}): ${o}`)}return s.json()}async write(e,n,r="ns",i){const a=new URLSearchParams;a.set("db",e),a.set("precision",r),i&&a.set("rp",i);const s=this.getAuthParams();s&&new URLSearchParams(s).forEach((f,h)=>a.set(h,f));const o=await fetch(`${this.baseUrl}/write?${a.toString()}`,{method:"POST",body:n,headers:this.getProxyHeaders()});if(!o.ok&&o.status!==204){const u=await o.text();throw new Error(`Write failed (${o.status}): ${u}`)}}async getDiagnostics(){return this.query("SHOW DIAGNOSTICS")}async getStats(){return this.query("SHOW STATS")}async getDatabases(){const n=(await this.query("SHOW DATABASES")).results?.[0]?.series?.[0];return n?n.values.map(r=>r[0]):[]}async getRetentionPolicies(e){const r=(await this.query(`SHOW RETENTION POLICIES ON "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((s,o)=>{a[s]=i[o]}),a}):[]}async getMeasurements(e){const r=(await this.query("SHOW MEASUREMENTS",e)).results?.[0]?.series?.[0];return r?r.values.map(i=>i[0]):[]}async getTagKeys(e,n){const i=(await this.query(`SHOW TAG KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>a[0]):[]}async getFieldKeys(e,n){const i=(await this.query(`SHOW FIELD KEYS FROM "${n}"`,e)).results?.[0]?.series?.[0];return i?i.values.map(a=>({key:a[0],type:a[1]})):[]}async getSeriesCardinality(e){const r=(await this.query("SHOW SERIES CARDINALITY",e)).results?.[0]?.series?.[0];return r?r.values[0][0]:0}async getRunningQueries(){const n=(await this.query("SHOW QUERIES")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,s)=>{i[a]=r[s]}),i}):[]}async killQuery(e){await this.query(`KILL QUERY ${e}`)}async getDebugVars(){return(await fetch(`${this.baseUrl}/debug/vars`,{headers:this.getProxyHeaders()})).json()}async getContinuousQueries(e){return(await this.query("SHOW CONTINUOUS QUERIES",e)).results?.[0]?.series||[]}async getShardGroups(){const n=(await this.query("SHOW SHARD GROUPS")).results?.[0]?.series?.[0];return n?n.values.map(r=>{const i={};return n.columns.forEach((a,s)=>{i[a]=r[s]}),i}):[]}async getUsers(){const n=(await this.query("SHOW USERS")).results?.[0]?.series?.[0];return!n||!Array.isArray(n.values)?[]:n.values.map(r=>({user:r[0],admin:r[1]}))}async getUserGrants(e){const r=(await this.query(`SHOW GRANTS FOR "${e}"`)).results?.[0]?.series?.[0];return r?r.values.map(i=>{const a={};return r.columns.forEach((s,o)=>{a[s]=i[o]}),a}):[]}async getSubscriptions(){return(await this.query("SHOW SUBSCRIPTIONS")).results?.[0]?.series||[]}async getTagValues(e,n,r){const a=(await this.query(`SHOW TAG VALUES FROM "${n}" WITH KEY = "${r}"`,e)).results?.[0]?.series?.[0];if(!a)return[];const s=a.columns.indexOf("value");return a.values.map(o=>o[s>=0?s:1])}async backup(){const e=await fetch(`${this.baseUrl}/debug/backup`,{method:"GET",headers:this.getProxyHeaders()});if(!e.ok)throw new Error(`Backup failed (${e.status}): ${await e.text()}`);return e.blob()}}const Ne=new vH;var kv={exports:{}},Ku={};var rE;function bH(){if(rE)return Ku;rE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,i,a){var s=null;if(a!==void 0&&(s=""+a),i.key!==void 0&&(s=""+i.key),"key"in i){a={};for(var o in i)o!=="key"&&(a[o]=i[o])}else a=i;return i=a.ref,{$$typeof:t,type:r,key:s,ref:i!==void 0?i:null,props:a}}return Ku.Fragment=e,Ku.jsx=n,Ku.jsxs=n,Ku}var iE;function wH(){return iE||(iE=1,kv.exports=bH()),kv.exports}var E=wH();const rP="timeseriesui_connections",J1="timeseriesui_active_connection";function SH(){try{const t=localStorage.getItem(rP);return JSON.parse(t||"[]").map(n=>({...n,type:n.type||"influxdb",source:n.source||"browser"}))}catch{return[]}}function Yu(t){localStorage.setItem(rP,JSON.stringify(t))}function jH(){return localStorage.getItem(J1)}function im(t){t?localStorage.setItem(J1,t):localStorage.removeItem(J1)}function Ov(){return Date.now().toString(36)+Math.random().toString(36).slice(2,7)}function NH({onConnectionChange:t,defaultUrl:e}){const[n,r]=k.useState(SH),[i,a]=k.useState(jH),[s,o]=k.useState(!1),[u,f]=k.useState(null),[h,p]=k.useState(""),[y,x]=k.useState(""),[b,j]=k.useState(""),[S,N]=k.useState(""),[O,C]=k.useState("influxdb"),[_,P]=k.useState(""),[D,T]=k.useState(""),[L,I]=k.useState(!1),[q,U]=k.useState(!1),[z,H]=k.useState(""),[X,W]=k.useState("");k.useEffect(()=>{(async()=>{try{const Q=await fetch(Ui+"/api/v1/connections");if(Q.ok){const me=await Q.json();Array.isArray(me)&&me.length>0&&r(Ce=>{const re=new Set(Ce.map(pe=>pe.url)),je=me.filter(pe=>!re.has(pe.url)).map(pe=>({id:Ov(),name:pe.name||"CLI Connection",type:pe.type||"influxdb",url:pe.url,username:pe.username||"",password:pe.password||"",source:"cli",alertmanagerUrl:pe.alertmanagerUrl,alertmanagerUsername:pe.alertmanagerUsername,alertmanagerPassword:pe.alertmanagerPassword,proxyUrl:pe.proxyUrl,clusterMode:pe.clusterMode,tenantId:pe.tenantId,vminsertUrl:pe.vminsertUrl}));if(je.length===0)return Ce;const De=[...Ce,...je];return Yu(De),De})}}catch{}})()},[]),k.useEffect(()=>{if(e&&n.length===0){const Q={id:Ov(),name:"Default",type:"influxdb",url:e,username:"",password:"",source:"browser"},me=[Q];r(me),Yu(me),a(Q.id),im(Q.id)}},[]);const V=k.useCallback((Q,me)=>{const Ce=Q.find(re=>re.id===me)||null;Ce&&Ce.type==="influxdb"?Ne.setRemoteConnection({url:Ce.url,username:Ce.username,password:Ce.password}):Ce||Ne.setRemoteConnection(null),t(Ce)},[t]);k.useEffect(()=>{V(n,i)},[]);const Y=Q=>{a(Q),im(Q),V(n,Q)},J=()=>{p(""),x(""),j(""),N(""),C("influxdb"),P(""),T(""),I(!1),U(!1),H(""),W(""),f(null)},oe=()=>{J(),f("new")},ge=Q=>{p(Q.name),x(Q.url),j(Q.username),N(Q.password),C(Q.type),P(Q.alertmanagerUrl||""),T(Q.proxyUrl||""),U(Q.clusterMode||!1),H(Q.tenantId||""),W(Q.vminsertUrl||""),I(!!(Q.proxyUrl||Q.clusterMode)),f(Q.id)},M=()=>{const Q=h.trim()||"Untitled",me=y.trim();if(!me)return;const re={name:Q,type:O,url:me,username:b,password:S,alertmanagerUrl:(O==="prometheus"||O==="victoriametrics")&&_.trim()||void 0,proxyUrl:D.trim()||void 0,clusterMode:O==="victoriametrics"?q:void 0,tenantId:O==="victoriametrics"&&q&&z.trim()||void 0,vminsertUrl:O==="victoriametrics"&&q&&X.trim()||void 0};if(u==="new"){const je={id:Ov(),source:"browser",...re},De=[...n,je];r(De),Yu(De),(De.length===1||!i)&&(a(je.id),im(je.id),V(De,je.id))}else{const je=n.map(De=>De.id===u?{...De,...re}:De);r(je),Yu(je),i===u&&V(je,i)}J()},$=Q=>{if(n.find(re=>re.id===Q)?.source==="cli")return;const Ce=n.filter(re=>re.id!==Q);if(r(Ce),Yu(Ce),i===Q){const re=Ce.length>0?Ce[0].id:null;a(re),im(re),V(Ce,re)}u===Q&&J()},te=n.find(Q=>Q.id===i),K=({type:Q})=>Q==="victoriametrics"?E.jsx(X1,{size:10,className:"text-emerald-400 flex-shrink-0"}):Q==="prometheus"?E.jsx(Y1,{size:10,className:"text-orange-400 flex-shrink-0"}):E.jsx(ir,{size:10,className:"text-blue-400 flex-shrink-0"}),ue=O==="influxdb"?"URL (e.g. http://localhost:8086)":O==="prometheus"?"URL (e.g. http://localhost:9090)":"URL (e.g. http://localhost:8428)";return E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>o(Q=>!Q),className:"flex items-center justify-between w-full px-3 py-2 text-xs font-medium text-gray-400 hover:text-white hover:bg-gray-800 rounded-md transition-colors duration-150",children:[E.jsxs("span",{className:"flex items-center gap-1.5 truncate",children:[E.jsx(Z1,{size:12,className:"flex-shrink-0"}),te?E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(K,{type:te.type}),te.name]}):"Connections"]}),s?E.jsx(oj,{size:14}):E.jsx(Hi,{size:14})]}),s&&E.jsxs("div",{className:"mt-1 px-1 space-y-1",children:[n.map(Q=>E.jsxs("div",{className:`flex items-center justify-between gap-1 px-2 py-1.5 rounded text-xs transition-colors duration-100 ${Q.id===i?"bg-blue-600/20 border border-blue-600/40":"bg-gray-800 border border-gray-700 hover:border-gray-600"}`,children:[E.jsxs("button",{onClick:()=>Y(Q.id),className:"flex-1 text-left truncate text-gray-200",title:`${Q.type}: ${Q.url}`,children:[E.jsxs("span",{className:"font-medium flex items-center gap-1",children:[E.jsx(K,{type:Q.type}),Q.name,Q.source==="cli"&&E.jsx("span",{className:"text-[9px] bg-gray-700 text-gray-400 px-1 rounded",children:"CLI"})]}),E.jsx("span",{className:"block text-gray-500 truncate text-[10px]",children:Q.url})]}),E.jsx("div",{className:"flex items-center gap-0.5 flex-shrink-0",children:Q.source!=="cli"&&E.jsxs(E.Fragment,{children:[E.jsx("button",{onClick:()=>ge(Q),className:"p-1 text-gray-500 hover:text-gray-200 transition-colors",title:"Edit",children:E.jsx(cj,{size:10})}),E.jsx("button",{onClick:()=>$(Q.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Remove",children:E.jsx(hi,{size:10})})]})})]},Q.id)),u?E.jsxs("div",{className:"space-y-1.5 pt-1 border-t border-gray-700 mt-1",children:[E.jsxs("div",{className:"flex gap-1",children:[E.jsxs("button",{onClick:()=>C("influxdb"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${O==="influxdb"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[E.jsx(ir,{size:10}),"InfluxDB"]}),E.jsxs("button",{onClick:()=>C("prometheus"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${O==="prometheus"?"bg-orange-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[E.jsx(Y1,{size:10}),"Prometheus"]}),E.jsxs("button",{onClick:()=>C("victoriametrics"),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${O==="victoriametrics"?"bg-emerald-600 text-white":"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[E.jsx(X1,{size:10}),"VM"]})]}),E.jsx("input",{type:"text",placeholder:"Name (e.g. Production)",value:h,onChange:Q=>p(Q.target.value),autoFocus:!0,className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),E.jsx("input",{type:"text",placeholder:ue,value:y,onChange:Q=>x(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),E.jsx("input",{type:"text",placeholder:"Username (optional)",value:b,onChange:Q=>j(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),E.jsx("input",{type:"password",placeholder:"Password (optional)",value:S,onChange:Q=>N(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors"}),(O==="prometheus"||O==="victoriametrics")&&E.jsx("input",{type:"text",placeholder:"Alertmanager URL (optional)",value:_,onChange:Q=>P(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-orange-500 transition-colors"}),E.jsxs("button",{onClick:()=>I(Q=>!Q),className:"flex items-center gap-1 text-[10px] text-gray-500 hover:text-gray-300 transition-colors",children:[E.jsx(Ds,{size:10,className:`transition-transform ${L?"rotate-90":""}`}),"Advanced Options"]}),L&&E.jsxs("div",{className:"space-y-1.5 pl-2 border-l-2 border-gray-800",children:[E.jsxs("div",{className:"flex items-center gap-1.5",children:[E.jsx(Fq,{size:10,className:"text-gray-500 flex-shrink-0"}),E.jsx("input",{type:"text",placeholder:"HTTP Proxy URL (e.g. http://proxy:8080)",value:D,onChange:Q=>T(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-purple-500 transition-colors"})]}),E.jsx("p",{className:"text-[10px] text-gray-600 pl-4",children:"Route connections through a corporate or SOCKS proxy"}),O==="victoriametrics"&&E.jsxs(E.Fragment,{children:[E.jsxs("label",{className:"flex items-center gap-2 text-xs text-gray-400 cursor-pointer",children:[E.jsx("input",{type:"checkbox",checked:q,onChange:Q=>U(Q.target.checked),className:"rounded bg-gray-800 border-gray-600 text-emerald-500 focus:ring-emerald-500"}),"Cluster Mode"]}),q&&E.jsxs(E.Fragment,{children:[E.jsx("input",{type:"text",placeholder:"Tenant ID (e.g. 0 or 0:0)",value:z,onChange:Q=>H(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),E.jsx("input",{type:"text",placeholder:"vminsert URL (e.g. http://vminsert:8480)",value:X,onChange:Q=>W(Q.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"})]})]})]}),E.jsxs("div",{className:"flex gap-1.5",children:[E.jsxs("button",{onClick:M,disabled:!y.trim(),className:"flex-1 flex items-center justify-center gap-1 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors duration-150 disabled:opacity-40",children:[E.jsx(Q3,{size:12}),u==="new"?"Add":"Save"]}),E.jsx("button",{onClick:J,className:"flex items-center justify-center gap-1 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs transition-colors duration-150",children:E.jsx(uj,{size:12})})]})]}):E.jsxs("button",{onClick:oe,className:"flex items-center gap-1.5 w-full px-2 py-1.5 text-xs text-blue-400 hover:text-blue-300 hover:bg-gray-800 rounded transition-colors duration-150",children:[E.jsx(Vi,{size:12}),"Add Connection"]})]})]})}const CH=[{to:"/influxdb/query",label:"Query Explorer",icon:Lc},{to:"/influxdb/admin",label:"Admin",icon:ir},{to:"/influxdb/write",label:"Write Data",icon:tP},{to:"/influxdb/health",label:"System Health",icon:ws}],kH=[{to:"/prometheus/query",label:"Query Explorer",icon:Lc,section:"QUERY"},{to:"/prometheus/targets",label:"Targets",icon:Fg,section:"MONITORING"},{to:"/prometheus/alerts",label:"Alert Rules",icon:Hg,section:"ALERTING"},{to:"/prometheus/tsdb",label:"TSDB Status",icon:_l,section:"STATUS"},{to:"/prometheus/metrics",label:"Metrics Explorer",icon:Gg},{to:"/prometheus/config",label:"Config",icon:Wg},{to:"/prometheus/service-discovery",label:"Service Discovery",icon:nP}],OH={to:"/prometheus/alertmanager",label:"Alertmanager",icon:Y3};function AH(t){const e=[{to:"/victoriametrics/query",label:"Query Explorer",icon:Lc,section:"QUERY"},{to:"/victoriametrics/metrics",label:"Metrics Explorer",icon:Gg},{to:"/victoriametrics/targets",label:"Targets",icon:Fg,section:"MONITORING"},{to:"/victoriametrics/service-discovery",label:"Service Discovery",icon:nP},{to:"/victoriametrics/active-queries",label:"Active Queries",icon:Il},{to:"/victoriametrics/alerts",label:"Alert Rules",icon:Hg,section:"ALERTING"}];return t.alertmanagerUrl&&e.push({to:"/victoriametrics/alertmanager",label:"Alertmanager",icon:Y3}),e.push({to:"/victoriametrics/tsdb",label:"TSDB Status",icon:_l,section:"STORAGE"},{to:"/victoriametrics/snapshots",label:"Snapshots",icon:lj},{to:"/victoriametrics/export-import",label:"Export / Import",icon:K3},{to:"/victoriametrics/config",label:"Config",icon:Wg,section:"ADMIN"},{to:"/victoriametrics/admin",label:"Admin Operations",icon:Ps}),e}function EH(t){if(!t)return[];if(t.type==="victoriametrics")return AH(t);if(t.type==="prometheus"){const e=[...kH];return t.alertmanagerUrl&&e.splice(3,0,OH),e}return CH}function TH(t){return t==="victoriametrics"?"VictoriaMetrics":t==="prometheus"?"Prometheus":"InfluxDB"}function MH(t){return t==="victoriametrics"?"/victoriametrics/query":t==="prometheus"?"/prometheus/query":"/influxdb/query"}function _H({children:t}){const[e,n]=R.useState(!1),[r,i]=R.useState(null),[a,s]=R.useState(!1),[o,u]=R.useState(null),[f,h]=R.useState(!1),[p,y]=R.useState(void 0),[x,b]=R.useState(!1),j=pd(),S=to();R.useEffect(()=>{(async()=>{try{const D=await fetch(Ui+"/api/mode");if(D.ok){const T=await D.json();T.mode==="standalone"&&(h(!0),Ne.setStandaloneMode(!0),T.defaultUrl&&y(T.defaultUrl))}}catch{}b(!0)})()},[]);const N=R.useCallback(async()=>{if(!o){s(!1),i(null);return}if(o.type==="influxdb")try{const D=await Ne.ping();i(D.version),s(D.ok)}catch{s(!1)}else if(o.type==="victoriametrics")try{const D=`${Ui}/proxy/victoriametrics/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,T=await fetch(D,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(T.ok){const L=await T.json();i(L.data?.version||"unknown"),s(L.status==="success")}else s(!1)}catch{s(!1)}else try{const D=`${Ui}/proxy/prometheus/?target=${encodeURIComponent(o.url)}&path=/api/v1/status/buildinfo`,T=await fetch(D,{headers:o.username?{"X-Proxy-Username":o.username,"X-Proxy-Password":o.password||""}:{}});if(T.ok){const L=await T.json();i(L.data?.version||"unknown"),s(L.status==="success")}else s(!1)}catch{s(!1)}},[o]);R.useEffect(()=>{if(!x)return;N();const D=setInterval(N,1e4);return()=>clearInterval(D)},[x,N]);const O=R.useCallback(D=>{if(u(D),window.dispatchEvent(new CustomEvent("timeseriesui-connection-change",{detail:D})),D){const T=S.pathname,L=D.type==="influxdb"?"/influxdb":D.type==="victoriametrics"?"/victoriametrics":"/prometheus";(!T.startsWith(L)&&T!=="/"||T==="/"||T==="")&&j(MH(D.type))}},[j,S.pathname]),C=EH(o);let _="";const P=m.jsxs("div",{className:"flex flex-col h-full",children:[m.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("div",{className:"w-7 h-7 rounded bg-blue-600 flex items-center justify-center flex-shrink-0",children:m.jsx(ws,{size:15,className:"text-white"})}),m.jsxs("div",{children:[m.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"TimeseriesUI"}),r&&r!=="unknown"&&m.jsxs("span",{className:"text-gray-500 text-xs leading-tight block",children:["v",r]})]})]})}),m.jsxs("nav",{className:"flex-1 px-3 py-4 space-y-0.5 overflow-y-auto",children:[o&&m.jsx("div",{className:"px-3 mb-3",children:m.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:TH(o.type)})}),C.map(({to:D,label:T,icon:L,section:I})=>{const q=I&&I!==_;return q&&(_=I),m.jsxs(rj.Fragment,{children:[q&&m.jsx("div",{className:"px-3 pt-3 pb-1",children:m.jsx("span",{className:"text-[9px] font-semibold text-gray-600 uppercase tracking-widest",children:I})}),m.jsxs(Q$,{to:D,onClick:()=>n(!1),className:({isActive:U})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",U?"bg-gray-800 text-white border-l-2 border-blue-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[m.jsx(L,{size:16,className:"flex-shrink-0"}),T]})]},D)}),!o&&m.jsx("div",{className:"px-3 py-8 text-center",children:m.jsx("p",{className:"text-gray-500 text-xs",children:"Add a connection below to get started"})})]}),m.jsxs("div",{className:"border-t border-gray-800 px-3 py-4 space-y-3",children:[f&&m.jsx(NH,{onConnectionChange:O,defaultUrl:p}),m.jsxs("div",{className:"flex items-center gap-2 px-3 py-2",children:[m.jsx(jq,{size:8,className:a?"fill-green-500 text-green-500":"fill-red-500 text-red-500"}),m.jsx("span",{className:"text-xs text-gray-400",children:a?"Connected":o?"Disconnected":"No connection"})]})]})]});return m.jsxs("div",{className:"flex h-screen bg-gray-950 text-white overflow-hidden",children:[e&&m.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>n(!1)}),m.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:P}),m.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[m.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[m.jsx("button",{onClick:()=>n(D=>!D),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?m.jsx(uj,{size:20}):m.jsx(eP,{size:20})}),m.jsx("span",{className:"text-white font-semibold text-sm",children:"TimeseriesUI"})]}),m.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})}const dp=window.__TSUI_BASE__||"",DH=window.location.pathname.startsWith(dp+"/playground"),iP=k.createContext({active:!1,backendType:"influxdb",setBackendType:()=>{}});function PH({children:t}){const[e,n]=k.useState("influxdb"),r=k.useCallback(i=>{n(i)},[]);return E.jsx(iP.Provider,{value:{active:!0,backendType:e,setBackendType:r},children:t})}function fj(){return k.useContext(iP)}var dj=P3();function ew(){return ew=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ew.apply(this,arguments)}var aE;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(aE||(aE={}));function fi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function aP(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function sE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function sP(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}var lE;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(lE||(lE={}));function oE(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=RH(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((f,h,p)=>{let{paramName:y,isOptional:x}=h;if(y==="*"){let j=o[p]||"";s=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const b=o[p];return x&&!b?f[y]=void 0:f[y]=(b||"").replace(/%2F/g,"/"),f},{}),pathname:a,pathnameBase:s,pattern:t}}function RH(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),aP(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function hp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const LH=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BH=t=>LH.test(t);function zH(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?sP(t):t,a;if(n)if(BH(n))a=n;else{if(n.includes("//")){let s=n;n=n.replace(/\/\/+/g,"/"),aP(!1,"Pathnames cannot have embedded double slashes - normalizing "+(s+" -> "+n))}n.startsWith("/")?a=cE(n.substring(1),"/"):a=cE(n,e)}else a=e;return{pathname:a,search:UH(r),hash:$H(i)}}function cE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Av(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IH(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lP(t,e){let n=IH(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function oP(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=sP(t):(i=ew({},t),fi(!i.pathname||!i.pathname.includes("?"),Av("?","pathname","search",i)),fi(!i.pathname||!i.pathname.includes("#"),Av("#","pathname","hash",i)),fi(!i.search||!i.search.includes("#"),Av("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=n;else{let p=e.length-1;if(!r&&s.startsWith("..")){let y=s.split("/");for(;y[0]==="..";)y.shift(),p-=1;i.pathname=y.join("/")}o=p>=0?e[p]:"/"}let u=zH(i,o),f=s&&s!=="/"&&s.endsWith("/"),h=(a||s===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(f||h)&&(u.pathname+="/"),u}const cP=t=>t.join("/").replace(/\/\/+/g,"/"),UH=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,$H=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,uP=["post","put","patch","delete"];new Set(uP);const qH=["get",...uP];new Set(qH);function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tw.apply(this,arguments)}const hj=k.createContext(null),HH=k.createContext(null),Bc=k.createContext(null),fP=k.createContext(null),Yg=k.createContext({outlet:null,matches:[],isDataRoute:!1});function VH(t,e){let{relative:n}=e===void 0?{}:e;mj()||fi(!1);let{basename:r,navigator:i}=k.useContext(Bc),{hash:a,pathname:s,search:o}=Xg(t,{relative:n}),u=s;return r!=="/"&&(u=s==="/"?r:cP([r,s])),i.createHref({pathname:u,search:o,hash:a})}function mj(){return k.useContext(fP)!=null}function Qg(){return mj()||fi(!1),k.useContext(fP).location}function dP(t){k.useContext(Bc).static||k.useLayoutEffect(t)}function hP(){let{isDataRoute:t}=k.useContext(Yg);return t?YH():FH()}function FH(){mj()||fi(!1);let t=k.useContext(hj),{basename:e,future:n,navigator:r}=k.useContext(Bc),{matches:i}=k.useContext(Yg),{pathname:a}=Qg(),s=JSON.stringify(lP(i,n.v7_relativeSplatPath)),o=k.useRef(!1);return dP(()=>{o.current=!0}),k.useCallback(function(f,h){if(h===void 0&&(h={}),!o.current)return;if(typeof f=="number"){r.go(f);return}let p=oP(f,JSON.parse(s),a,h.relative==="path");t==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:cP([e,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[e,r,s,a,t])}function Xg(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=k.useContext(Bc),{matches:i}=k.useContext(Yg),{pathname:a}=Qg(),s=JSON.stringify(lP(i,r.v7_relativeSplatPath));return k.useMemo(()=>oP(t,JSON.parse(s),a,n==="path"),[t,s,a,n])}var mP=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(mP||{}),pP=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(pP||{});function WH(t){let e=k.useContext(hj);return e||fi(!1),e}function GH(t){let e=k.useContext(Yg);return e||fi(!1),e}function KH(t){let e=GH(),n=e.matches[e.matches.length-1];return n.route.id||fi(!1),n.route.id}function YH(){let{router:t}=WH(mP.UseNavigateStable),e=KH(pP.UseNavigateStable),n=k.useRef(!1);return dP(()=>{n.current=!0}),k.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,tw({fromRouteId:e},a)))},[t,e])}new Promise(()=>{});function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mp.apply(this,arguments)}function gP(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function QH(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function XH(t,e){return t.button===0&&(!e||e==="_self")&&!QH(t)}const ZH=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JH=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],eV="6";try{window.__reactRouterVersion=eV}catch{}const tV=k.createContext({isTransitioning:!1}),nV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",rV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iV=k.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:s,state:o,target:u,to:f,preventScrollReset:h,viewTransition:p}=e,y=gP(e,ZH),{basename:x}=k.useContext(Bc),b,j=!1;if(typeof f=="string"&&rV.test(f)&&(b=f,nV))try{let C=new URL(window.location.href),_=f.startsWith("//")?new URL(C.protocol+f):new URL(f),P=hp(_.pathname,x);_.origin===C.origin&&P!=null?f=P+_.search+_.hash:j=!0}catch{}let S=VH(f,{relative:i}),N=lV(f,{replace:s,state:o,target:u,preventScrollReset:h,relative:i,viewTransition:p});function O(C){r&&r(C),C.defaultPrevented||N(C)}return k.createElement("a",mp({},y,{href:b||S,onClick:j||a?r:O,ref:n,target:u}))}),aV=k.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:s=!1,style:o,to:u,viewTransition:f,children:h}=e,p=gP(e,JH),y=Xg(u,{relative:p.relative}),x=Qg(),b=k.useContext(HH),{navigator:j,basename:S}=k.useContext(Bc),N=b!=null&&oV(y)&&f===!0,O=j.encodeLocation?j.encodeLocation(y).pathname:y.pathname,C=x.pathname,_=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;i||(C=C.toLowerCase(),_=_?_.toLowerCase():null,O=O.toLowerCase()),_&&S&&(_=hp(_,S)||_);const P=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let D=C===O||!s&&C.startsWith(O)&&C.charAt(P)==="/",T=_!=null&&(_===O||!s&&_.startsWith(O)&&_.charAt(O.length)==="/"),L={isActive:D,isPending:T,isTransitioning:N},I=D?r:void 0,q;typeof a=="function"?q=a(L):q=[a,D?"active":null,T?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(L):o;return k.createElement(iV,mp({},p,{"aria-current":I,className:q,ref:n,style:U,to:u,viewTransition:f}),typeof h=="function"?h(L):h)});var nw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(nw||(nw={}));var uE;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(uE||(uE={}));function sV(t){let e=k.useContext(hj);return e||fi(!1),e}function lV(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:s,viewTransition:o}=e===void 0?{}:e,u=hP(),f=Qg(),h=Xg(t,{relative:s});return k.useCallback(p=>{if(XH(p,n)){p.preventDefault();let y=r!==void 0?r:sE(f)===sE(h);u(t,{replace:y,state:i,preventScrollReset:a,relative:s,viewTransition:o})}},[f,u,h,r,i,n,t,a,s,o])}function oV(t,e){e===void 0&&(e={});let n=k.useContext(tV);n==null&&fi(!1);let{basename:r}=sV(nw.useViewTransitionState),i=Xg(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=hp(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=hp(n.nextLocation.pathname,r)||n.nextLocation.pathname;return oE(i.pathname,s)!=null||oE(i.pathname,a)!=null}const cV=window.location.hostname.endsWith(".github.io");function uV(){const t=window.location.hostname.split(".")[0],e=window.location.pathname.split("/")[1];return`https://github.com/${t}/${e}`}function fV(){return E.jsxs("div",{className:"bg-gradient-to-r from-amber-600/90 to-orange-600/90 text-white px-4 py-2 flex items-center justify-between gap-3 text-sm flex-shrink-0",children:[E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx(Q1,{size:16,className:"flex-shrink-0"}),E.jsx("span",{className:"font-medium",children:"Playground Mode"}),E.jsx("span",{className:"hidden sm:inline text-white/80",children:" Exploring with sample data. To use your own databases, run the binary and add your DB connections."})]}),cV?E.jsxs("a",{href:uV()+"/releases",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-2.5 py-1 rounded-md transition-colors whitespace-nowrap",children:["Get the Binary",E.jsx(gc,{size:12})]}):E.jsxs("a",{href:Ui+"/ui/",className:"flex items-center gap-1 text-xs bg-white/20 hover:bg-white/30 px-2.5 py-1 rounded-md transition-colors whitespace-nowrap",children:["Connect Real DB",E.jsx(X3,{size:12})]})]})}const dV=[{to:"/influxdb/query",label:"Query Explorer",icon:Lc},{to:"/influxdb/admin",label:"Admin",icon:ir},{to:"/influxdb/write",label:"Write Data",icon:tP},{to:"/influxdb/health",label:"System Health",icon:ws}],hV=[{to:"/prometheus/query",label:"Query Explorer",icon:Lc,section:"QUERY"},{to:"/prometheus/targets",label:"Targets",icon:Fg,section:"MONITORING"},{to:"/prometheus/alerts",label:"Alert Rules",icon:Hg,section:"ALERTING"},{to:"/prometheus/tsdb",label:"TSDB Status",icon:_l,section:"STATUS"},{to:"/prometheus/metrics",label:"Metrics Explorer",icon:Gg},{to:"/prometheus/config",label:"Config",icon:Wg}],mV=[{to:"/victoriametrics/query",label:"Query Explorer",icon:Lc,section:"QUERY"},{to:"/victoriametrics/metrics",label:"Metrics Explorer",icon:Gg},{to:"/victoriametrics/targets",label:"Targets",icon:Fg,section:"MONITORING"},{to:"/victoriametrics/active-queries",label:"Active Queries",icon:Il},{to:"/victoriametrics/alerts",label:"Alert Rules",icon:Hg,section:"ALERTING"},{to:"/victoriametrics/tsdb",label:"TSDB Status",icon:_l,section:"STORAGE"},{to:"/victoriametrics/snapshots",label:"Snapshots",icon:lj},{to:"/victoriametrics/export-import",label:"Export / Import",icon:K3},{to:"/victoriametrics/config",label:"Config",icon:Wg,section:"ADMIN"},{to:"/victoriametrics/admin",label:"Admin Operations",icon:Ps}];function pV(t){return t==="victoriametrics"?mV:t==="prometheus"?hV:dV}function gV(t){return t==="victoriametrics"?"VictoriaMetrics":t==="prometheus"?"Prometheus":"InfluxDB"}function yV(t){return t==="victoriametrics"?"/victoriametrics/query":t==="prometheus"?"/prometheus/query":"/influxdb/query"}const xV=[{type:"influxdb",label:"InfluxDB",icon:ir,color:"text-blue-400",activeColor:"bg-blue-600"},{type:"prometheus",label:"Prometheus",icon:Y1,color:"text-orange-400",activeColor:"bg-orange-600"},{type:"victoriametrics",label:"VM",icon:X1,color:"text-emerald-400",activeColor:"bg-emerald-600"}];function vV({children:t}){const[e,n]=k.useState(!1),{backendType:r,setBackendType:i}=fj(),a=hP(),s=pV(r);let o="";const u=h=>{i(h),a(yV(h))},f=E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsx("div",{className:"px-5 py-5 border-b border-gray-800",children:E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("div",{className:"w-7 h-7 rounded bg-amber-600 flex items-center justify-center flex-shrink-0",children:E.jsx(Q1,{size:15,className:"text-white"})}),E.jsxs("div",{children:[E.jsx("span",{className:"text-white font-semibold text-base leading-tight block",children:"Playground"}),E.jsx("span",{className:"text-gray-500 text-xs leading-tight block",children:"Sample Data"})]})]})}),E.jsx("div",{className:"px-3 pt-3 pb-2",children:E.jsx("div",{className:"flex gap-1",children:xV.map(h=>E.jsxs("button",{onClick:()=>u(h.type),className:`flex-1 flex items-center justify-center gap-1 py-1.5 rounded text-xs font-medium transition-colors ${r===h.type?`${h.activeColor} text-white`:"bg-gray-800 text-gray-400 hover:text-white border border-gray-700"}`,children:[E.jsx(h.icon,{size:10}),h.label]},h.type))})}),E.jsxs("nav",{className:"flex-1 px-3 py-2 space-y-0.5 overflow-y-auto",children:[E.jsx("div",{className:"px-3 mb-3",children:E.jsx("span",{className:"text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:gV(r)})}),s.map(({to:h,label:p,icon:y,section:x})=>{const b=x&&x!==o;return b&&(o=x),E.jsxs(W3.Fragment,{children:[b&&E.jsx("div",{className:"px-3 pt-3 pb-1",children:E.jsx("span",{className:"text-[9px] font-semibold text-gray-600 uppercase tracking-widest",children:x})}),E.jsxs(aV,{to:h,onClick:()=>n(!1),className:({isActive:j})=>["flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",j?"bg-gray-800 text-white border-l-2 border-amber-500 pl-[10px]":"text-gray-400 hover:text-white hover:bg-gray-800 border-l-2 border-transparent pl-[10px]"].join(" "),children:[E.jsx(y,{size:16,className:"flex-shrink-0"}),p]})]},h)})]}),E.jsxs("div",{className:"border-t border-gray-800 px-3 py-3 space-y-2",children:[E.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5",children:[E.jsx(Q1,{size:10,className:"text-amber-500 flex-shrink-0"}),E.jsx("span",{className:"text-xs text-gray-400",children:"Playground Mode"})]}),E.jsx("p",{className:"px-3 text-[10px] text-gray-600 leading-snug",children:"Using generated sample data. Run the binary with your DB connection to use real data."})]})]});return E.jsxs("div",{className:"flex flex-col h-screen bg-gray-950 text-white overflow-hidden",children:[E.jsx(fV,{}),E.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[e&&E.jsx("div",{className:"fixed inset-0 z-20 bg-black/60 lg:hidden",onClick:()=>n(!1)}),E.jsx("aside",{className:["fixed inset-y-0 left-0 z-30 w-60 bg-gray-900 flex flex-col transition-transform duration-200 ease-in-out","lg:static lg:translate-x-0 lg:flex-shrink-0",e?"translate-x-0":"-translate-x-full"].join(" "),children:f}),E.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[E.jsxs("header",{className:"lg:hidden flex items-center gap-3 px-4 py-3 bg-gray-900 border-b border-gray-800 flex-shrink-0",children:[E.jsx("button",{onClick:()=>n(h=>!h),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Toggle sidebar",children:e?E.jsx(uj,{size:20}):E.jsx(eP,{size:20})}),E.jsx("span",{className:"text-white font-semibold text-sm",children:"Playground"})]}),E.jsx("main",{className:"flex-1 overflow-auto bg-gray-950",children:t})]})]})]})}function yP(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=yP(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ot(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=yP(t))&&(r&&(r+=" "),r+=e);return r}var bV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function pj(t){if(typeof t!="string")return!1;var e=bV;return e.includes(t)}var wV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],SV=new Set(wV);function xP(t){return typeof t!="string"?!1:SV.has(t)}function vP(t){return typeof t=="string"&&t.startsWith("data-")}function Fi(t){if(typeof t!="object"||t===null)return{};var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(xP(n)||vP(n))&&(e[n]=t[n]);return e}function Zg(t){if(t==null)return null;if(k.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Fi(e)}return typeof t=="object"&&!Array.isArray(t)?Fi(t):null}function Un(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(xP(n)||vP(n)||pj(n))&&(e[n]=t[n]);return e}function jV(t){return t==null?null:k.isValidElement(t)?Un(t.props):typeof t=="object"&&!Array.isArray(t)?Un(t):null}var NV=["children","width","height","viewBox","className","style","title","desc"];function rw(){return rw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rw.apply(null,arguments)}function CV(t,e){if(t==null)return{};var n,r,i=kV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function kV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var gj=k.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:u,desc:f}=t,h=CV(t,NV),p=a||{width:r,height:i,x:0,y:0},y=ot("recharts-surface",s);return k.createElement("svg",rw({},Un(h),{className:y,width:r,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),k.createElement("title",null,u),k.createElement("desc",null,f),n)}),OV=["children","className"];function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},iw.apply(null,arguments)}function AV(t,e){if(t==null)return{};var n,r,i=EV(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function EV(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Rs=k.forwardRef((t,e)=>{var{children:n,className:r}=t,i=AV(t,OV),a=ot("recharts-layer",r);return k.createElement("g",iw({className:a},Un(i),{ref:e}),n)}),bP=k.createContext(null),TV=()=>k.useContext(bP);function ht(t){return function(){return t}}const wP=Math.cos,pp=Math.sin,yi=Math.sqrt,gp=Math.PI,Jg=2*gp,aw=Math.PI,sw=2*aw,xl=1e-6,MV=sw-xl;function SP(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function _V(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return SP;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class DV{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?SP:_V(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,s){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,u=r-e,f=i-n,h=s-e,p=o-n,y=h*h+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(y>xl)if(!(Math.abs(p*u-f*h)>xl)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let x=r-s,b=i-o,j=u*u+f*f,S=x*x+b*b,N=Math.sqrt(j),O=Math.sqrt(y),C=a*Math.tan((aw-Math.acos((j+y-S)/(2*N*O)))/2),_=C/O,P=C/N;Math.abs(_-1)>xl&&this._append`L${e+_*h},${n+_*p}`,this._append`A${a},${a},0,0,${+(p*x>h*b)},${this._x1=e+P*u},${this._y1=n+P*f}`}}arc(e,n,r,i,a,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),f=e+o,h=n+u,p=1^s,y=s?i-a:a-i;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>xl||Math.abs(this._y1-h)>xl)&&this._append`L${f},${h}`,r&&(y<0&&(y=y%sw+sw),y>MV?this._append`A${r},${r},0,1,${p},${e-o},${n-u}A${r},${r},0,1,${p},${this._x1=f},${this._y1=h}`:y>xl&&this._append`A${r},${r},0,${+(y>=aw)},${p},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function yj(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new DV(e)}function xj(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function jP(t){this._context=t}jP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function e0(t){return new jP(t)}function NP(t){return t[0]}function CP(t){return t[1]}function kP(t,e){var n=ht(!0),r=null,i=e0,a=null,s=yj(o);t=typeof t=="function"?t:t===void 0?NP:ht(t),e=typeof e=="function"?e:e===void 0?CP:ht(e);function o(u){var f,h=(u=xj(u)).length,p,y=!1,x;for(r==null&&(a=i(x=s())),f=0;f<=h;++f)!(f<h&&n(p=u[f],f,u))===y&&((y=!y)?a.lineStart():a.lineEnd()),y&&a.point(+t(p,f,u),+e(p,f,u));if(x)return a=null,x+""||null}return o.x=function(u){return arguments.length?(t=typeof u=="function"?u:ht(+u),o):t},o.y=function(u){return arguments.length?(e=typeof u=="function"?u:ht(+u),o):e},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:ht(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(a=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=a=null:a=i(r=u),o):r},o}function am(t,e,n){var r=null,i=ht(!0),a=null,s=e0,o=null,u=yj(f);t=typeof t=="function"?t:t===void 0?NP:ht(+t),e=typeof e=="function"?e:ht(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?CP:ht(+n);function f(p){var y,x,b,j=(p=xj(p)).length,S,N=!1,O,C=new Array(j),_=new Array(j);for(a==null&&(o=s(O=u())),y=0;y<=j;++y){if(!(y<j&&i(S=p[y],y,p))===N)if(N=!N)x=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),b=y-1;b>=x;--b)o.point(C[b],_[b]);o.lineEnd(),o.areaEnd()}N&&(C[y]=+t(S,y,p),_[y]=+e(S,y,p),o.point(r?+r(S,y,p):C[y],n?+n(S,y,p):_[y]))}if(O)return o=null,O+""||null}function h(){return kP().defined(i).curve(s).context(a)}return f.x=function(p){return arguments.length?(t=typeof p=="function"?p:ht(+p),r=null,f):t},f.x0=function(p){return arguments.length?(t=typeof p=="function"?p:ht(+p),f):t},f.x1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:ht(+p),f):r},f.y=function(p){return arguments.length?(e=typeof p=="function"?p:ht(+p),n=null,f):e},f.y0=function(p){return arguments.length?(e=typeof p=="function"?p:ht(+p),f):e},f.y1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:ht(+p),f):n},f.lineX0=f.lineY0=function(){return h().x(t).y(e)},f.lineY1=function(){return h().x(t).y(n)},f.lineX1=function(){return h().x(r).y(e)},f.defined=function(p){return arguments.length?(i=typeof p=="function"?p:ht(!!p),f):i},f.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),f):s},f.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),f):a},f}class OP{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function PV(t){return new OP(t,!0)}function RV(t){return new OP(t,!1)}const vj={draw(t,e){const n=yi(e/gp);t.moveTo(n,0),t.arc(0,0,n,0,Jg)}},LV={draw(t,e){const n=yi(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},AP=yi(1/3),BV=AP*2,zV={draw(t,e){const n=yi(e/BV),r=n*AP;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},IV={draw(t,e){const n=yi(e),r=-n/2;t.rect(r,r,n,n)}},UV=.8908130915292852,EP=pp(gp/10)/pp(7*gp/10),$V=pp(Jg/10)*EP,qV=-wP(Jg/10)*EP,HV={draw(t,e){const n=yi(e*UV),r=$V*n,i=qV*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const s=Jg*a/5,o=wP(s),u=pp(s);t.lineTo(u*n,-o*n),t.lineTo(o*r-u*i,u*r+o*i)}t.closePath()}},Ev=yi(3),VV={draw(t,e){const n=-yi(e/(Ev*3));t.moveTo(0,n*2),t.lineTo(-Ev*n,-n),t.lineTo(Ev*n,-n),t.closePath()}},Ur=-.5,$r=yi(3)/2,lw=1/yi(12),FV=(lw/2+1)*3,WV={draw(t,e){const n=yi(e/FV),r=n/2,i=n*lw,a=r,s=n*lw+n,o=-a,u=s;t.moveTo(r,i),t.lineTo(a,s),t.lineTo(o,u),t.lineTo(Ur*r-$r*i,$r*r+Ur*i),t.lineTo(Ur*a-$r*s,$r*a+Ur*s),t.lineTo(Ur*o-$r*u,$r*o+Ur*u),t.lineTo(Ur*r+$r*i,Ur*i-$r*r),t.lineTo(Ur*a+$r*s,Ur*s-$r*a),t.lineTo(Ur*o+$r*u,Ur*u-$r*o),t.closePath()}};function GV(t,e){let n=null,r=yj(i);t=typeof t=="function"?t:ht(t||vj),e=typeof e=="function"?e:ht(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:ht(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:ht(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function yp(){}function xp(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function TP(t){this._context=t}TP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:xp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KV(t){return new TP(t)}function MP(t){this._context=t}MP.prototype={areaStart:yp,areaEnd:yp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function YV(t){return new MP(t)}function _P(t){this._context=t}_P.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:xp(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function QV(t){return new _P(t)}function DP(t){this._context=t}DP.prototype={areaStart:yp,areaEnd:yp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function XV(t){return new DP(t)}function fE(t){return t<0?-1:1}function dE(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),s=(n-t._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(fE(a)+fE(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function hE(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Tv(t,e,n){var r=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-r)/3;t._context.bezierCurveTo(r+o,i+o*e,a-o,s-o*n,a,s)}function vp(t){this._context=t}vp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tv(this,this._t0,hE(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Tv(this,hE(this,n=dE(this,t,e)),n);break;default:Tv(this,this._t0,n=dE(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function PP(t){this._context=new RP(t)}(PP.prototype=Object.create(vp.prototype)).point=function(t,e){vp.prototype.point.call(this,e,t)};function RP(t){this._context=t}RP.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function ZV(t){return new vp(t)}function JV(t){return new PP(t)}function LP(t){this._context=t}LP.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=mE(t),i=mE(e),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function mE(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,s[e]-=r*s[e-1];for(i[n-1]=s[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function eF(t){return new LP(t)}function t0(t,e){this._context=t,this._t=e}t0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function tF(t){return new t0(t,.5)}function nF(t){return new t0(t,0)}function rF(t){return new t0(t,1)}function Ul(t,e){if((s=t.length)>1)for(var n=1,r,i,a=t[e[0]],s,o=a.length;n<s;++n)for(i=a,a=t[e[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function ow(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function iF(t,e){return t[e]}function aF(t){const e=[];return e.key=t,e}function sF(){var t=ht([]),e=ow,n=Ul,r=iF;function i(a){var s=Array.from(t.apply(this,arguments),aF),o,u=s.length,f=-1,h;for(const p of a)for(o=0,++f;o<u;++o)(s[o][f]=[0,+r(p,s[o].key,f,a)]).data=p;for(o=0,h=xj(e(s));o<u;++o)s[h[o]].index=o;return n(s,h),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:ht(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:ht(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?ow:typeof a=="function"?a:ht(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??Ul,i):n},i}function lF(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=t[n][i][1]||0;if(s)for(n=0;n<r;++n)t[n][i][1]/=s}Ul(t,e)}}function oF(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=t[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}Ul(t,e)}}function cF(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,u=0,f=0;o<s;++o){for(var h=t[e[o]],p=h[r][1]||0,y=h[r-1][1]||0,x=(p-y)/2,b=0;b<o;++b){var j=t[e[b]],S=j[r][1]||0,N=j[r-1][1]||0;x+=S-N}u+=p,f+=x*p}i[r-1][1]+=i[r-1][0]=n,u&&(n-=f/u)}i[r-1][1]+=i[r-1][0]=n,Ul(t,e)}}var Mv={},_v={},pE;function uF(){return pE||(pE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(_v)),_v}var Dv={},gE;function BP(){return gE||(gE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(Dv)),Dv}var Pv={},yE;function bj(){return yE||(yE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}t.toKey=e})(Pv)),Pv}var Rv={},Lv={},xE;function fF(){return xE||(xE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(e).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}t.toString=e})(Lv)),Lv}var vE;function wj(){return vE||(vE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fF(),n=bj();function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,u="",f="",h=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const p=i[o];f?p==="\\"&&o+1<s?(o++,u+=i[o]):p===f?f="":u+=p:h?p==='"'||p==="'"?f=p:p==="]"?(h=!1,a.push(u),u=""):u+=p:p==="["?(h=!0,u&&(a.push(u),u="")):p==="."?u&&(a.push(u),u=""):u+=p,o++}return u&&a.push(u),a}t.toPath=r})(Rv)),Rv}var bE;function Sj(){return bE||(bE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uF(),n=BP(),r=bj(),i=wj();function a(o,u,f){if(o==null)return f;switch(typeof u){case"string":{if(e.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?n.isDeepKey(u)?a(o,i.toPath(u),f):f:h}case"number":case"symbol":{typeof u=="number"&&(u=r.toKey(u));const h=o[u];return h===void 0?f:h}default:{if(Array.isArray(u))return s(o,u,f);if(Object.is(u?.valueOf(),-0)?u="-0":u=String(u),e.isUnsafeProperty(u))return f;const h=o[u];return h===void 0?f:h}}}function s(o,u,f){if(u.length===0)return f;let h=o;for(let p=0;p<u.length;p++){if(h==null||e.isUnsafeProperty(u[p]))return f;h=h[u[p]]}return h===void 0?f:h}t.get=a})(Mv)),Mv}var Bv,wE;function dF(){return wE||(wE=1,Bv=Sj().get),Bv}var hF=dF();const n0=gi(hF);var mF=4;function Cs(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mF,n=10**e,r=Math.round(t*n)/n;return Object.is(r,-0)?0:r}function Tt(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return t.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Cs(o)+a:i+a},"")}var Fr=t=>t===0?0:t>0?1:-1,Oa=t=>typeof t=="number"&&t!=+t,$l=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Oe=t=>(typeof t=="number"||t instanceof Number)&&!Oa(t),Wi=t=>Oe(t)||typeof t=="string",pF=0,_f=t=>{var e=++pF;return"".concat(t||"").concat(e)},Ls=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Oe(e)&&typeof e!="string")return r;var a;if($l(e)){if(n==null)return r;var s=e.indexOf("%");a=n*parseFloat(e.slice(0,s))/100}else a=+e;return Oa(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},zP=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[String(t[r])])n[String(t[r])]=!0;else return!0;return!1};function Zn(t,e,n){return Oe(t)&&Oe(e)?Cs(t+n*(e-t)):e}function IP(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):n0(r,e))===n)}var Cn=t=>t===null||typeof t>"u",gd=t=>Cn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function er(t){return t!=null}function zc(){}var gF=["type","size","sizeType"];function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cw.apply(null,arguments)}function SE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SE(Object(n),!0).forEach(function(r){yF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yF(t,e,n){return(e=xF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xF(t){var e=vF(t,"string");return typeof e=="symbol"?e:e+""}function vF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bF(t,e){if(t==null)return{};var n,r,i=wF(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function wF(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var UP={symbolCircle:vj,symbolCross:LV,symbolDiamond:zV,symbolSquare:IV,symbolStar:HV,symbolTriangle:VV,symbolWye:WV},SF=Math.PI/180,jF=t=>{var e="symbol".concat(gd(t));return UP[e]||vj},NF=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*SF;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},CF=(t,e)=>{UP["symbol".concat(gd(t))]=e},jj=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=bF(t,gF),a=jE(jE({},i),{},{type:e,size:n,sizeType:r}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var y=jF(s),x=GV().type(y).size(NF(n,r,s)),b=x();if(b!==null)return b},{className:u,cx:f,cy:h}=a,p=Un(a);return Oe(f)&&Oe(h)&&Oe(n)?k.createElement("path",cw({},p,{className:ot("recharts-symbols",u),transform:"translate(".concat(f,", ").concat(h,")"),d:o()})):null};jj.registerSymbol=CF;var $P=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Nj=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(k.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{pj(i)&&(r[i]=(a=>n[i](n,a)))}),r},kF=(t,e,n)=>r=>(t(e,n,r),null),qP=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var a=t[i];pj(i)&&typeof a=="function"&&(r||(r={}),r[i]=kF(a,e,n))}),r};function NE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NE(Object(n),!0).forEach(function(r){AF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function AF(t,e,n){return(e=EF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function EF(t){var e=TF(t,"string");return typeof e=="symbol"?e:e+""}function TF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _n(t,e){var n=OF({},t),r=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(null,arguments)}function CE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function MF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CE(Object(n),!0).forEach(function(r){_F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CE(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _F(t,e,n){return(e=DF(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DF(t){var e=PF(t,"string");return typeof e=="symbol"?e:e+""}function PF(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Hr=32,RF={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function LF(t){var{data:e,iconType:n,inactiveColor:r}=t,i=Hr/2,a=Hr/6,s=Hr/3,o=e.inactive?r:e.color,u=n??e.type;if(u==="none")return null;if(u==="plainline"){var f;return k.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(f=e.payload)===null||f===void 0?void 0:f.strokeDasharray,x1:0,y1:i,x2:Hr,y2:i,className:"recharts-legend-icon"})}if(u==="line")return k.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Hr,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(u==="rect")return k.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Hr/8,"h").concat(Hr,"v").concat(Hr*3/4,"h").concat(-Hr,"z"),className:"recharts-legend-icon"});if(k.isValidElement(e.legendIcon)){var h=MF({},e);return delete h.legendIcon,k.cloneElement(e.legendIcon,h)}return k.createElement(jj,{fill:o,cx:i,cy:i,size:Hr,sizeType:"diameter",type:u})}function BF(t){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Hr,height:Hr},u={display:r==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((h,p)=>{var y=h.formatter||i,x=ot({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:h.inactive});if(h.type==="none")return null;var b=h.inactive?a:h.color,j=y?y(h.value,h,p):h.value;return k.createElement("li",bp({className:x,style:u,key:"legend-item-".concat(p)},qP(t,h,p)),k.createElement(gj,{width:n,height:n,viewBox:o,style:f,"aria-label":"".concat(j," legend icon")},k.createElement(LF,{data:h,iconType:s,inactiveColor:a})),k.createElement("span",{className:"recharts-legend-item-text",style:{color:b}},j))})}var zF=t=>{var e=_n(t,RF),{payload:n,layout:r,align:i}=e;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return k.createElement("ul",{className:"recharts-default-legend",style:a},k.createElement(BF,bp({},e,{payload:n})))},zv={},Iv={},kE;function IF(){return kE||(kE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(Iv)),Iv}var Uv={},OE;function UF(){return OE||(OE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}t.ary=e})(Uv)),Uv}var $v={},AE;function HP(){return AE||(AE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})($v)),$v}var qv={},Hv={},Vv={},EE;function $F(){return EE||(EE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(Vv)),Vv}var TE;function Cj(){return TE||(TE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$F();function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(Hv)),Hv}var Fv={},ME;function qF(){return ME||(ME=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(Fv)),Fv}var _E;function HF(){return _E||(_E=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Cj(),n=qF();function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(qv)),qv}var Wv={},Gv={},DE;function VF(){return DE||(DE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sj();function n(r){return function(i){return e.get(i,r)}}t.property=n})(Gv)),Gv}var Kv={},Yv={},Qv={},Xv={},PE;function VP(){return PE||(PE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(Xv)),Xv}var Zv={},RE;function FP(){return RE||(RE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(Zv)),Zv}var Jv={},LE;function WP(){return LE||(LE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.isEqualsSameValueZero=e})(Jv)),Jv}var BE;function FF(){return BE||(BE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=VP(),n=FP(),r=WP();function i(h,p,y){return typeof y!="function"?i(h,p,()=>{}):a(h,p,function x(b,j,S,N,O,C){const _=y(b,j,S,N,O,C);return _!==void 0?!!_:a(b,j,x,C)},new Map)}function a(h,p,y,x){if(p===h)return!0;switch(typeof p){case"object":return s(h,p,y,x);case"function":return Object.keys(p).length>0?a(h,{...p},y,x):r.isEqualsSameValueZero(h,p);default:return e.isObject(h)?typeof p=="string"?p==="":!0:r.isEqualsSameValueZero(h,p)}}function s(h,p,y,x){if(p==null)return!0;if(Array.isArray(p))return u(h,p,y,x);if(p instanceof Map)return o(h,p,y,x);if(p instanceof Set)return f(h,p,y,x);const b=Object.keys(p);if(h==null||n.isPrimitive(h))return b.length===0;if(b.length===0)return!0;if(x?.has(p))return x.get(p)===h;x?.set(p,h);try{for(let j=0;j<b.length;j++){const S=b[j];if(!n.isPrimitive(h)&&!(S in h)||p[S]===void 0&&h[S]!==void 0||p[S]===null&&h[S]!==null||!y(h[S],p[S],S,h,p,x))return!1}return!0}finally{x?.delete(p)}}function o(h,p,y,x){if(p.size===0)return!0;if(!(h instanceof Map))return!1;for(const[b,j]of p.entries()){const S=h.get(b);if(y(S,j,b,h,p,x)===!1)return!1}return!0}function u(h,p,y,x){if(p.length===0)return!0;if(!Array.isArray(h))return!1;const b=new Set;for(let j=0;j<p.length;j++){const S=p[j];let N=!1;for(let O=0;O<h.length;O++){if(b.has(O))continue;const C=h[O];let _=!1;if(y(C,S,j,h,p,x)&&(_=!0),_){b.add(O),N=!0;break}}if(!N)return!1}return!0}function f(h,p,y,x){return p.size===0?!0:h instanceof Set?u([...h],[...p],y,x):!1}t.isMatchWith=i,t.isSetMatch=f})(Qv)),Qv}var zE;function GP(){return zE||(zE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=FF();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n})(Yv)),Yv}var eb={},tb={},nb={},IE;function WF(){return IE||(IE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(nb)),nb}var rb={},UE;function kj(){return UE||(UE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(rb)),rb}var ib={},$E;function KP(){return $E||($E=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",u="[object Map]",f="[object Set]",h="[object Array]",p="[object Function]",y="[object ArrayBuffer]",x="[object Object]",b="[object Error]",j="[object DataView]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",O="[object Uint16Array]",C="[object Uint32Array]",_="[object BigUint64Array]",P="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",L="[object BigInt64Array]",I="[object Float32Array]",q="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=y,t.arrayTag=h,t.bigInt64ArrayTag=L,t.bigUint64ArrayTag=_,t.booleanTag=i,t.dataViewTag=j,t.dateTag=o,t.errorTag=b,t.float32ArrayTag=I,t.float64ArrayTag=q,t.functionTag=p,t.int16ArrayTag=D,t.int32ArrayTag=T,t.int8ArrayTag=P,t.mapTag=u,t.numberTag=r,t.objectTag=x,t.regexpTag=e,t.setTag=f,t.stringTag=n,t.symbolTag=s,t.uint16ArrayTag=O,t.uint32ArrayTag=C,t.uint8ArrayTag=S,t.uint8ClampedArrayTag=N})(ib)),ib}var ab={},qE;function GF(){return qE||(qE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(ab)),ab}var HE;function YP(){return HE||(HE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=WF(),n=kj(),r=KP(),i=FP(),a=GF();function s(h,p){return o(h,void 0,h,new Map,p)}function o(h,p,y,x=new Map,b=void 0){const j=b?.(h,p,y,x);if(j!==void 0)return j;if(i.isPrimitive(h))return h;if(x.has(h))return x.get(h);if(Array.isArray(h)){const S=new Array(h.length);x.set(h,S);for(let N=0;N<h.length;N++)S[N]=o(h[N],N,y,x,b);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;x.set(h,S);for(const[N,O]of h)S.set(N,o(O,N,y,x,b));return S}if(h instanceof Set){const S=new Set;x.set(h,S);for(const N of h)S.add(o(N,void 0,y,x,b));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(a.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);x.set(h,S);for(let N=0;N<h.length;N++)S[N]=o(h[N],N,y,x,b);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return x.set(h,S),u(S,h,y,x,b),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return x.set(h,S),u(S,h,y,x,b),S}if(typeof Blob<"u"&&h instanceof Blob){const S=new Blob([h],{type:h.type});return x.set(h,S),u(S,h,y,x,b),S}if(h instanceof Error){const S=new h.constructor;return x.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,u(S,h,y,x,b),S}if(h instanceof Boolean){const S=new Boolean(h.valueOf());return x.set(h,S),u(S,h,y,x,b),S}if(h instanceof Number){const S=new Number(h.valueOf());return x.set(h,S),u(S,h,y,x,b),S}if(h instanceof String){const S=new String(h.valueOf());return x.set(h,S),u(S,h,y,x,b),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return x.set(h,S),u(S,h,y,x,b),S}return h}function u(h,p,y=h,x,b){const j=[...Object.keys(p),...e.getSymbols(p)];for(let S=0;S<j.length;S++){const N=j[S],O=Object.getOwnPropertyDescriptor(h,N);(O==null||O.writable)&&(h[N]=o(p[N],N,y,x,b))}}function f(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=u})(tb)),tb}var VE;function KF(){return VE||(VE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YP();function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(eb)),eb}var FE;function YF(){return FE||(FE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GP(),n=KF();function r(i){return i=n.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=r})(Kv)),Kv}var sb={},lb={},ob={},WE;function QF(){return WE||(WE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=YP(),n=kj(),r=KP();function i(a,s){return e.cloneDeepWith(a,(o,u,f,h)=>{const p=s?.(o,u,f,h);if(p!==void 0)return p;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const y={};return h.set(a,y),e.copyProperties(y,a,f,h),y}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const y=new a.constructor(a?.valueOf());return e.copyProperties(y,a),y}case r.argumentsTag:{const y={};return e.copyProperties(y,a),y.length=a.length,y[Symbol.iterator]=a[Symbol.iterator],y}default:return}}})}t.cloneDeepWith=i})(ob)),ob}var GE;function XF(){return GE||(GE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QF();function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(lb)),lb}var cb={},ub={},KE;function QP(){return KE||(KE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(ub)),ub}var fb={},YE;function ZF(){return YE||(YE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kj();function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(fb)),fb}var QE;function JF(){return QE||(QE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=BP(),n=QP(),r=ZF(),i=wj();function a(s,o){let u;if(Array.isArray(o)?u=o:typeof o=="string"&&e.isDeepKey(o)&&s?.[o]==null?u=i.toPath(o):u=[o],u.length===0)return!1;let f=s;for(let h=0;h<u.length;h++){const p=u[h];if((f==null||!Object.hasOwn(f,p))&&!((Array.isArray(f)||r.isArguments(f))&&n.isIndex(p)&&p<f.length))return!1;f=f[p]}return!0}t.has=a})(cb)),cb}var XE;function eW(){return XE||(XE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GP(),n=bj(),r=XF(),i=Sj(),a=JF();function s(o,u){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return u=r.cloneDeep(u),function(f){const h=i.get(f,o);return h===void 0?a.has(f,o):u===void 0?h===void 0:e.isMatch(h,u)}}t.matchesProperty=s})(sb)),sb}var ZE;function tW(){return ZE||(ZE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=HP(),n=VF(),r=YF(),i=eW();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}t.iteratee=a})(Wv)),Wv}var JE;function nW(){return JE||(JE=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=IF(),n=UF(),r=HP(),i=HF(),a=tW();function s(o,u=r.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),n.ary(a.iteratee(u),1)):[]}t.uniqBy=s})(zv)),zv}var db,eT;function rW(){return eT||(eT=1,db=nW().uniqBy),db}var iW=rW();const tT=gi(iW);function XP(t,e,n){return e===!0?tT(t,n):typeof e=="function"?tT(t,e):t}var hb={exports:{}},mb={},pb={exports:{}},gb={};var nT;function aW(){if(nT)return gb;nT=1;var t=_c();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(p,y){var x=y(),b=r({inst:{value:x,getSnapshot:y}}),j=b[0].inst,S=b[1];return a(function(){j.value=x,j.getSnapshot=y,u(j)&&S({inst:j})},[p,x,y]),i(function(){return u(j)&&S({inst:j}),p(function(){u(j)&&S({inst:j})})},[p]),s(x),x}function u(p){var y=p.getSnapshot;p=p.value;try{var x=y();return!n(p,x)}catch{return!0}}function f(p,y){return y()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:o;return gb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,gb}var rT;function sW(){return rT||(rT=1,pb.exports=aW()),pb.exports}var iT;function lW(){if(iT)return mb;iT=1;var t=_c(),e=sW();function n(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:n,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,u=t.useDebugValue;return mb.useSyncExternalStoreWithSelector=function(f,h,p,y,x){var b=a(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=o(function(){function N(D){if(!O){if(O=!0,C=D,D=y(D),x!==void 0&&j.hasValue){var T=j.value;if(x(T,D))return _=T}return _=D}if(T=_,r(C,D))return T;var L=y(D);return x!==void 0&&x(T,L)?(C=D,T):(C=D,_=L)}var O=!1,C,_,P=p===void 0?null:p;return[function(){return N(h())},P===null?void 0:function(){return N(P())}]},[h,p,y,x]);var S=i(f,b[0],b[1]);return s(function(){j.hasValue=!0,j.value=S},[S]),u(S),S},mb}var aT;function oW(){return aT||(aT=1,hb.exports=lW()),hb.exports}var cW=oW(),Oj=k.createContext(null),uW=t=>t,Vt=()=>{var t=k.useContext(Oj);return t?t.store.dispatch:uW},Km=()=>{},fW=()=>Km,dW=(t,e)=>t===e;function _e(t){var e=k.useContext(Oj),n=k.useMemo(()=>e?r=>{if(r!=null)return t(r)}:Km,[e,t]);return cW.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:fW,e?e.store.getState:Km,e?e.store.getState:Km,n,dW)}function hW(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function mW(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function pW(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var sT=t=>Array.isArray(t)?t:[t];function gW(t){const e=Array.isArray(t[0])?t[0]:t;return pW(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function yW(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var xW=class{constructor(t){this.value=t}deref(){return this.value}},vW=typeof WeakRef<"u"?WeakRef:xW,bW=0,lT=1;function sm(){return{s:bW,v:void 0,o:null,p:null}}function ZP(t,e={}){let n=sm();const{resultEqualityCheck:r}=e;let i,a=0;function s(){let o=n;const{length:u}=arguments;for(let p=0,y=u;p<y;p++){const x=arguments[p];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const j=b.get(x);j===void 0?(o=sm(),b.set(x,o)):o=j}else{let b=o.p;b===null&&(o.p=b=new Map);const j=b.get(x);j===void 0?(o=sm(),b.set(x,o)):o=j}}const f=o;let h;if(o.s===lT)h=o.v;else if(h=t.apply(null,arguments),a++,r){const p=i?.deref?.()??i;p!=null&&r(p,h)&&(h=p,a!==0&&a--),i=typeof h=="object"&&h!==null||typeof h=="function"?new vW(h):h}return f.s=lT,f.v=h,h}return s.clearCache=()=>{n=sm(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function wW(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let a=0,s=0,o,u={},f=i.pop();typeof f=="object"&&(u=f,f=i.pop()),hW(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...n,...u},{memoize:p,memoizeOptions:y=[],argsMemoize:x=ZP,argsMemoizeOptions:b=[]}=h,j=sT(y),S=sT(b),N=gW(i),O=p(function(){return a++,f.apply(null,arguments)},...j),C=x(function(){s++;const P=yW(N,arguments);return o=O.apply(null,P),o},...S);return Object.assign(C,{resultFunc:f,memoizedResultFunc:O,dependencies:N,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:x})};return Object.assign(r,{withTypes:()=>r}),r}var le=wW(ZP),SW=Object.assign((t,e=le)=>{mW(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(a=>t[a]);return e(r,(...a)=>a.reduce((s,o,u)=>(s[n[u]]=o,s),{}))},{withTypes:()=>SW}),yb={},xb={},vb={},oT;function jW(){return oT||(oT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=e(r),o=e(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=n})(vb)),vb}var bb={},wb={},cT;function JP(){return cT||(cT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(wb)),wb}var uT;function NW(){return uT||(uT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(bb)),bb}var fT;function CW(){return fT||(fT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jW(),n=NW(),r=wj();function i(a,s,o,u){if(a==null)return[];o=u?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(x=>String(x));const f=(x,b)=>{let j=x;for(let S=0;S<b.length&&j!=null;++S)j=j[b[S]];return j},h=(x,b)=>b==null||x==null?b:typeof x=="object"&&"key"in x?Object.hasOwn(b,x.key)?b[x.key]:f(b,x.path):typeof x=="function"?x(b):Array.isArray(x)?f(b,x):typeof b=="object"?b[x]:b,p=s.map(x=>(Array.isArray(x)&&x.length===1&&(x=x[0]),x==null||typeof x=="function"||Array.isArray(x)||n.isKey(x)?x:{key:x,path:r.toPath(x)}));return a.map(x=>({original:x,criteria:p.map(b=>h(b,x))})).slice().sort((x,b)=>{for(let j=0;j<p.length;j++){const S=e.compareValues(x.criteria[j],b.criteria[j],o[j]);if(S!==0)return S}return 0}).map(x=>x.original)}t.orderBy=i})(xb)),xb}var Sb={},dT;function kW(){return dT||(dT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],a=Math.floor(r),s=(o,u)=>{for(let f=0;f<o.length;f++){const h=o[f];Array.isArray(h)&&u<a?s(h,u+1):i.push(h)}};return s(n,0),i}t.flatten=e})(Sb)),Sb}var jb={},hT;function eR(){return hT||(hT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QP(),n=Cj(),r=VP(),i=WP();function a(s,o,u){return r.isObject(u)&&(typeof o=="number"&&n.isArrayLike(u)&&e.isIndex(o)&&o<u.length||typeof o=="string"&&o in u)?i.isEqualsSameValueZero(u[o],s):!1}t.isIterateeCall=a})(jb)),jb}var mT;function OW(){return mT||(mT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=CW(),n=kW(),r=eR();function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,n.flatten(s),["asc"])}t.sortBy=i})(yb)),yb}var Nb,pT;function AW(){return pT||(pT=1,Nb=OW().sortBy),Nb}var EW=AW();const r0=gi(EW);var tR=t=>t.legend.settings,TW=t=>t.legend.size,MW=t=>t.legend.payload,_W=le([MW,tR],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?r0(r,n):r});function DW(){return _e(_W)}var lm=1;function nR(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=k.useState({height:0,left:0,top:0,width:0}),r=k.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>lm||Math.abs(s.left-e.left)>lm||Math.abs(s.top-e.top)>lm||Math.abs(s.width-e.width)>lm)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function xn(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var PW=typeof Symbol=="function"&&Symbol.observable||"@@observable",gT=PW,Cb=()=>Math.random().toString(36).substring(7).split("").join("."),RW={INIT:`@@redux/INIT${Cb()}`,REPLACE:`@@redux/REPLACE${Cb()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Cb()}`},wp=RW;function Aj(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function rR(t,e,n){if(typeof t!="function")throw new Error(xn(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(xn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(xn(1));return n(rR)(t,e)}let r=t,i=e,a=new Map,s=a,o=0,u=!1;function f(){s===a&&(s=new Map,a.forEach((S,N)=>{s.set(N,S)}))}function h(){if(u)throw new Error(xn(3));return i}function p(S){if(typeof S!="function")throw new Error(xn(4));if(u)throw new Error(xn(5));let N=!0;f();const O=o++;return s.set(O,S),function(){if(N){if(u)throw new Error(xn(6));N=!1,f(),s.delete(O),a=null}}}function y(S){if(!Aj(S))throw new Error(xn(7));if(typeof S.type>"u")throw new Error(xn(8));if(typeof S.type!="string")throw new Error(xn(17));if(u)throw new Error(xn(9));try{u=!0,i=r(i,S)}finally{u=!1}return(a=s).forEach(O=>{O()}),S}function x(S){if(typeof S!="function")throw new Error(xn(10));r=S,y({type:wp.REPLACE})}function b(){const S=p;return{subscribe(N){if(typeof N!="object"||N===null)throw new Error(xn(11));function O(){const _=N;_.next&&_.next(h())}return O(),{unsubscribe:S(O)}},[gT](){return this}}}return y({type:wp.INIT}),{dispatch:y,subscribe:p,getState:h,replaceReducer:x,[gT]:b}}function LW(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:wp.INIT})>"u")throw new Error(xn(12));if(typeof n(void 0,{type:wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(xn(13))})}function iR(t){const e=Object.keys(t),n={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{LW(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let u=!1;const f={};for(let h=0;h<r.length;h++){const p=r[h],y=n[p],x=s[p],b=y(x,o);if(typeof b>"u")throw o&&o.type,new Error(xn(14));f[p]=b,u=u||b!==x}return u=u||r.length!==Object.keys(s).length,u?f:s}}function Sp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function BW(...t){return e=>(n,r)=>{const i=e(n,r);let a=()=>{throw new Error(xn(15))};const s={getState:i.getState,dispatch:(u,...f)=>a(u,...f)},o=t.map(u=>u(s));return a=Sp(...o)(i.dispatch),{...i,dispatch:a}}}function aR(t){return Aj(t)&&"type"in t&&typeof t.type=="string"}var sR=Symbol.for("immer-nothing"),yT=Symbol.for("immer-draftable"),$n=Symbol.for("immer-state");function ai(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Nr=Object,yc=Nr.getPrototypeOf,jp="constructor",i0="prototype",uw="configurable",Np="enumerable",Ym="writable",Df="value",Aa=t=>!!t&&!!t[$n];function mi(t){return t?lR(t)||s0(t)||!!t[yT]||!!t[jp]?.[yT]||l0(t)||o0(t):!1}var zW=Nr[i0][jp].toString(),xT=new WeakMap;function lR(t){if(!t||!Ej(t))return!1;const e=yc(t);if(e===null||e===Nr[i0])return!0;const n=Nr.hasOwnProperty.call(e,jp)&&e[jp];if(n===Object)return!0;if(!Qo(n))return!1;let r=xT.get(n);return r===void 0&&(r=Function.toString.call(n),xT.set(n,r)),r===zW}function a0(t,e,n=!0){yd(t)===0?(n?Reflect.ownKeys(t):Nr.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function yd(t){const e=t[$n];return e?e.type_:s0(t)?1:l0(t)?2:o0(t)?3:0}var vT=(t,e,n=yd(t))=>n===2?t.has(e):Nr[i0].hasOwnProperty.call(t,e),fw=(t,e,n=yd(t))=>n===2?t.get(e):t[e],Cp=(t,e,n,r=yd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function IW(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var s0=Array.isArray,l0=t=>t instanceof Map,o0=t=>t instanceof Set,Ej=t=>typeof t=="object",Qo=t=>typeof t=="function",kb=t=>typeof t=="boolean";function UW(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var ya=t=>t.copy_||t.base_,Tj=t=>t.modified_?t.copy_:t.base_;function dw(t,e){if(l0(t))return new Map(t);if(o0(t))return new Set(t);if(s0(t))return Array[i0].slice.call(t);const n=lR(t);if(e===!0||e==="class_only"&&!n){const r=Nr.getOwnPropertyDescriptors(t);delete r[$n];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[Ym]===!1&&(o[Ym]=!0,o[uw]=!0),(o.get||o.set)&&(r[s]={[uw]:!0,[Ym]:!0,[Np]:o[Np],[Df]:t[s]})}return Nr.create(yc(t),r)}else{const r=yc(t);if(r!==null&&n)return{...t};const i=Nr.create(r);return Nr.assign(i,t)}}function Mj(t,e=!1){return c0(t)||Aa(t)||!mi(t)||(yd(t)>1&&Nr.defineProperties(t,{set:om,add:om,clear:om,delete:om}),Nr.freeze(t),e&&a0(t,(n,r)=>{Mj(r,!0)},!1)),t}function $W(){ai(2)}var om={[Df]:$W};function c0(t){return t===null||!Ej(t)?!0:Nr.isFrozen(t)}var kp="MapSet",hw="Patches",bT="ArrayMethods",oR={};function ql(t){const e=oR[t];return e||ai(0,t),e}var wT=t=>!!oR[t],Pf,cR=()=>Pf,qW=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:wT(kp)?ql(kp):void 0,arrayMethodsPlugin_:wT(bT)?ql(bT):void 0});function ST(t,e){e&&(t.patchPlugin_=ql(hw),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function mw(t){pw(t),t.drafts_.forEach(HW),t.drafts_=null}function pw(t){t===Pf&&(Pf=t.parent_)}var jT=t=>Pf=qW(Pf,t);function HW(t){const e=t[$n];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function NT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[$n].modified_&&(mw(e),ai(4)),mi(t)&&(t=CT(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[$n].base_,t,e)}else t=CT(e,n);return VW(e,t,!0),mw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==sR?t:void 0}function CT(t,e){if(c0(e))return e;const n=e[$n];if(!n)return Op(e,t.handledSet_,t);if(!u0(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);dR(n,t)}return n.copy_}function VW(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Mj(e,n)}function uR(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var u0=(t,e)=>t.scope_===e,FW=[];function fR(t,e,n,r){const i=ya(t),a=t.type_;if(r!==void 0&&fw(i,r,a)===e){Cp(i,r,n,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;a0(i,(u,f)=>{if(Aa(f)){const h=o.get(f)||[];h.push(u),o.set(f,h)}})}const s=t.draftLocations_.get(e)??FW;for(const o of s)Cp(i,o,n,a)}function WW(t,e,n){t.callbacks_.push(function(i){const a=e;if(!a||!u0(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=Tj(a);fR(t,a.draft_??a,s,n),dR(a,i)})}function dR(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:r}=e;if(r){const i=r.getPath(t);i&&r.generatePatches_(t,i,e)}uR(t)}}function GW(t,e,n){const{scope_:r}=t;if(Aa(n)){const i=n[$n];u0(i,r)&&i.callbacks_.push(function(){Qm(t);const s=Tj(i);fR(t,n,s,e)})}else mi(n)&&t.callbacks_.push(function(){const a=ya(t);t.type_===3?a.has(n)&&Op(n,r.handledSet_,r):fw(a,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Op(fw(t.copy_,e,t.type_),r.handledSet_,r)})}function Op(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||Aa(t)||e.has(t)||!mi(t)||c0(t)||(e.add(t),a0(t,(r,i)=>{if(Aa(i)){const a=i[$n];if(u0(a,n)){const s=Tj(a);Cp(t,r,s,t.type_),uR(a)}}else mi(i)&&Op(i,e,n)})),t}function KW(t,e){const n=s0(t),r={type_:n?1:0,scope_:e?e.scope_:cR(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=Ap;n&&(i=[r],a=Rf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var Ap={get(t,e){if(e===$n)return t;let n=t.scope_.arrayMethodsPlugin_;const r=t.type_===1&&typeof e=="string";if(r&&n?.isArrayOperationMethod(e))return n.createMethodInterceptor(t,e);const i=ya(t);if(!vT(i,e,t.type_))return YW(t,i,e);const a=i[e];if(t.finalized_||!mi(a)||r&&t.operationMethod&&n?.isMutatingArrayMethod(t.operationMethod)&&UW(e))return a;if(a===Ob(t.base_,e)){Qm(t);const s=t.type_===1?+e:e,o=yw(t.scope_,a,t,s);return t.copy_[s]=o}return a},has(t,e){return e in ya(t)},ownKeys(t){return Reflect.ownKeys(ya(t))},set(t,e,n){const r=hR(ya(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Ob(ya(t),e),a=i?.[$n];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(IW(n,i)&&(n!==void 0||vT(t.base_,e,t.type_)))return!0;Qm(t),gw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),GW(t,e,n)),!0},deleteProperty(t,e){return Qm(t),Ob(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),gw(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ya(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Ym]:!0,[uw]:t.type_!==1||e!=="length",[Np]:r[Np],[Df]:n[e]}},defineProperty(){ai(11)},getPrototypeOf(t){return yc(t.base_)},setPrototypeOf(){ai(12)}},Rf={};for(let t in Ap){let e=Ap[t];Rf[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}}Rf.deleteProperty=function(t,e){return Rf.set.call(this,t,e,void 0)};Rf.set=function(t,e,n){return Ap.set.call(this,t[0],e,n,t[0])};function Ob(t,e){const n=t[$n];return(n?ya(n):t)[e]}function YW(t,e,n){const r=hR(e,n);return r?Df in r?r[Df]:r.get?.call(t.draft_):void 0}function hR(t,e){if(!(e in t))return;let n=yc(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=yc(n)}}function gw(t){t.modified_||(t.modified_=!0,t.parent_&&gw(t.parent_))}function Qm(t){t.copy_||(t.assigned_=new Map,t.copy_=dw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var QW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(Qo(n)&&!Qo(r)){const s=r;r=n;const o=this;return function(f=s,...h){return o.produce(f,p=>r.call(this,p,...h))}}Qo(r)||ai(6),i!==void 0&&!Qo(i)&&ai(7);let a;if(mi(n)){const s=jT(this),o=yw(s,n,void 0);let u=!0;try{a=r(o),u=!1}finally{u?mw(s):pw(s)}return ST(s,i),NT(a,s)}else if(!n||!Ej(n)){if(a=r(n),a===void 0&&(a=n),a===sR&&(a=void 0),this.autoFreeze_&&Mj(a,!0),i){const s=[],o=[];ql(hw).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else ai(1,n)},this.produceWithPatches=(n,r)=>{if(Qo(n))return(o,...u)=>this.produceWithPatches(o,f=>n(f,...u));let i,a;return[this.produce(n,r,(o,u)=>{i=o,a=u}),i,a]},kb(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),kb(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),kb(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){mi(e)||ai(8),Aa(e)&&(e=di(e));const n=jT(this),r=yw(n,e,void 0);return r[$n].isManual_=!0,pw(n),r}finishDraft(e,n){const r=e&&e[$n];(!r||!r.isManual_)&&ai(9);const{scope_:i}=r;return ST(i,n),NT(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}r>-1&&(n=n.slice(r+1));const i=ql(hw).applyPatches_;return Aa(e)?i(e,n):this.produce(e,a=>i(a,n))}};function yw(t,e,n,r){const[i,a]=l0(e)?ql(kp).proxyMap_(e,n):o0(e)?ql(kp).proxySet_(e,n):KW(e,n);return(n?.scope_??cR()).drafts_.push(i),a.callbacks_=n?.callbacks_??[],a.key_=r,n&&r!==void 0?WW(n,a,r):a.callbacks_.push(function(u){u.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:f}=u;a.modified_&&f&&f.generatePatches_(a,[],u)}),i}function di(t){return Aa(t)||ai(10,t),mR(t)}function mR(t){if(!mi(t)||c0(t))return t;const e=t[$n];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=dw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=dw(t,!0);return a0(n,(i,a)=>{Cp(n,i,mR(a))},r),e&&(e.finalized_=!1),n}var XW=new QW,pR=XW.produce;function gR(t){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,t):i(a)}var ZW=gR(),JW=gR,eG=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Sp:Sp.apply(null,arguments)};function Xr(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(kr(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>aR(r)&&r.type===t,n}var yR=class hf extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,hf.prototype)}static get[Symbol.species](){return hf}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new hf(...e[0].concat(this)):new hf(...e.concat(this))}};function kT(t){return mi(t)?pR(t,()=>{}):t}function cm(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function tG(t){return typeof t=="boolean"}var nG=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new yR;return n&&(tG(n)?s.push(ZW):s.push(JW(n.extraArgument))),s},xR="RTK_autoBatch",vt=()=>t=>({payload:t,meta:{[xR]:!0}}),OT=t=>e=>{setTimeout(e,t)},vR=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,a=!1,s=!1;const o=new Set,u=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:OT(10):t.type==="callback"?t.queueNotification:OT(t.timeout),f=()=>{s=!1,a&&(a=!1,o.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const p=()=>i&&h(),y=r.subscribe(p);return o.add(h),()=>{y(),o.delete(h)}},dispatch(h){try{return i=!h?.meta?.[xR],a=!i,a&&(s||(s=!0,u(f))),r.dispatch(h)}finally{i=!0}}})},rG=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new yR(t);return r&&i.push(vR(typeof r=="object"?r:void 0)),i};function iG(t){const e=nG(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(Aj(n))o=iR(n);else throw new Error(kr(1));let u;typeof r=="function"?u=r(e):u=e();let f=Sp;i&&(f=eG({trace:!1,...typeof i=="object"&&i}));const h=BW(...u),p=rG(h);let y=typeof s=="function"?s(p):p();const x=f(...y);return rR(o,a,x)}function bR(t){const e={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(kr(28));if(o in e)throw new Error(kr(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return t(i),[e,n,r]}function aG(t){return typeof t=="function"}function sG(t,e){let[n,r,i]=bR(e),a;if(aG(t))a=()=>kT(t());else{const o=kT(t);a=()=>o}function s(o=a(),u){let f=[n[u.type],...r.filter(({matcher:h})=>h(u)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[i]),f.reduce((h,p)=>{if(p)if(Aa(h)){const x=p(h,u);return x===void 0?h:x}else{if(mi(h))return pR(h,y=>p(y,u));{const y=p(h,u);if(y===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return y}}return h},o)}return s.getInitialState=a,s}var lG="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",oG=(t=21)=>{let e="",n=t;for(;n--;)e+=lG[Math.random()*64|0];return e},cG=Symbol.for("rtk-slice-createasyncthunk");function uG(t,e){return`${t}/${e}`}function fG({creators:t}={}){const e=t?.asyncThunk?.[cG];return function(r){const{name:i,reducerPath:a=i}=r;if(!i)throw new Error(kr(11));const s=(typeof r.reducers=="function"?r.reducers(hG()):r.reducers)||{},o=Object.keys(s),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(C,_){const P=typeof C=="string"?C:C.type;if(!P)throw new Error(kr(12));if(P in u.sliceCaseReducersByType)throw new Error(kr(13));return u.sliceCaseReducersByType[P]=_,f},addMatcher(C,_){return u.sliceMatchers.push({matcher:C,reducer:_}),f},exposeAction(C,_){return u.actionCreators[C]=_,f},exposeCaseReducer(C,_){return u.sliceCaseReducersByName[C]=_,f}};o.forEach(C=>{const _=s[C],P={reducerName:C,type:uG(i,C),createNotation:typeof r.reducers=="function"};pG(_)?yG(P,_,f,e):mG(P,_,f)});function h(){const[C={},_=[],P=void 0]=typeof r.extraReducers=="function"?bR(r.extraReducers):[r.extraReducers],D={...C,...u.sliceCaseReducersByType};return sG(r.initialState,T=>{for(let L in D)T.addCase(L,D[L]);for(let L of u.sliceMatchers)T.addMatcher(L.matcher,L.reducer);for(let L of _)T.addMatcher(L.matcher,L.reducer);P&&T.addDefaultCase(P)})}const p=C=>C,y=new Map,x=new WeakMap;let b;function j(C,_){return b||(b=h()),b(C,_)}function S(){return b||(b=h()),b.getInitialState()}function N(C,_=!1){function P(T){let L=T[C];return typeof L>"u"&&_&&(L=cm(x,P,S)),L}function D(T=p){const L=cm(y,_,()=>new WeakMap);return cm(L,T,()=>{const I={};for(const[q,U]of Object.entries(r.selectors??{}))I[q]=dG(U,T,()=>cm(x,T,S),_);return I})}return{reducerPath:C,getSelectors:D,get selectors(){return D(P)},selectSlice:P}}const O={name:i,reducer:j,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:S,...N(a),injectInto(C,{reducerPath:_,...P}={}){const D=_??a;return C.inject({reducerPath:D,reducer:j},P),{...O,...N(D,!0)}}};return O}}function dG(t,e,n,r){function i(a,...s){let o=e(a);return typeof o>"u"&&r&&(o=n()),t(o,...s)}return i.unwrapped=t,i}var sr=fG();function hG(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function mG({type:t,reducerName:e,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!gG(r))throw new Error(kr(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Xr(t,s):Xr(t))}function pG(t){return t._reducerDefinitionType==="asyncThunk"}function gG(t){return t._reducerDefinitionType==="reducerWithPrepare"}function yG({type:t,reducerName:e},n,r,i){if(!i)throw new Error(kr(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:u,settled:f,options:h}=n,p=i(t,a,h);r.exposeAction(e,p),s&&r.addCase(p.fulfilled,s),o&&r.addCase(p.pending,o),u&&r.addCase(p.rejected,u),f&&r.addMatcher(p.settled,f),r.exposeCaseReducer(e,{fulfilled:s||um,pending:o||um,rejected:u||um,settled:f||um})}function um(){}var xG="task",wR="listener",SR="completed",_j="cancelled",vG=`task-${_j}`,bG=`task-${SR}`,xw=`${wR}-${_j}`,wG=`${wR}-${SR}`,f0=class{constructor(t){this.code=t,this.message=`${xG} ${_j} (reason: ${t})`}name="TaskAbortError";message},Dj=(t,e)=>{if(typeof t!="function")throw new TypeError(kr(32))},Ep=()=>{},jR=(t,e=Ep)=>(t.catch(e),t),NR=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),Dl=t=>{if(t.aborted)throw new f0(t.reason)};function CR(t,e){let n=Ep;return new Promise((r,i)=>{const a=()=>i(new f0(t.reason));if(t.aborted){a();return}n=NR(t,a),e.finally(()=>n()).then(r,i)}).finally(()=>{n=Ep})}var SG=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof f0?"cancelled":"rejected",error:n}}finally{e?.()}},Tp=t=>e=>jR(CR(t,e).then(n=>(Dl(t),n))),kR=t=>{const e=Tp(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:sc}=Object,AT={},d0="listenerMiddleware",jG=(t,e)=>{const n=r=>NR(t,()=>r.abort(t.reason));return(r,i)=>{Dj(r);const a=new AbortController;n(a);const s=SG(async()=>{Dl(t),Dl(a.signal);const o=await r({pause:Tp(a.signal),delay:kR(a.signal),signal:a.signal});return Dl(a.signal),o},()=>a.abort(bG));return i?.autoJoin&&e.push(s.catch(Ep)),{result:Tp(t)(s),cancel(){a.abort(vG)}}}},NG=(t,e)=>{const n=async(r,i)=>{Dl(e);let a=()=>{};const o=[new Promise((u,f)=>{let h=t({predicate:r,effect:(p,y)=>{y.unsubscribe(),u([p,y.getState(),y.getOriginalState()])}});a=()=>{h(),f()}})];i!=null&&o.push(new Promise(u=>setTimeout(u,i,null)));try{const u=await CR(e,Promise.race(o));return Dl(e),u}finally{a()}};return(r,i)=>jR(n(r,i))},OR=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:a}=t;if(e)i=Xr(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(kr(21));return Dj(a),{predicate:i,type:e,effect:a}},AR=sc(t=>{const{type:e,predicate:n,effect:r}=OR(t);return{id:oG(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(kr(22))}}},{withTypes:()=>AR}),ET=(t,e)=>{const{type:n,effect:r,predicate:i}=OR(e);return Array.from(t.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},vw=t=>{t.pending.forEach(e=>{e.abort(xw)})},CG=(t,e)=>()=>{for(const n of e.keys())vw(n);t.clear()},TT=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},ER=sc(Xr(`${d0}/add`),{withTypes:()=>ER}),kG=Xr(`${d0}/removeAll`),TR=sc(Xr(`${d0}/remove`),{withTypes:()=>TR}),OG=(...t)=>{console.error(`${d0}/error`,...t)},xd=(t={})=>{const e=new Map,n=new Map,r=x=>{const b=n.get(x)??0;n.set(x,b+1)},i=x=>{const b=n.get(x)??1;b===1?n.delete(x):n.set(x,b-1)},{extra:a,onError:s=OG}=t;Dj(s);const o=x=>(x.unsubscribe=()=>e.delete(x.id),e.set(x.id,x),b=>{x.unsubscribe(),b?.cancelActive&&vw(x)}),u=x=>{const b=ET(e,x)??AR(x);return o(b)};sc(u,{withTypes:()=>u});const f=x=>{const b=ET(e,x);return b&&(b.unsubscribe(),x.cancelActive&&vw(b)),!!b};sc(f,{withTypes:()=>f});const h=async(x,b,j,S)=>{const N=new AbortController,O=NG(u,N.signal),C=[];try{x.pending.add(N),r(x),await Promise.resolve(x.effect(b,sc({},j,{getOriginalState:S,condition:(_,P)=>O(_,P).then(Boolean),take:O,delay:kR(N.signal),pause:Tp(N.signal),extra:a,signal:N.signal,fork:jG(N.signal,C),unsubscribe:x.unsubscribe,subscribe:()=>{e.set(x.id,x)},cancelActiveListeners:()=>{x.pending.forEach((_,P,D)=>{_!==N&&(_.abort(xw),D.delete(_))})},cancel:()=>{N.abort(xw),x.pending.delete(N)},throwIfCancelled:()=>{Dl(N.signal)}})))}catch(_){_ instanceof f0||TT(s,_,{raisedBy:"effect"})}finally{await Promise.all(C),N.abort(wG),i(x),x.pending.delete(N)}},p=CG(e,n);return{middleware:x=>b=>j=>{if(!aR(j))return b(j);if(ER.match(j))return u(j.payload);if(kG.match(j)){p();return}if(TR.match(j))return f(j.payload);let S=x.getState();const N=()=>{if(S===AT)throw new Error(kr(23));return S};let O;try{if(O=b(j),e.size>0){const C=x.getState(),_=Array.from(e.values());for(const P of _){let D=!1;try{D=P.predicate(j,C,S)}catch(T){D=!1,TT(s,T,{raisedBy:"predicate"})}D&&h(P,j,x,N)}}}finally{S=AT}return O},startListening:u,stopListening:f,clearListeners:p}};function kr(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var AG={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},MR=sr({name:"chartLayout",initialState:AG,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var n,r,i,a;t.margin.top=(n=e.payload.top)!==null&&n!==void 0?n:0,t.margin.right=(r=e.payload.right)!==null&&r!==void 0?r:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:EG,setLayout:TG,setChartSize:MG,setScale:_G}=MR.actions,DG=MR.reducer;function _R(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function Ze(t){return Number.isFinite(t)}function Gi(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function MT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(n),!0).forEach(function(r){PG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PG(t,e,n){return(e=RG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RG(t){var e=LG(t,"string");return typeof e=="symbol"?e:e+""}function LG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jn(t,e,n){return Cn(t)||Cn(e)?n:Wi(e)?n0(t,e,n):typeof e=="function"?e(t):n}var BG=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Oe(t[a]))return Jo(Jo({},t),{},{[a]:t[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Oe(t[s]))return Jo(Jo({},t),{},{[s]:t[s]+(i||0)})}return t},za=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",DR=(t,e,n,r)=>{if(r)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(n),s},PR=(t,e,n)=>{if(!t)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:u,categoricalDomain:f,tickCount:h,ticks:p,niceTicks:y,axisType:x}=t;if(!s)return null;var b=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,j=i==="category"&&s.bandwidth?s.bandwidth()/b:0;if(j=x==="angleAxis"&&a&&a.length>=2?Fr(a[0]-a[1])*2*j:j,p||y){var S=(p||y||[]).map((N,O)=>{var C=r?r.indexOf(N):N,_=s.map(C);return Ze(_)?{coordinate:_+j,value:N,offset:j,index:O}:null}).filter(er);return S}return u&&f?f.map((N,O)=>{var C=s.map(N);return Ze(C)?{coordinate:C+j,value:N,index:O,offset:j}:null}).filter(er):s.ticks&&h!=null?s.ticks(h).map((N,O)=>{var C=s.map(N);return Ze(C)?{coordinate:C+j,value:N,index:O,offset:j}:null}).filter(er):s.domain().map((N,O)=>{var C=s.map(N);return Ze(C)?{coordinate:C+j,value:r?r[N]:N,index:O,offset:j}:null}).filter(er)},zG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var u=t[o],f=u?.[i];if(f!=null){var h=f[1],p=f[0],y=Oa(h)?p:h;y>=0?(f[0]=a,a+=y,f[1]=a):(f[0]=s,s+=y,f[1]=s)}}}},IG=t=>{var e,n=t.length;if(!(n<=0)){var r=(e=t[0])===null||e===void 0?void 0:e.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=t[s],u=o?.[i];if(u!=null){var f=Oa(u[1])?u[0]:u[1];f>=0?(u[0]=a,a+=f,u[1]=a):(u[0]=0,u[1]=0)}}}},UG={sign:zG,expand:lF,none:Ul,silhouette:oF,wiggle:cF,positive:IG},$G=(t,e,n)=>{var r,i=(r=UG[n])!==null&&r!==void 0?r:Ul,a=sF().keys(e).value((o,u)=>Number(jn(o,u,0))).order(ow).offset(i),s=a(t);return s.forEach((o,u)=>{o.forEach((f,h)=>{var p=jn(t[h],e[u],0);Array.isArray(p)&&p.length===2&&Oe(p[0])&&Oe(p[1])&&(f[0]=p[0],f[1]=p[1])})}),s};function _T(t){var{axis:e,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Cn(i[e.dataKey])){var o=IP(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n!=null&&n[a]?n[a].coordinate+r/2:null}var u=jn(i,Cn(s)?e.dataKey:s),f=e.scale.map(u);return Oe(f)?f:null}var qG=t=>{var e=t.flat(2).filter(Oe);return[Math.min(...e),Math.max(...e)]},HG=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],VG=(t,e,n)=>{if(t!=null)return HG(Object.keys(t).reduce((r,i)=>{var a=t[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((u,f)=>{var h=_R(f,e,n),p=qG(h);return!Ze(p[0])||!Ze(p[1])?u:[Math.min(u[0],p[0]),Math.max(u[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},DT=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PT=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Mp=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();if(!n||r>0)return r}if(t&&e&&e.length>=2){for(var i=r0(e,h=>h.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var u=i[s],f=i[s-1];a=Math.min((u?.coordinate||0)-(f?.coordinate||0),a)}return a===1/0?0:a}return n?void 0:0};function RT(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:a}=t;return Jo(Jo({},e),{},{dataKey:n,payload:r,value:i,name:a})}function RR(t,e){if(t)return String(t);if(typeof e=="string")return e}var FG=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},WG=(t,e)=>e==="centric"?t.angle:t.radius,Ia=t=>t.layout.width,Ua=t=>t.layout.height,GG=t=>t.layout.scale,LR=t=>t.layout.margin,h0=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),m0=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),KG="data-recharts-item-index",YG="data-recharts-item-id",vd=60;function LT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LT(Object(n),!0).forEach(function(r){QG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QG(t,e,n){return(e=XG(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XG(t){var e=ZG(t,"string");return typeof e=="symbol"?e:e+""}function ZG(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JG=t=>t.brush.height;function eK(t){var e=m0(t);return e.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:vd;return n+i}return n},0)}function tK(t){var e=m0(t);return e.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:vd;return n+i}return n},0)}function nK(t){var e=h0(t);return e.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function rK(t){var e=h0(t);return e.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var kn=le([Ia,Ua,LR,JG,eK,tK,nK,rK,tR,TW],(t,e,n,r,i,a,s,o,u,f)=>{var h={left:(n.left||0)+i,right:(n.right||0)+a},p={top:(n.top||0)+s,bottom:(n.bottom||0)+o},y=fm(fm({},p),h),x=y.bottom;y.bottom+=r,y=BG(y,u,f);var b=t-y.left-y.right,j=e-y.top-y.bottom;return fm(fm({brushBottom:x},y),{},{width:Math.max(b,0),height:Math.max(j,0)})}),iK=le(kn,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),BR=le(Ia,Ua,(t,e)=>({x:0,y:0,width:t,height:e})),aK=k.createContext(null),lr=()=>k.useContext(aK)!=null,p0=t=>t.brush,g0=le([p0,kn,LR],(t,e,n)=>({height:t.height,x:Oe(t.x)?t.x:e.left,y:Oe(t.y)?t.y:e.top+e.height+e.brushBottom-(n?.bottom||0),width:Oe(t.width)?t.width:e.width})),Ab={},Eb={},Tb={},BT;function sK(){return BT||(BT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r,{signal:i,edges:a}={}){let s,o=null;const u=a!=null&&a.includes("leading"),f=a==null||a.includes("trailing"),h=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},p=()=>{f&&h(),j()};let y=null;const x=()=>{y!=null&&clearTimeout(y),y=setTimeout(()=>{y=null,p()},r)},b=()=>{y!==null&&(clearTimeout(y),y=null)},j=()=>{b(),s=void 0,o=null},S=()=>{h()},N=function(...O){if(i?.aborted)return;s=this,o=O;const C=y==null;x(),u&&C&&h()};return N.schedule=x,N.cancel=j,N.flush=S,i?.addEventListener("abort",j,{once:!0}),N}t.debounce=e})(Tb)),Tb}var zT;function lK(){return zT||(zT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sK();function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:u}=a,f=Array(2);s&&(f[0]="leading"),o&&(f[1]="trailing");let h,p=null;const y=e.debounce(function(...j){h=r.apply(this,j),p=null},i,{edges:f}),x=function(...j){return u!=null&&(p===null&&(p=Date.now()),Date.now()-p>=u)?(h=r.apply(this,j),p=Date.now(),y.cancel(),y.schedule(),h):(y.apply(this,j),h)},b=()=>(y.flush(),h);return x.cancel=y.cancel,x.flush=b,x}t.debounce=n})(Eb)),Eb}var IT;function oK(){return IT||(IT=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lK();function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(r,i,{leading:s,maxWait:i,trailing:o})}t.throttle=n})(Ab)),Ab}var Mb,UT;function cK(){return UT||(UT=1,Mb=oK().throttle),Mb}var uK=cK();const fK=gi(uK);var _p=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},Ri={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},zR=(t,e,n)=>{var{width:r=Ri.width,height:i=Ri.height,aspect:a,maxHeight:s}=n,o=$l(r)?t:Number(r),u=$l(i)?e:Number(i);return a&&a>0&&(o?u=o/a:u&&(o=u*a),s&&u!=null&&u>s&&(u=s)),{calculatedWidth:o,calculatedHeight:u}},dK={width:0,height:0,overflow:"visible"},hK={width:0,overflowX:"visible"},mK={height:0,overflowY:"visible"},pK={},gK=t=>{var{width:e,height:n}=t,r=$l(e),i=$l(n);return r&&i?dK:r?hK:i?mK:pK};function yK(t){var{width:e,height:n,aspect:r}=t,i=e,a=n;return i===void 0&&a===void 0?(i=Ri.width,a=Ri.height):i===void 0?i=r&&r>0?void 0:Ri.width:a===void 0&&(a=r&&r>0?void 0:Ri.height),{width:i,height:a}}function bw(){return bw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bw.apply(null,arguments)}function $T(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$T(Object(n),!0).forEach(function(r){xK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$T(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xK(t,e,n){return(e=vK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vK(t){var e=bK(t,"string");return typeof e=="symbol"?e:e+""}function bK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IR=k.createContext(Ri.initialDimension);function wK(t){return Gi(t.width)&&Gi(t.height)}function UR(t){var{children:e,width:n,height:r}=t,i=k.useMemo(()=>({width:n,height:r}),[n,r]);return wK(i)?k.createElement(IR.Provider,{value:i},e):null}var Pj=()=>k.useContext(IR),SK=k.forwardRef((t,e)=>{var{aspect:n,initialDimension:r=Ri.initialDimension,width:i,height:a,minWidth:s=Ri.minWidth,minHeight:o,maxHeight:u,children:f,debounce:h=Ri.debounce,id:p,className:y,onResize:x,style:b={}}=t,j=k.useRef(null),S=k.useRef();S.current=x,k.useImperativeHandle(e,()=>j.current);var[N,O]=k.useState({containerWidth:r.width,containerHeight:r.height}),C=k.useCallback((L,I)=>{O(q=>{var U=Math.round(L),z=Math.round(I);return q.containerWidth===U&&q.containerHeight===z?q:{containerWidth:U,containerHeight:z}})},[]);k.useEffect(()=>{if(j.current==null||typeof ResizeObserver>"u")return zc;var L=z=>{var H,X=z[0];if(X!=null){var{width:W,height:V}=X.contentRect;C(W,V),(H=S.current)===null||H===void 0||H.call(S,W,V)}};h>0&&(L=fK(L,h,{trailing:!0,leading:!1}));var I=new ResizeObserver(L),{width:q,height:U}=j.current.getBoundingClientRect();return C(q,U),I.observe(j.current),()=>{I.disconnect()}},[C,h]);var{containerWidth:_,containerHeight:P}=N;_p(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:D,calculatedHeight:T}=zR(_,P,{width:i,height:a,aspect:n,maxHeight:u});return _p(D!=null&&D>0||T!=null&&T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,D,T,i,a,s,o,n),k.createElement("div",{id:p?"".concat(p):void 0,className:ot("recharts-responsive-container",y),style:qT(qT({},b),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:u}),ref:j},k.createElement("div",{style:gK({width:i,height:a})},k.createElement(UR,{width:D,height:T},f)))}),xc=k.forwardRef((t,e)=>{var n=Pj();if(Gi(n.width)&&Gi(n.height))return t.children;var{width:r,height:i}=yK({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=zR(void 0,void 0,{width:r,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Oe(a)&&Oe(s)?k.createElement(UR,{width:a,height:s},t.children):k.createElement(SK,bw({},t,{width:r,height:i,ref:e}))});function Rj(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var y0=()=>{var t,e=lr(),n=_e(iK),r=_e(g0),i=(t=_e(p0))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},jK={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$R=()=>{var t;return(t=_e(kn))!==null&&t!==void 0?t:jK},Lj=()=>_e(Ia),Bj=()=>_e(Ua),NK=()=>_e(t=>t.layout.margin),Ct=t=>t.layout.layoutType,Ic=()=>_e(Ct),qR=()=>{var t=Ic();if(t==="horizontal"||t==="vertical")return t},HR=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},CK=()=>{var t=Ic();return t!==void 0},bd=t=>{var e=Vt(),n=lr(),{width:r,height:i}=t,a=Pj(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),k.useEffect(()=>{!n&&Gi(s)&&Gi(o)&&e(MG({width:s,height:o}))},[e,n,s,o]),null},VR=Symbol.for("immer-nothing"),HT=Symbol.for("immer-draftable"),Or=Symbol.for("immer-state");function si(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Lf=Object.getPrototypeOf;function vc(t){return!!t&&!!t[Or]}function Hl(t){return t?FR(t)||Array.isArray(t)||!!t[HT]||!!t.constructor?.[HT]||wd(t)||v0(t):!1}var kK=Object.prototype.constructor.toString(),VT=new WeakMap;function FR(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=VT.get(n);return r===void 0&&(r=Function.toString.call(n),VT.set(n,r)),r===kK}function Dp(t,e,n=!0){x0(t)===0?(n?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function x0(t){const e=t[Or];return e?e.type_:Array.isArray(t)?1:wd(t)?2:v0(t)?3:0}function ww(t,e){return x0(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function WR(t,e,n){const r=x0(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function OK(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wd(t){return t instanceof Map}function v0(t){return t instanceof Set}function vl(t){return t.copy_||t.base_}function Sw(t,e){if(wd(t))return new Map(t);if(v0(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=FR(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Or];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Lf(t),r)}else{const r=Lf(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function zj(t,e=!1){return b0(t)||vc(t)||!Hl(t)||(x0(t)>1&&Object.defineProperties(t,{set:dm,add:dm,clear:dm,delete:dm}),Object.freeze(t),e&&Object.values(t).forEach(n=>zj(n,!0))),t}function AK(){si(2)}var dm={value:AK};function b0(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var EK={};function Vl(t){const e=EK[t];return e||si(0,t),e}var Bf;function GR(){return Bf}function TK(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function FT(t,e){e&&(Vl("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function jw(t){Nw(t),t.drafts_.forEach(MK),t.drafts_=null}function Nw(t){t===Bf&&(Bf=t.parent_)}function WT(t){return Bf=TK(Bf,t)}function MK(t){const e=t[Or];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function GT(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Or].modified_&&(jw(e),si(4)),Hl(t)&&(t=Pp(e,t),e.parent_||Rp(e,t)),e.patches_&&Vl("Patches").generateReplacementPatches_(n[Or].base_,t,e.patches_,e.inversePatches_)):t=Pp(e,n,[]),jw(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==VR?t:void 0}function Pp(t,e,n){if(b0(e))return e;const r=t.immer_.shouldUseStrictIteration(),i=e[Or];if(!i)return Dp(e,(a,s)=>KT(t,i,e,a,s,n),r),e;if(i.scope_!==t)return e;if(!i.modified_)return Rp(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),Dp(s,(u,f)=>KT(t,i,a,u,f,n,o),r),Rp(t,a,!1),n&&t.patches_&&Vl("Patches").generatePatches_(i,n,t.patches_,t.inversePatches_)}return i.copy_}function KT(t,e,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=b0(i);if(!(o&&!s)){if(vc(i)){const u=a&&e&&e.type_!==3&&!ww(e.assigned_,r)?a.concat(r):void 0,f=Pp(t,i,u);if(WR(n,r,f),vc(f))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Hl(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[r]===i&&o)return;Pp(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&(wd(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&Rp(t,i)}}}function Rp(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&zj(e,n)}function _K(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:GR(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=Ij;n&&(i=[r],a=zf);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var Ij={get(t,e){if(e===Or)return t;const n=vl(t);if(!ww(n,e))return DK(t,n,e);const r=n[e];return t.finalized_||!Hl(r)?r:r===_b(t.base_,e)?(Db(t),t.copy_[e]=kw(r,t)):r},has(t,e){return e in vl(t)},ownKeys(t){return Reflect.ownKeys(vl(t))},set(t,e,n){const r=KR(vl(t),e);if(r?.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=_b(vl(t),e),a=i?.[Or];if(a&&a.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(OK(n,i)&&(n!==void 0||ww(t.base_,e)))return!0;Db(t),Cw(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return _b(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Db(t),Cw(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=vl(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){si(11)},getPrototypeOf(t){return Lf(t.base_)},setPrototypeOf(){si(12)}},zf={};Dp(Ij,(t,e)=>{zf[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});zf.deleteProperty=function(t,e){return zf.set.call(this,t,e,void 0)};zf.set=function(t,e,n){return Ij.set.call(this,t[0],e,n,t[0])};function _b(t,e){const n=t[Or];return(n?vl(n):t)[e]}function DK(t,e,n){const r=KR(e,n);return r?"value"in r?r.value:r.get?.call(t.draft_):void 0}function KR(t,e){if(!(e in t))return;let n=Lf(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Lf(n)}}function Cw(t){t.modified_||(t.modified_=!0,t.parent_&&Cw(t.parent_))}function Db(t){t.copy_||(t.copy_=Sw(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var PK=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const a=n;n=e;const s=this;return function(u=a,...f){return s.produce(u,h=>n.call(this,h,...f))}}typeof n!="function"&&si(6),r!==void 0&&typeof r!="function"&&si(7);let i;if(Hl(e)){const a=WT(this),s=kw(e,void 0);let o=!0;try{i=n(s),o=!1}finally{o?jw(a):Nw(a)}return FT(a,r),GT(i,a)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===VR&&(i=void 0),this.autoFreeze_&&zj(i,!0),r){const a=[],s=[];Vl("Patches").generateReplacementPatches_(e,i,a,s),r(a,s)}return i}else si(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,u=>e(u,...o));let r,i;return[this.produce(e,n,(s,o)=>{r=s,i=o}),r,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Hl(t)||si(8),vc(t)&&(t=RK(t));const e=WT(this),n=kw(t,void 0);return n[Or].isManual_=!0,Nw(e),n}finishDraft(t,e){const n=t&&t[Or];(!n||!n.isManual_)&&si(9);const{scope_:r}=n;return FT(r,e),GT(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Vl("Patches").applyPatches_;return vc(t)?r(t,e):this.produce(t,i=>r(i,e))}};function kw(t,e){const n=wd(t)?Vl("MapSet").proxyMap_(t,e):v0(t)?Vl("MapSet").proxySet_(t,e):_K(t,e);return(e?e.scope_:GR()).drafts_.push(n),n}function RK(t){return vc(t)||si(10,t),YR(t)}function YR(t){if(!Hl(t)||b0(t))return t;const e=t[Or];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Sw(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=Sw(t,!0);return Dp(n,(i,a)=>{WR(n,i,YR(a))},r),e&&(e.finalized_=!1),n}var LK=new PK;LK.produce;var BK={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},QR=sr({name:"legend",initialState:BK,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:vt()},replaceLegendPayload:{reducer(t,e){var{prev:n,next:r}=e.payload,i=di(t).payload.indexOf(n);i>-1&&(t.payload[i]=r)},prepare:vt()},removeLegendPayload:{reducer(t,e){var n=di(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)},prepare:vt()}}}),{setLegendSize:YT,setLegendSettings:zK,addLegendPayload:IK,replaceLegendPayload:UK,removeLegendPayload:$K}=QR.actions,qK=QR.reducer,HK=["contextPayload"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ow.apply(null,arguments)}function QT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QT(Object(n),!0).forEach(function(r){VK(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VK(t,e,n){return(e=FK(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FK(t){var e=WK(t,"string");return typeof e=="symbol"?e:e+""}function WK(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GK(t,e){if(t==null)return{};var n,r,i=KK(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function KK(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function YK(t){return t.value}function QK(t){var{contextPayload:e}=t,n=GK(t,HK),r=XP(e,t.payloadUniqBy,YK),i=bc(bc({},n),{},{payload:r});return k.isValidElement(t.content)?k.cloneElement(t.content,i):typeof t.content=="function"?k.createElement(t.content,i):k.createElement(zF,i)}function XK(t,e,n,r,i,a){var{layout:s,align:o,verticalAlign:u}=e,f,h;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?f={left:((r||0)-a.width)/2}:f=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(u==="middle"?h={top:((i||0)-a.height)/2}:h=u==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),bc(bc({},f),h)}function ZK(t){var e=Vt();return k.useEffect(()=>{e(zK(t))},[e,t]),null}function JK(t){var e=Vt();return k.useEffect(()=>(e(YT(t)),()=>{e(YT({width:0,height:0}))}),[e,t]),null}function eY(t,e,n,r){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:n||r}:null}var tY={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function Sd(t){var e=_n(t,tY),n=DW(),r=TV(),i=NK(),{width:a,height:s,wrapperStyle:o,portal:u}=e,[f,h]=nR([n]),p=Lj(),y=Bj();if(p==null||y==null)return null;var x=p-(i?.left||0)-(i?.right||0),b=eY(e.layout,s,a,x),j=u?o:bc(bc({position:"absolute",width:b?.width||a||"auto",height:b?.height||s||"auto"},XK(o,e,i,p,y,f)),o),S=u??r;if(S==null||n==null)return null;var N=k.createElement("div",{className:"recharts-legend-wrapper",style:j,ref:h},k.createElement(ZK,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!u&&k.createElement(JK,{width:f.width,height:f.height}),k.createElement(QK,Ow({},e,b,{margin:i,chartWidth:p,chartHeight:y,contextPayload:n})));return dj.createPortal(N,S)}Sd.displayName="Legend";function Aw(){return Aw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aw.apply(null,arguments)}function XT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(n),!0).forEach(function(r){nY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nY(t,e,n){return(e=rY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rY(t){var e=iY(t,"string");return typeof e=="symbol"?e:e+""}function iY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aY(t){return Array.isArray(t)&&Wi(t[0])&&Wi(t[1])?t.join(" ~ "):t}var Vo={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},sY=t=>{var{separator:e=Vo.separator,contentStyle:n,itemStyle:r,labelStyle:i=Vo.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:u,labelClassName:f,label:h,labelFormatter:p,accessibilityLayer:y=Vo.accessibilityLayer}=t,x=()=>{if(a&&a.length){var P={padding:0,margin:0},D=(o?r0(a,o):a).map((T,L)=>{if(T.type==="none")return null;var I=T.formatter||s||aY,{value:q,name:U}=T,z=q,H=U;if(I){var X=I(q,U,T,L,a);if(Array.isArray(X))[z,H]=X;else if(X!=null)z=X;else return null}var W=Qu(Qu({},Vo.itemStyle),{},{color:T.color||Vo.itemStyle.color},r);return k.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(L),style:W},Wi(H)?k.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Wi(H)?k.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,k.createElement("span",{className:"recharts-tooltip-item-value"},z),k.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return k.createElement("ul",{className:"recharts-tooltip-item-list",style:P},D)}return null},b=Qu(Qu({},Vo.contentStyle),n),j=Qu({margin:0},i),S=!Cn(h),N=S?h:"",O=ot("recharts-default-tooltip",u),C=ot("recharts-tooltip-label",f);S&&p&&a!==void 0&&a!==null&&(N=p(h,a));var _=y?{role:"status","aria-live":"assertive"}:{};return k.createElement("div",Aw({className:O,style:b},_),k.createElement("p",{className:C,style:j},k.isValidElement(N)?N:"".concat(N)),x())},Xu="recharts-tooltip-wrapper",lY={visibility:"hidden"};function oY(t){var{coordinate:e,translateX:n,translateY:r}=t;return ot(Xu,{["".concat(Xu,"-right")]:Oe(n)&&e&&Oe(e.x)&&n>=e.x,["".concat(Xu,"-left")]:Oe(n)&&e&&Oe(e.x)&&n<e.x,["".concat(Xu,"-bottom")]:Oe(r)&&e&&Oe(e.y)&&r>=e.y,["".concat(Xu,"-top")]:Oe(r)&&e&&Oe(e.y)&&r<e.y})}function ZT(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:u,viewBoxDimension:f}=t;if(a&&Oe(a[r]))return a[r];var h=n[r]-o-(i>0?i:0),p=n[r]+i;if(e[r])return s[r]?h:p;var y=u[r];if(y==null)return 0;if(s[r]){var x=h,b=y;return x<b?Math.max(p,y):Math.max(h,y)}if(f==null)return 0;var j=p+o,S=y+f;return j>S?Math.max(h,y):Math.max(p,y)}function cY(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function uY(t){var{allowEscapeViewBox:e,coordinate:n,offsetTop:r,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:u,viewBox:f}=t,h,p,y;return o.height>0&&o.width>0&&n?(p=ZT({allowEscapeViewBox:e,coordinate:n,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:f,viewBoxDimension:f.width}),y=ZT({allowEscapeViewBox:e,coordinate:n,key:"y",offset:r,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:f,viewBoxDimension:f.height}),h=cY({translateX:p,translateY:y,useTranslate3d:u})):h=lY,{cssProperties:h,cssClasses:oY({translateX:p,translateY:y,coordinate:n})}}function JT(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JT(Object(n),!0).forEach(function(r){Ew(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JT(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ew(t,e,n){return(e=fY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fY(t){var e=dY(t,"string");return typeof e=="symbol"?e:e+""}function dY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hY extends k.PureComponent{constructor(){super(...arguments),Ew(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Ew(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:u,offset:f,position:h,reverseDirection:p,useTranslate3d:y,viewBox:x,wrapperStyle:b,lastBoundingBox:j,innerRef:S,hasPortalFromProps:N}=this.props,O=typeof f=="number"?f:f.x,C=typeof f=="number"?f:f.y,{cssClasses:_,cssProperties:P}=uY({allowEscapeViewBox:n,coordinate:s,offsetLeft:O,offsetTop:C,position:h,reverseDirection:p,tooltipBox:{height:j.height,width:j.width},useTranslate3d:y,viewBox:x}),D=N?{}:hm(hm({transition:u&&e?"transform ".concat(r,"ms ").concat(i):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),T=hm(hm({},D),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},b);return k.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:S},a)}}var XR=()=>{var t;return(t=_e(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function Tw(){return Tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tw.apply(null,arguments)}function eM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eM(Object(n),!0).forEach(function(r){mY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mY(t,e,n){return(e=pY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pY(t){var e=gY(t,"string");return typeof e=="symbol"?e:e+""}function gY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nM={curveBasisClosed:YV,curveBasisOpen:QV,curveBasis:KV,curveBumpX:PV,curveBumpY:RV,curveLinearClosed:XV,curveLinear:e0,curveMonotoneX:ZV,curveMonotoneY:JV,curveNatural:eF,curveStep:tF,curveStepAfter:rF,curveStepBefore:nF},Lp=t=>Ze(t.x)&&Ze(t.y),rM=t=>t.base!=null&&Lp(t.base)&&Lp(t),Zu=t=>t.x,Ju=t=>t.y,yY=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(gd(t));if((n==="curveMonotone"||n==="curveBump")&&e){var r=nM["".concat(n).concat(e==="vertical"?"Y":"X")];if(r)return r}return nM[n]||e0},iM={connectNulls:!1,type:"linear"},xY=t=>{var{type:e=iM.type,points:n=[],baseLine:r,layout:i,connectNulls:a=iM.connectNulls}=t,s=yY(e,i),o=a?n.filter(Lp):n;if(Array.isArray(r)){var u,f=n.map((b,j)=>tM(tM({},b),{},{base:r[j]}));i==="vertical"?u=am().y(Ju).x1(Zu).x0(b=>b.base.x):u=am().x(Zu).y1(Ju).y0(b=>b.base.y);var h=u.defined(rM).curve(s),p=a?f.filter(rM):f;return h(p)}var y;i==="vertical"&&Oe(r)?y=am().y(Ju).x1(Zu).x0(r):Oe(r)?y=am().x(Zu).y1(Ju).y0(r):y=kP().x(Zu).y(Ju);var x=y.defined(Lp).curve(s);return x(o)},ZR=t=>{var{className:e,points:n,path:r,pathRef:i}=t,a=Ic();if((!n||!n.length)&&!r)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=n&&n.length?xY(s):r;return k.createElement("path",Tw({},Fi(t),Nj(t),{className:ot("recharts-curve",e),d:o===null?void 0:o,ref:i}))},vY=["x","y","top","left","width","height","className"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mw.apply(null,arguments)}function aM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?aM(Object(n),!0).forEach(function(r){wY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):aM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wY(t,e,n){return(e=SY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SY(t){var e=jY(t,"string");return typeof e=="symbol"?e:e+""}function jY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NY(t,e){if(t==null)return{};var n,r,i=CY(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function CY(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var kY=(t,e,n,r,i,a)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(a,",").concat(e,"h").concat(n),OY=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=t,u=NY(t,vY),f=bY({x:e,y:n,top:r,left:i,width:a,height:s},u);return!Oe(e)||!Oe(n)||!Oe(a)||!Oe(s)||!Oe(r)||!Oe(i)?null:k.createElement("path",Mw({},Un(f),{className:ot("recharts-cross",o),d:kY(e,n,a,s,r,i)}))};function AY(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function sM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sM(Object(n),!0).forEach(function(r){EY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function EY(t,e,n){return(e=TY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TY(t){var e=MY(t,"string");return typeof e=="symbol"?e:e+""}function MY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _Y=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),JR=(t,e,n)=>t.map(r=>"".concat(_Y(r)," ").concat(e,"ms ").concat(n)).join(","),DY=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),If=(t,e)=>Object.keys(e).reduce((n,r)=>lM(lM({},n),{},{[r]:t(r,e[r])}),{});function oM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oM(Object(n),!0).forEach(function(r){PY(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function PY(t,e,n){return(e=RY(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RY(t){var e=LY(t,"string");return typeof e=="symbol"?e:e+""}function LY(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bp=(t,e,n)=>t+(e-t)*n,_w=t=>{var{from:e,to:n}=t;return e!==n},eL=(t,e,n)=>{var r=If((i,a)=>{if(_w(a)){var[s,o]=t(a.from,a.to,a.velocity);return Gt(Gt({},a),{},{from:s,velocity:o})}return a},e);return n<1?If((i,a)=>_w(a)&&r[i]!=null?Gt(Gt({},a),{},{velocity:Bp(a.velocity,r[i].velocity,n),from:Bp(a.from,r[i].from,n)}):a,e):eL(t,r,n-1)};function BY(t,e,n,r,i,a){var s,o=r.reduce((y,x)=>Gt(Gt({},y),{},{[x]:{from:t[x],velocity:0,to:e[x]}}),{}),u=()=>If((y,x)=>x.from,o),f=()=>!Object.values(o).filter(_w).length,h=null,p=y=>{s||(s=y);var x=y-s,b=x/n.dt;o=eL(n,o,b),i(Gt(Gt(Gt({},t),e),u())),s=y,f()||(h=a.setTimeout(p))};return()=>(h=a.setTimeout(p),()=>{var y;(y=h)===null||y===void 0||y()})}function zY(t,e,n,r,i,a,s){var o=null,u=i.reduce((p,y)=>{var x=t[y],b=e[y];return x==null||b==null?p:Gt(Gt({},p),{},{[y]:[x,b]})},{}),f,h=p=>{f||(f=p);var y=(p-f)/r,x=If((j,S)=>Bp(...S,n(y)),u);if(a(Gt(Gt(Gt({},t),e),x)),y<1)o=s.setTimeout(h);else{var b=If((j,S)=>Bp(...S,n(1)),u);a(Gt(Gt(Gt({},t),e),b))}};return()=>(o=s.setTimeout(h),()=>{var p;(p=o)===null||p===void 0||p()})}const IY=(t,e,n,r,i,a)=>{var s=DY(t,e);return n==null?()=>(i(Gt(Gt({},t),e)),()=>{}):n.isStepper===!0?BY(t,e,n,s,i,a):zY(t,e,n,r,s,i,a)};var zp=1e-4,tL=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],nL=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),cM=(t,e)=>n=>{var r=tL(t,e);return nL(r,n)},UY=(t,e)=>n=>{var r=tL(t,e),i=[...r.map((a,s)=>a*s).slice(1),0];return nL(i,n)},$Y=t=>{var e,n=t.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(e=n[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},qY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=$Y(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},HY=(t,e,n,r)=>{var i=cM(t,n),a=cM(e,r),s=UY(t,n),o=f=>f>1?1:f<0?0:f,u=f=>{for(var h=f>1?1:f,p=h,y=0;y<8;++y){var x=i(p)-h,b=s(p);if(Math.abs(x-h)<zp||b<zp)return a(p);p=o(p-x/b)}return a(p)};return u.isStepper=!1,u},uM=function(){return HY(...qY(...arguments))},VY=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,a=(s,o,u)=>{var f=-(s-o)*n,h=u*r,p=u+(f-h)*i/1e3,y=u*i/1e3+s;return Math.abs(y-o)<zp&&Math.abs(p)<zp?[o,0]:[y,p]};return a.isStepper=!0,a.dt=i,a},FY=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return uM(t);case"spring":return VY();default:if(t.split("(")[0]==="cubic-bezier")return uM(t)}return typeof t=="function"?t:null};function WY(t){var e,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[u,...f]=o;if(typeof u=="number"){i=t.setTimeout(a.bind(null,f),u);return}a(u),i=t.setTimeout(a.bind(null,f));return}typeof s=="string"&&(e=s,n(e)),typeof s=="object"&&(e=s,n(e)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>t}}class GY{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function KY(){return WY(new GY)}var YY=k.createContext(KY);function QY(t,e){var n=k.useContext(YY);return k.useMemo(()=>e??n(t),[t,e,n])}var XY=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),w0={isSsr:XY()},ZY={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},fM={t:0},Pb={t:1};function Uj(t){var e=_n(t,ZY),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:u,children:f}=e,h=n==="auto"?!w0.isSsr:n,p=QY(e.animationId,e.animationManager),[y,x]=k.useState(h?fM:Pb),b=k.useRef(null);return k.useEffect(()=>{h||x(Pb)},[h]),k.useEffect(()=>{if(!h||!r)return zc;var j=IY(fM,Pb,FY(a),i,x,p.getTimeoutController()),S=()=>{b.current=j()};return p.start([u,s,S,i,o]),()=>{p.stop(),b.current&&b.current(),o()}},[h,r,i,a,s,u,o,p]),f(y.t)}function $j(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=k.useRef(_f(e)),r=k.useRef(t);return r.current!==t&&(n.current=_f(e),r.current=t),n.current}var JY=["radius"],eQ=["radius"],dM,hM,mM,pM,gM,yM,xM,vM,bM,wM;function SM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SM(Object(n),!0).forEach(function(r){tQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tQ(t,e,n){return(e=nQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nQ(t){var e=rQ(t,"string");return typeof e=="symbol"?e:e+""}function rQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ip(){return Ip=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ip.apply(null,arguments)}function NM(t,e){if(t==null)return{};var n,r,i=iQ(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iQ(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Ni(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var CM=(t,e,n,r,i)=>{var a=Cs(n),s=Cs(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),u=s>=0?1:-1,f=a>=0?1:-1,h=s>=0&&a>=0||s<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var y=[0,0,0,0],x=0,b=4;x<b;x++){var j,S=(j=i[x])!==null&&j!==void 0?j:0;y[x]=S>o?o:S}p=Tt(dM||(dM=Ni(["M",",",""])),t,e+u*y[0]),y[0]>0&&(p+=Tt(hM||(hM=Ni(["A ",",",",0,0,",",",",",""])),y[0],y[0],h,t+f*y[0],e)),p+=Tt(mM||(mM=Ni(["L ",",",""])),t+n-f*y[1],e),y[1]>0&&(p+=Tt(pM||(pM=Ni(["A ",",",",0,0,",`,
        `,",",""])),y[1],y[1],h,t+n,e+u*y[1])),p+=Tt(gM||(gM=Ni(["L ",",",""])),t+n,e+r-u*y[2]),y[2]>0&&(p+=Tt(yM||(yM=Ni(["A ",",",",0,0,",`,
        `,",",""])),y[2],y[2],h,t+n-f*y[2],e+r)),p+=Tt(xM||(xM=Ni(["L ",",",""])),t+f*y[3],e+r),y[3]>0&&(p+=Tt(vM||(vM=Ni(["A ",",",",0,0,",`,
        `,",",""])),y[3],y[3],h,t,e+r-u*y[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var N=Math.min(o,i);p=Tt(bM||(bM=Ni(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+u*N,N,N,h,t+f*N,e,t+n-f*N,e,N,N,h,t+n,e+u*N,t+n,e+r-u*N,N,N,h,t+n-f*N,e+r,t+f*N,e+r,N,N,h,t,e+r-u*N)}else p=Tt(wM||(wM=Ni(["M ",","," h "," v "," h "," Z"])),t,e,n,r,-n);return p},kM={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},rL=t=>{var e=_n(t,kM),n=k.useRef(null),[r,i]=k.useState(-1);k.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var Y=n.current.getTotalLength();Y&&i(Y)}catch{}},[]);var{x:a,y:s,width:o,height:u,radius:f,className:h}=e,{animationEasing:p,animationDuration:y,animationBegin:x,isAnimationActive:b,isUpdateAnimationActive:j}=e,S=k.useRef(o),N=k.useRef(u),O=k.useRef(a),C=k.useRef(s),_=k.useMemo(()=>({x:a,y:s,width:o,height:u,radius:f}),[a,s,o,u,f]),P=$j(_,"rectangle-");if(a!==+a||s!==+s||o!==+o||u!==+u||o===0||u===0)return null;var D=ot("recharts-rectangle",h);if(!j){var T=Un(e),{radius:L}=T,I=NM(T,JY);return k.createElement("path",Ip({},I,{x:Cs(a),y:Cs(s),width:Cs(o),height:Cs(u),radius:typeof f=="number"?f:void 0,className:D,d:CM(a,s,o,u,f)}))}var q=S.current,U=N.current,z=O.current,H=C.current,X="0px ".concat(r===-1?1:r,"px"),W="".concat(r,"px 0px"),V=JR(["strokeDasharray"],y,typeof p=="string"?p:kM.animationEasing);return k.createElement(Uj,{animationId:P,key:P,canBegin:r>0,duration:y,easing:p,isActive:j,begin:x},Y=>{var J=Zn(q,o,Y),oe=Zn(U,u,Y),ge=Zn(z,a,Y),M=Zn(H,s,Y);n.current&&(S.current=J,N.current=oe,O.current=ge,C.current=M);var $;b?Y>0?$={transition:V,strokeDasharray:W}:$={strokeDasharray:X}:$={strokeDasharray:W};var te=Un(e),{radius:K}=te,ue=NM(te,eQ);return k.createElement("path",Ip({},ue,{radius:typeof f=="number"?f:void 0,className:D,d:CM(ge,M,J,oe,f),ref:n,style:jM(jM({},$),e.style)}))})};function OM(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function AM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?OM(Object(n),!0).forEach(function(r){aQ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):OM(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aQ(t,e,n){return(e=sQ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sQ(t){var e=lQ(t,"string");return typeof e=="symbol"?e:e+""}function lQ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Up=Math.PI/180,oQ=t=>t*180/Math.PI,Sn=(t,e,n,r)=>({x:t+Math.cos(-Up*r)*n,y:e+Math.sin(-Up*r)*n}),cQ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},uQ=(t,e)=>{var{x:n,y:r}=t,{x:i,y:a}=e;return Math.sqrt((n-i)**2+(r-a)**2)},fQ=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:a}=e,s=uQ({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,u=Math.acos(o);return r>a&&(u=2*Math.PI-u),{radius:s,angle:oQ(u),angleInRadian:u}},dQ=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:e-a*360,endAngle:n-a*360}},hQ=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return t+s*360},mQ=(t,e)=>{var{chartX:n,chartY:r}=t,{radius:i,angle:a}=fQ({x:n,y:r},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:u,endAngle:f}=dQ(e),h=a,p;if(u<=f){for(;h>f;)h-=360;for(;h<u;)h+=360;p=h>=u&&h<=f}else{for(;h>u;)h-=360;for(;h<f;)h+=360;p=h>=f&&h<=u}return p?AM(AM({},e),{},{radius:i,angle:hQ(h,e)}):null};function iL(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:a}=t,s=Sn(e,n,r,i),o=Sn(e,n,r,a);return{points:[s,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}var EM,TM,MM,_M,DM,PM,RM;function Dw(){return Dw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dw.apply(null,arguments)}function Cl(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var pQ=(t,e)=>{var n=Fr(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},mm=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:u}=t,f=o*(s?1:-1)+r,h=Math.asin(o/f)/Up,p=u?i:i+a*h,y=Sn(e,n,f,p),x=Sn(e,n,r,p),b=u?i-a*h:i,j=Sn(e,n,f*Math.cos(h*Up),b);return{center:y,circleTangency:x,lineTangency:j,theta:h}},aL=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=t,o=pQ(a,s),u=a+o,f=Sn(e,n,i,a),h=Sn(e,n,i,u),p=Tt(EM||(EM=Cl(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),f.x,f.y,i,i,+(Math.abs(o)>180),+(a>u),h.x,h.y);if(r>0){var y=Sn(e,n,r,a),x=Sn(e,n,r,u);p+=Tt(TM||(TM=Cl(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),x.x,x.y,r,r,+(Math.abs(o)>180),+(a<=u),y.x,y.y)}else p+=Tt(MM||(MM=Cl(["L ",","," Z"])),e,n);return p},gQ=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:u,endAngle:f}=t,h=Fr(f-u),{circleTangency:p,lineTangency:y,theta:x}=mm({cx:e,cy:n,radius:i,angle:u,sign:h,cornerRadius:a,cornerIsExternal:o}),{circleTangency:b,lineTangency:j,theta:S}=mm({cx:e,cy:n,radius:i,angle:f,sign:-h,cornerRadius:a,cornerIsExternal:o}),N=o?Math.abs(u-f):Math.abs(u-f)-x-S;if(N<0)return s?Tt(_M||(_M=Cl(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),y.x,y.y,a,a,a*2,a,a,-a*2):aL({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:u,endAngle:f});var O=Tt(DM||(DM=Cl(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),y.x,y.y,a,a,+(h<0),p.x,p.y,i,i,+(N>180),+(h<0),b.x,b.y,a,a,+(h<0),j.x,j.y);if(r>0){var{circleTangency:C,lineTangency:_,theta:P}=mm({cx:e,cy:n,radius:r,angle:u,sign:h,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:D,lineTangency:T,theta:L}=mm({cx:e,cy:n,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),I=o?Math.abs(u-f):Math.abs(u-f)-P-L;if(I<0&&a===0)return"".concat(O,"L").concat(e,",").concat(n,"Z");O+=Tt(PM||(PM=Cl(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),T.x,T.y,a,a,+(h<0),D.x,D.y,r,r,+(I>180),+(h>0),C.x,C.y,a,a,+(h<0),_.x,_.y)}else O+=Tt(RM||(RM=Cl(["L",",","Z"])),e,n);return O},yQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},sL=t=>{var e=_n(t,yQ),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h,className:p}=e;if(a<i||f===h)return null;var y=ot("recharts-sector",p),x=a-i,b=Ls(s,x,0,!0),j;return b>0&&Math.abs(f-h)<360?j=gQ({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(b,x/2),forceCornerRadius:o,cornerIsExternal:u,startAngle:f,endAngle:h}):j=aL({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:f,endAngle:h}),k.createElement("path",Dw({},Un(e),{className:y,d:j}))};function xQ(t,e,n){if(t==="horizontal")return[{x:e.x,y:n.top},{x:e.x,y:n.top+n.height}];if(t==="vertical")return[{x:n.left,y:e.y},{x:n.left+n.width,y:e.y}];if($P(e)){if(t==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,u=Sn(r,i,a,o),f=Sn(r,i,s,o);return[{x:u.x,y:u.y},{x:f.x,y:f.y}]}return iL(e)}}var Rb={},Lb={},Bb={},LM;function vQ(){return LM||(LM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JP();function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(Bb)),Bb}var BM;function bQ(){return BM||(BM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vQ();function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(Lb)),Lb}var zM;function wQ(){return zM||(zM=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eR(),n=bQ();function r(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),u=new Array(o);for(let f=0;f<o;f++)u[f]=i,i+=s;return u}t.range=r})(Rb)),Rb}var zb,IM;function SQ(){return IM||(IM=1,zb=wQ().range),zb}var jQ=SQ();const lL=gi(jQ);function Es(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function NQ(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function qj(t){let e,n,r;t.length!==2?(e=Es,n=(o,u)=>Es(t(o),u),r=(o,u)=>t(o)-u):(e=t===Es||t===NQ?t:CQ,n=t,r=t);function i(o,u,f=0,h=o.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;n(o[p],u)<0?f=p+1:h=p}while(f<h)}return f}function a(o,u,f=0,h=o.length){if(f<h){if(e(u,u)!==0)return h;do{const p=f+h>>>1;n(o[p],u)<=0?f=p+1:h=p}while(f<h)}return f}function s(o,u,f=0,h=o.length){const p=i(o,u,f,h-1);return p>f&&r(o[p-1],u)>-r(o[p],u)?p-1:p}return{left:i,center:s,right:a}}function CQ(){return 0}function oL(t){return t===null?NaN:+t}function*kQ(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const OQ=qj(Es),jd=OQ.right;qj(oL).center;class UM extends Map{constructor(e,n=TQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get($M(this,e))}has(e){return super.has($M(this,e))}set(e,n){return super.set(AQ(this,e),n)}delete(e){return super.delete(EQ(this,e))}}function $M({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function AQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function EQ({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function TQ(t){return t!==null&&typeof t=="object"?t.valueOf():t}function MQ(t=Es){if(t===Es)return cL;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function cL(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const _Q=Math.sqrt(50),DQ=Math.sqrt(10),PQ=Math.sqrt(2);function $p(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=_Q?10:a>=DQ?5:a>=PQ?2:1;let o,u,f;return i<0?(f=Math.pow(10,-i)/s,o=Math.round(t*f),u=Math.round(e*f),o/f<t&&++o,u/f>e&&--u,f=-f):(f=Math.pow(10,i)*s,o=Math.round(t/f),u=Math.round(e/f),o*f<t&&++o,u*f>e&&--u),u<o&&.5<=n&&n<2?$p(t,e,n*2):[o,u,f]}function Pw(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,s]=r?$p(e,t,n):$p(t,e,n);if(!(a>=i))return[];const o=a-i+1,u=new Array(o);if(r)if(s<0)for(let f=0;f<o;++f)u[f]=(a-f)/-s;else for(let f=0;f<o;++f)u[f]=(a-f)*s;else if(s<0)for(let f=0;f<o;++f)u[f]=(i+f)/-s;else for(let f=0;f<o;++f)u[f]=(i+f)*s;return u}function Rw(t,e,n){return e=+e,t=+t,n=+n,$p(t,e,n)[2]}function Lw(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Rw(e,t,n):Rw(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function qM(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function HM(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function uL(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?cL:MQ(i);r>n;){if(r-n>600){const u=r-n+1,f=e-n+1,h=Math.log(u),p=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*p*(u-p)/u)*(f-u/2<0?-1:1),x=Math.max(n,Math.floor(e-f*p/u+y)),b=Math.min(r,Math.floor(e+(u-f)*p/u+y));uL(t,e,x,b,i)}const a=t[e];let s=n,o=r;for(ef(t,n,e),i(t[r],a)>0&&ef(t,n,r);s<o;){for(ef(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[n],a)===0?ef(t,n,o):(++o,ef(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function ef(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function RQ(t,e,n){if(t=Float64Array.from(kQ(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return HM(t);if(e>=1)return qM(t);var r,i=(r-1)*e,a=Math.floor(i),s=qM(uL(t,a).subarray(0,a+1)),o=HM(t.subarray(a+1));return s+(o-s)*(i-a)}}function LQ(t,e,n=oL){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),s=+n(t[a],a,t),o=+n(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function BQ(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function ei(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function $a(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const Bw=Symbol("implicit");function Hj(){var t=new UM,e=[],n=[],r=Bw;function i(a){let s=t.get(a);if(s===void 0){if(r!==Bw)return r;t.set(a,s=e.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new UM;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Hj(e,n).unknown(r)},ei.apply(i,arguments),i}function Vj(){var t=Hj().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,s,o=!1,u=0,f=0,h=.5;delete t.unknown;function p(){var y=e().length,x=i<r,b=x?i:r,j=x?r:i;a=(j-b)/Math.max(1,y-u+f*2),o&&(a=Math.floor(a)),b+=(j-b-a*(y-u))*h,s=a*(1-u),o&&(b=Math.round(b),s=Math.round(s));var S=BQ(y).map(function(N){return b+a*N});return n(x?S.reverse():S)}return t.domain=function(y){return arguments.length?(e(y),p()):e()},t.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,p()):[r,i]},t.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,o=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(y){return arguments.length?(o=!!y,p()):o},t.padding=function(y){return arguments.length?(u=Math.min(1,f=+y),p()):u},t.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),p()):u},t.paddingOuter=function(y){return arguments.length?(f=+y,p()):f},t.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),p()):h},t.copy=function(){return Vj(e(),[r,i]).round(o).paddingInner(u).paddingOuter(f).align(h)},ei.apply(p(),arguments)}function fL(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fL(e())},t}function zQ(){return fL(Vj.apply(null,arguments).paddingInner(1))}function Fj(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function dL(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Nd(){}var Uf=.7,qp=1/Uf,lc="\\s*([+-]?\\d+)\\s*",$f="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",$i="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",IQ=/^#([0-9a-f]{3,8})$/,UQ=new RegExp(`^rgb\\(${lc},${lc},${lc}\\)$`),$Q=new RegExp(`^rgb\\(${$i},${$i},${$i}\\)$`),qQ=new RegExp(`^rgba\\(${lc},${lc},${lc},${$f}\\)$`),HQ=new RegExp(`^rgba\\(${$i},${$i},${$i},${$f}\\)$`),VQ=new RegExp(`^hsl\\(${$f},${$i},${$i}\\)$`),FQ=new RegExp(`^hsla\\(${$f},${$i},${$i},${$f}\\)$`),VM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Fj(Nd,qf,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:FM,formatHex:FM,formatHex8:WQ,formatHsl:GQ,formatRgb:WM,toString:WM});function FM(){return this.rgb().formatHex()}function WQ(){return this.rgb().formatHex8()}function GQ(){return hL(this).formatHsl()}function WM(){return this.rgb().formatRgb()}function qf(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=IQ.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?GM(e):n===3?new tr(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?pm(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?pm(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=UQ.exec(t))?new tr(e[1],e[2],e[3],1):(e=$Q.exec(t))?new tr(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=qQ.exec(t))?pm(e[1],e[2],e[3],e[4]):(e=HQ.exec(t))?pm(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=VQ.exec(t))?QM(e[1],e[2]/100,e[3]/100,1):(e=FQ.exec(t))?QM(e[1],e[2]/100,e[3]/100,e[4]):VM.hasOwnProperty(t)?GM(VM[t]):t==="transparent"?new tr(NaN,NaN,NaN,0):null}function GM(t){return new tr(t>>16&255,t>>8&255,t&255,1)}function pm(t,e,n,r){return r<=0&&(t=e=n=NaN),new tr(t,e,n,r)}function KQ(t){return t instanceof Nd||(t=qf(t)),t?(t=t.rgb(),new tr(t.r,t.g,t.b,t.opacity)):new tr}function zw(t,e,n,r){return arguments.length===1?KQ(t):new tr(t,e,n,r??1)}function tr(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}Fj(tr,zw,dL(Nd,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new tr(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Uf:Math.pow(Uf,t),new tr(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new tr(Pl(this.r),Pl(this.g),Pl(this.b),Hp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:KM,formatHex:KM,formatHex8:YQ,formatRgb:YM,toString:YM}));function KM(){return`#${kl(this.r)}${kl(this.g)}${kl(this.b)}`}function YQ(){return`#${kl(this.r)}${kl(this.g)}${kl(this.b)}${kl((isNaN(this.opacity)?1:this.opacity)*255)}`}function YM(){const t=Hp(this.opacity);return`${t===1?"rgb(":"rgba("}${Pl(this.r)}, ${Pl(this.g)}, ${Pl(this.b)}${t===1?")":`, ${t})`}`}function Hp(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Pl(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function kl(t){return t=Pl(t),(t<16?"0":"")+t.toString(16)}function QM(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new li(t,e,n,r)}function hL(t){if(t instanceof li)return new li(t.h,t.s,t.l,t.opacity);if(t instanceof Nd||(t=qf(t)),!t)return new li;if(t instanceof li)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),s=NaN,o=a-i,u=(a+i)/2;return o?(e===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-e)/o+2:s=(e-n)/o+4,o/=u<.5?a+i:2-a-i,s*=60):o=u>0&&u<1?0:s,new li(s,o,u,t.opacity)}function QQ(t,e,n,r){return arguments.length===1?hL(t):new li(t,e,n,r??1)}function li(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}Fj(li,QQ,dL(Nd,{brighter(t){return t=t==null?qp:Math.pow(qp,t),new li(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Uf:Math.pow(Uf,t),new li(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new tr(Ib(t>=240?t-240:t+120,i,r),Ib(t,i,r),Ib(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new li(XM(this.h),gm(this.s),gm(this.l),Hp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=Hp(this.opacity);return`${t===1?"hsl(":"hsla("}${XM(this.h)}, ${gm(this.s)*100}%, ${gm(this.l)*100}%${t===1?")":`, ${t})`}`}}));function XM(t){return t=(t||0)%360,t<0?t+360:t}function gm(t){return Math.max(0,Math.min(1,t||0))}function Ib(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const Wj=t=>()=>t;function XQ(t,e){return function(n){return t+n*e}}function ZQ(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function JQ(t){return(t=+t)==1?mL:function(e,n){return n-e?ZQ(e,n,t):Wj(isNaN(e)?n:e)}}function mL(t,e){var n=e-t;return n?XQ(t,n):Wj(isNaN(t)?e:t)}const ZM=(function t(e){var n=JQ(e);function r(i,a){var s=n((i=zw(i)).r,(a=zw(a)).r),o=n(i.g,a.g),u=n(i.b,a.b),f=mL(i.opacity,a.opacity);return function(h){return i.r=s(h),i.g=o(h),i.b=u(h),i.opacity=f(h),i+""}}return r.gamma=t,r})(1);function eX(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function tX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function nX(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=Uc(t[s],e[s]);for(;s<n;++s)a[s]=e[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function rX(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function Vp(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function iX(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Uc(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Iw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ub=new RegExp(Iw.source,"g");function aX(t){return function(){return t}}function sX(t){return function(e){return t(e)+""}}function lX(t,e){var n=Iw.lastIndex=Ub.lastIndex=0,r,i,a,s=-1,o=[],u=[];for(t=t+"",e=e+"";(r=Iw.exec(t))&&(i=Ub.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,u.push({i:s,x:Vp(r,i)})),n=Ub.lastIndex;return n<e.length&&(a=e.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?u[0]?sX(u[0].x):aX(e):(e=u.length,function(f){for(var h=0,p;h<e;++h)o[(p=u[h]).i]=p.x(f);return o.join("")})}function Uc(t,e){var n=typeof e,r;return e==null||n==="boolean"?Wj(e):(n==="number"?Vp:n==="string"?(r=qf(e))?(e=r,ZM):lX:e instanceof qf?ZM:e instanceof Date?rX:tX(e)?eX:Array.isArray(e)?nX:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?iX:Vp)(t,e)}function Gj(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function oX(t,e){e===void 0&&(e=t,t=Uc);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function cX(t){return function(){return t}}function Fp(t){return+t}var JM=[0,1];function Bn(t){return t}function Uw(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:cX(isNaN(e)?NaN:.5)}function uX(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function fX(t,e,n){var r=t[0],i=t[1],a=e[0],s=e[1];return i<r?(r=Uw(i,r),a=n(s,a)):(r=Uw(r,i),a=n(a,s)),function(o){return a(r(o))}}function dX(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Uw(t[s],t[s+1]),a[s]=n(e[s],e[s+1]);return function(o){var u=jd(t,o,1,r)-1;return a[u](i[u](o))}}function Cd(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function S0(){var t=JM,e=JM,n=Uc,r,i,a,s=Bn,o,u,f;function h(){var y=Math.min(t.length,e.length);return s!==Bn&&(s=uX(t[0],t[y-1])),o=y>2?dX:fX,u=f=null,p}function p(y){return y==null||isNaN(y=+y)?a:(u||(u=o(t.map(r),e,n)))(r(s(y)))}return p.invert=function(y){return s(i((f||(f=o(e,t.map(r),Vp)))(y)))},p.domain=function(y){return arguments.length?(t=Array.from(y,Fp),h()):t.slice()},p.range=function(y){return arguments.length?(e=Array.from(y),h()):e.slice()},p.rangeRound=function(y){return e=Array.from(y),n=Gj,h()},p.clamp=function(y){return arguments.length?(s=y?!0:Bn,h()):s!==Bn},p.interpolate=function(y){return arguments.length?(n=y,h()):n},p.unknown=function(y){return arguments.length?(a=y,p):a},function(y,x){return r=y,i=x,h()}}function Kj(){return S0()(Bn,Bn)}function hX(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wp(t,e){if(!isFinite(t)||t===0)return null;var n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"),r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function wc(t){return t=Wp(Math.abs(t)),t?t[1]:NaN}function mX(t,e){return function(n,r){for(var i=n.length,a=[],s=0,o=t[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),a.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function pX(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var gX=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Hf(t){if(!(e=gX.exec(t)))throw new Error("invalid format: "+t);var e;return new Yj({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Hf.prototype=Yj.prototype;function Yj(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Yj.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function yX(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Gp;function xX(t,e){var n=Wp(t,e);if(!n)return Gp=void 0,t.toPrecision(e);var r=n[0],i=n[1],a=i-(Gp=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Wp(t,Math.max(0,e+a-1))[0]}function e5(t,e){var n=Wp(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const t5={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:hX,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>e5(t*100,e),r:e5,s:xX,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function n5(t){return t}var r5=Array.prototype.map,i5=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function vX(t){var e=t.grouping===void 0||t.thousands===void 0?n5:mX(r5.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?n5:pX(r5.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function f(p,y){p=Hf(p);var x=p.fill,b=p.align,j=p.sign,S=p.symbol,N=p.zero,O=p.width,C=p.comma,_=p.precision,P=p.trim,D=p.type;D==="n"?(C=!0,D="g"):t5[D]||(_===void 0&&(_=12),P=!0,D="g"),(N||x==="0"&&b==="=")&&(N=!0,x="0",b="=");var T=(y&&y.prefix!==void 0?y.prefix:"")+(S==="$"?n:S==="#"&&/[boxX]/.test(D)?"0"+D.toLowerCase():""),L=(S==="$"?r:/[%p]/.test(D)?s:"")+(y&&y.suffix!==void 0?y.suffix:""),I=t5[D],q=/[defgprs%]/.test(D);_=_===void 0?6:/[gprs]/.test(D)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function U(z){var H=T,X=L,W,V,Y;if(D==="c")X=I(z)+X,z="";else{z=+z;var J=z<0||1/z<0;if(z=isNaN(z)?u:I(Math.abs(z),_),P&&(z=yX(z)),J&&+z==0&&j!=="+"&&(J=!1),H=(J?j==="("?j:o:j==="-"||j==="("?"":j)+H,X=(D==="s"&&!isNaN(z)&&Gp!==void 0?i5[8+Gp/3]:"")+X+(J&&j==="("?")":""),q){for(W=-1,V=z.length;++W<V;)if(Y=z.charCodeAt(W),48>Y||Y>57){X=(Y===46?i+z.slice(W+1):z.slice(W))+X,z=z.slice(0,W);break}}}C&&!N&&(z=e(z,1/0));var oe=H.length+z.length+X.length,ge=oe<O?new Array(O-oe+1).join(x):"";switch(C&&N&&(z=e(ge+z,ge.length?O-X.length:1/0),ge=""),b){case"<":z=H+z+X+ge;break;case"=":z=H+ge+z+X;break;case"^":z=ge.slice(0,oe=ge.length>>1)+H+z+X+ge.slice(oe);break;default:z=ge+H+z+X;break}return a(z)}return U.toString=function(){return p+""},U}function h(p,y){var x=Math.max(-8,Math.min(8,Math.floor(wc(y)/3)))*3,b=Math.pow(10,-x),j=f((p=Hf(p),p.type="f",p),{suffix:i5[8+x/3]});return function(S){return j(b*S)}}return{format:f,formatPrefix:h}}var ym,Qj,pL;bX({thousands:",",grouping:[3],currency:["$",""]});function bX(t){return ym=vX(t),Qj=ym.format,pL=ym.formatPrefix,ym}function wX(t){return Math.max(0,-wc(Math.abs(t)))}function SX(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(wc(e)/3)))*3-wc(Math.abs(t)))}function jX(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,wc(e)-wc(t))+1}function gL(t,e,n,r){var i=Lw(t,e,n),a;switch(r=Hf(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=SX(i,s))&&(r.precision=a),pL(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=jX(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=wX(i))&&(r.precision=a-(r.type==="%")*2);break}}return Qj(r)}function Fs(t){var e=t.domain;return t.ticks=function(n){var r=e();return Pw(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return gL(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,s=r[i],o=r[a],u,f,h=10;for(o<s&&(f=s,s=o,o=f,f=i,i=a,a=f);h-- >0;){if(f=Rw(s,o,n),f===u)return r[i]=s,r[a]=o,e(r);if(f>0)s=Math.floor(s/f)*f,o=Math.ceil(o/f)*f;else if(f<0)s=Math.ceil(s*f)/f,o=Math.floor(o*f)/f;else break;u=f}return t},t}function yL(){var t=Kj();return t.copy=function(){return Cd(t,yL())},ei.apply(t,arguments),Fs(t)}function xL(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,Fp),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return xL(t).unknown(e)},t=arguments.length?Array.from(t,Fp):[0,1],Fs(n)}function vL(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),t[n]=e.floor(i),t[r]=e.ceil(a),t}function a5(t){return Math.log(t)}function s5(t){return Math.exp(t)}function NX(t){return-Math.log(-t)}function CX(t){return-Math.exp(-t)}function kX(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OX(t){return t===10?kX:t===Math.E?Math.exp:e=>Math.pow(t,e)}function AX(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function l5(t){return(e,n)=>-t(-e,n)}function Xj(t){const e=t(a5,s5),n=e.domain;let r=10,i,a;function s(){return i=AX(r),a=OX(r),n()[0]<0?(i=l5(i),a=l5(a),t(NX,CX)):t(a5,s5),e}return e.base=function(o){return arguments.length?(r=+o,s()):r},e.domain=function(o){return arguments.length?(n(o),s()):n()},e.ticks=o=>{const u=n();let f=u[0],h=u[u.length-1];const p=h<f;p&&([f,h]=[h,f]);let y=i(f),x=i(h),b,j;const S=o==null?10:+o;let N=[];if(!(r%1)&&x-y<S){if(y=Math.floor(y),x=Math.ceil(x),f>0){for(;y<=x;++y)for(b=1;b<r;++b)if(j=y<0?b/a(-y):b*a(y),!(j<f)){if(j>h)break;N.push(j)}}else for(;y<=x;++y)for(b=r-1;b>=1;--b)if(j=y>0?b/a(-y):b*a(y),!(j<f)){if(j>h)break;N.push(j)}N.length*2<S&&(N=Pw(f,h,S))}else N=Pw(y,x,Math.min(x-y,S)).map(a);return p?N.reverse():N},e.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Hf(u)).precision==null&&(u.trim=!0),u=Qj(u)),o===1/0)return u;const f=Math.max(1,r*o/e.ticks().length);return h=>{let p=h/a(Math.round(i(h)));return p*r<r-.5&&(p*=r),p<=f?u(h):""}},e.nice=()=>n(vL(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function bL(){const t=Xj(S0()).domain([1,10]);return t.copy=()=>Cd(t,bL()).base(t.base()),ei.apply(t,arguments),t}function o5(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function c5(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Zj(t){var e=1,n=t(o5(e),c5(e));return n.constant=function(r){return arguments.length?t(o5(e=+r),c5(e)):e},Fs(n)}function wL(){var t=Zj(S0());return t.copy=function(){return Cd(t,wL()).constant(t.constant())},ei.apply(t,arguments)}function u5(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function EX(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function TX(t){return t<0?-t*t:t*t}function Jj(t){var e=t(Bn,Bn),n=1;function r(){return n===1?t(Bn,Bn):n===.5?t(EX,TX):t(u5(n),u5(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Fs(e)}function e2(){var t=Jj(S0());return t.copy=function(){return Cd(t,e2()).exponent(t.exponent())},ei.apply(t,arguments),t}function MX(){return e2.apply(null,arguments).exponent(.5)}function f5(t){return Math.sign(t)*t*t}function _X(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function SL(){var t=Kj(),e=[0,1],n=!1,r;function i(a){var s=_X(t(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return t.invert(f5(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Fp)).map(f5)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return SL(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},ei.apply(i,arguments),Fs(i)}function jL(){var t=[],e=[],n=[],r;function i(){var s=0,o=Math.max(1,e.length);for(n=new Array(o-1);++s<o;)n[s-1]=LQ(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:e[jd(n,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Es),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return jL().domain(t).range(e).unknown(r)},ei.apply(a,arguments)}function NL(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function s(u){return u!=null&&u<=u?i[jd(r,u,0,n)]:a}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*e-(u-n)*t)/(n+1);return s}return s.domain=function(u){return arguments.length?([t,e]=u,t=+t,e=+e,o()):[t,e]},s.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},s.invertExtent=function(u){var f=i.indexOf(u);return f<0?[NaN,NaN]:f<1?[t,r[0]]:f>=n?[r[n-1],e]:[r[f-1],r[f]]},s.unknown=function(u){return arguments.length&&(a=u),s},s.thresholds=function(){return r.slice()},s.copy=function(){return NL().domain([t,e]).range(i).unknown(a)},ei.apply(Fs(s),arguments)}function CL(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[jd(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return CL().domain(t).range(e).unknown(n)},ei.apply(i,arguments)}const $b=new Date,qb=new Date;function Xt(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const u=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return u;let f;do u.push(f=new Date(+a)),e(a,o),t(a);while(f<a&&a<s);return u},i.filter=a=>Xt(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),n&&(i.count=(a,s)=>($b.setTime(+a),qb.setTime(+s),t($b),t(qb),Math.floor(n($b,qb))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Kp=Xt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Kp.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Xt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):Kp);Kp.range;const wa=1e3,Wr=wa*60,Sa=Wr*60,Ea=Sa*24,t2=Ea*7,d5=Ea*30,Hb=Ea*365,Ol=Xt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*wa)},(t,e)=>(e-t)/wa,t=>t.getUTCSeconds());Ol.range;const n2=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wa)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getMinutes());n2.range;const r2=Xt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Wr)},(t,e)=>(e-t)/Wr,t=>t.getUTCMinutes());r2.range;const i2=Xt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*wa-t.getMinutes()*Wr)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getHours());i2.range;const a2=Xt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Sa)},(t,e)=>(e-t)/Sa,t=>t.getUTCHours());a2.range;const kd=Xt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Wr)/Ea,t=>t.getDate()-1);kd.range;const j0=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ea,t=>t.getUTCDate()-1);j0.range;const kL=Xt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ea,t=>Math.floor(t/Ea));kL.range;function no(t){return Xt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Wr)/t2)}const N0=no(0),Yp=no(1),DX=no(2),PX=no(3),Sc=no(4),RX=no(5),LX=no(6);N0.range;Yp.range;DX.range;PX.range;Sc.range;RX.range;LX.range;function ro(t){return Xt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/t2)}const C0=ro(0),Qp=ro(1),BX=ro(2),zX=ro(3),jc=ro(4),IX=ro(5),UX=ro(6);C0.range;Qp.range;BX.range;zX.range;jc.range;IX.range;UX.range;const s2=Xt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());s2.range;const l2=Xt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());l2.range;const Ta=Xt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ta.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Ta.range;const Ma=Xt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ma.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Xt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Ma.range;function OL(t,e,n,r,i,a){const s=[[Ol,1,wa],[Ol,5,5*wa],[Ol,15,15*wa],[Ol,30,30*wa],[a,1,Wr],[a,5,5*Wr],[a,15,15*Wr],[a,30,30*Wr],[i,1,Sa],[i,3,3*Sa],[i,6,6*Sa],[i,12,12*Sa],[r,1,Ea],[r,2,2*Ea],[n,1,t2],[e,1,d5],[e,3,3*d5],[t,1,Hb]];function o(f,h,p){const y=h<f;y&&([f,h]=[h,f]);const x=p&&typeof p.range=="function"?p:u(f,h,p),b=x?x.range(f,+h+1):[];return y?b.reverse():b}function u(f,h,p){const y=Math.abs(h-f)/p,x=qj(([,,S])=>S).right(s,y);if(x===s.length)return t.every(Lw(f/Hb,h/Hb,p));if(x===0)return Kp.every(Math.max(Lw(f,h,p),1));const[b,j]=s[y/s[x-1][2]<s[x][2]/y?x-1:x];return b.every(j)}return[o,u]}const[$X,qX]=OL(Ma,l2,C0,kL,a2,r2),[HX,VX]=OL(Ta,s2,N0,kd,i2,n2);function Vb(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fb(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function tf(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function FX(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,u=t.shortMonths,f=nf(i),h=rf(i),p=nf(a),y=rf(a),x=nf(s),b=rf(s),j=nf(o),S=rf(o),N=nf(u),O=rf(u),C={a:Y,A:J,b:oe,B:ge,c:null,d:x5,e:x5,f:mZ,g:NZ,G:kZ,H:fZ,I:dZ,j:hZ,L:AL,m:pZ,M:gZ,p:M,q:$,Q:w5,s:S5,S:yZ,u:xZ,U:vZ,V:bZ,w:wZ,W:SZ,x:null,X:null,y:jZ,Y:CZ,Z:OZ,"%":b5},_={a:te,A:K,b:ue,B:Q,c:null,d:v5,e:v5,f:MZ,g:$Z,G:HZ,H:AZ,I:EZ,j:TZ,L:TL,m:_Z,M:DZ,p:me,q:Ce,Q:w5,s:S5,S:PZ,u:RZ,U:LZ,V:BZ,w:zZ,W:IZ,x:null,X:null,y:UZ,Y:qZ,Z:VZ,"%":b5},P={a:q,A:U,b:z,B:H,c:X,d:g5,e:g5,f:lZ,g:p5,G:m5,H:y5,I:y5,j:rZ,L:sZ,m:nZ,M:iZ,p:I,q:tZ,Q:cZ,s:uZ,S:aZ,u:QX,U:XX,V:ZX,w:YX,W:JX,x:W,X:V,y:p5,Y:m5,Z:eZ,"%":oZ};C.x=D(n,C),C.X=D(r,C),C.c=D(e,C),_.x=D(n,_),_.X=D(r,_),_.c=D(e,_);function D(re,je){return function(De){var pe=[],kt=-1,Ke=0,fn=re.length,dn,Zi,Jc;for(De instanceof Date||(De=new Date(+De));++kt<fn;)re.charCodeAt(kt)===37&&(pe.push(re.slice(Ke,kt)),(Zi=h5[dn=re.charAt(++kt)])!=null?dn=re.charAt(++kt):Zi=dn==="e"?" ":"0",(Jc=je[dn])&&(dn=Jc(De,Zi)),pe.push(dn),Ke=kt+1);return pe.push(re.slice(Ke,kt)),pe.join("")}}function T(re,je){return function(De){var pe=tf(1900,void 0,1),kt=L(pe,re,De+="",0),Ke,fn;if(kt!=De.length)return null;if("Q"in pe)return new Date(pe.Q);if("s"in pe)return new Date(pe.s*1e3+("L"in pe?pe.L:0));if(je&&!("Z"in pe)&&(pe.Z=0),"p"in pe&&(pe.H=pe.H%12+pe.p*12),pe.m===void 0&&(pe.m="q"in pe?pe.q:0),"V"in pe){if(pe.V<1||pe.V>53)return null;"w"in pe||(pe.w=1),"Z"in pe?(Ke=Fb(tf(pe.y,0,1)),fn=Ke.getUTCDay(),Ke=fn>4||fn===0?Qp.ceil(Ke):Qp(Ke),Ke=j0.offset(Ke,(pe.V-1)*7),pe.y=Ke.getUTCFullYear(),pe.m=Ke.getUTCMonth(),pe.d=Ke.getUTCDate()+(pe.w+6)%7):(Ke=Vb(tf(pe.y,0,1)),fn=Ke.getDay(),Ke=fn>4||fn===0?Yp.ceil(Ke):Yp(Ke),Ke=kd.offset(Ke,(pe.V-1)*7),pe.y=Ke.getFullYear(),pe.m=Ke.getMonth(),pe.d=Ke.getDate()+(pe.w+6)%7)}else("W"in pe||"U"in pe)&&("w"in pe||(pe.w="u"in pe?pe.u%7:"W"in pe?1:0),fn="Z"in pe?Fb(tf(pe.y,0,1)).getUTCDay():Vb(tf(pe.y,0,1)).getDay(),pe.m=0,pe.d="W"in pe?(pe.w+6)%7+pe.W*7-(fn+5)%7:pe.w+pe.U*7-(fn+6)%7);return"Z"in pe?(pe.H+=pe.Z/100|0,pe.M+=pe.Z%100,Fb(pe)):Vb(pe)}}function L(re,je,De,pe){for(var kt=0,Ke=je.length,fn=De.length,dn,Zi;kt<Ke;){if(pe>=fn)return-1;if(dn=je.charCodeAt(kt++),dn===37){if(dn=je.charAt(kt++),Zi=P[dn in h5?je.charAt(kt++):dn],!Zi||(pe=Zi(re,De,pe))<0)return-1}else if(dn!=De.charCodeAt(pe++))return-1}return pe}function I(re,je,De){var pe=f.exec(je.slice(De));return pe?(re.p=h.get(pe[0].toLowerCase()),De+pe[0].length):-1}function q(re,je,De){var pe=x.exec(je.slice(De));return pe?(re.w=b.get(pe[0].toLowerCase()),De+pe[0].length):-1}function U(re,je,De){var pe=p.exec(je.slice(De));return pe?(re.w=y.get(pe[0].toLowerCase()),De+pe[0].length):-1}function z(re,je,De){var pe=N.exec(je.slice(De));return pe?(re.m=O.get(pe[0].toLowerCase()),De+pe[0].length):-1}function H(re,je,De){var pe=j.exec(je.slice(De));return pe?(re.m=S.get(pe[0].toLowerCase()),De+pe[0].length):-1}function X(re,je,De){return L(re,e,je,De)}function W(re,je,De){return L(re,n,je,De)}function V(re,je,De){return L(re,r,je,De)}function Y(re){return s[re.getDay()]}function J(re){return a[re.getDay()]}function oe(re){return u[re.getMonth()]}function ge(re){return o[re.getMonth()]}function M(re){return i[+(re.getHours()>=12)]}function $(re){return 1+~~(re.getMonth()/3)}function te(re){return s[re.getUTCDay()]}function K(re){return a[re.getUTCDay()]}function ue(re){return u[re.getUTCMonth()]}function Q(re){return o[re.getUTCMonth()]}function me(re){return i[+(re.getUTCHours()>=12)]}function Ce(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var je=D(re+="",C);return je.toString=function(){return re},je},parse:function(re){var je=T(re+="",!1);return je.toString=function(){return re},je},utcFormat:function(re){var je=D(re+="",_);return je.toString=function(){return re},je},utcParse:function(re){var je=T(re+="",!0);return je.toString=function(){return re},je}}}var h5={"-":"",_:" ",0:"0"},on=/^\s*\d+/,WX=/^%/,GX=/[\\^$*+?|[\]().{}]/g;function Je(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function KX(t){return t.replace(GX,"\\$&")}function nf(t){return new RegExp("^(?:"+t.map(KX).join("|")+")","i")}function rf(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function YX(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function QX(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function XX(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ZX(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function JX(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function m5(t,e,n){var r=on.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function p5(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function eZ(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function tZ(t,e,n){var r=on.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function nZ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function g5(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function rZ(t,e,n){var r=on.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function y5(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function iZ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function aZ(t,e,n){var r=on.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function sZ(t,e,n){var r=on.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function lZ(t,e,n){var r=on.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function oZ(t,e,n){var r=WX.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function cZ(t,e,n){var r=on.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function uZ(t,e,n){var r=on.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function x5(t,e){return Je(t.getDate(),e,2)}function fZ(t,e){return Je(t.getHours(),e,2)}function dZ(t,e){return Je(t.getHours()%12||12,e,2)}function hZ(t,e){return Je(1+kd.count(Ta(t),t),e,3)}function AL(t,e){return Je(t.getMilliseconds(),e,3)}function mZ(t,e){return AL(t,e)+"000"}function pZ(t,e){return Je(t.getMonth()+1,e,2)}function gZ(t,e){return Je(t.getMinutes(),e,2)}function yZ(t,e){return Je(t.getSeconds(),e,2)}function xZ(t){var e=t.getDay();return e===0?7:e}function vZ(t,e){return Je(N0.count(Ta(t)-1,t),e,2)}function EL(t){var e=t.getDay();return e>=4||e===0?Sc(t):Sc.ceil(t)}function bZ(t,e){return t=EL(t),Je(Sc.count(Ta(t),t)+(Ta(t).getDay()===4),e,2)}function wZ(t){return t.getDay()}function SZ(t,e){return Je(Yp.count(Ta(t)-1,t),e,2)}function jZ(t,e){return Je(t.getFullYear()%100,e,2)}function NZ(t,e){return t=EL(t),Je(t.getFullYear()%100,e,2)}function CZ(t,e){return Je(t.getFullYear()%1e4,e,4)}function kZ(t,e){var n=t.getDay();return t=n>=4||n===0?Sc(t):Sc.ceil(t),Je(t.getFullYear()%1e4,e,4)}function OZ(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Je(e/60|0,"0",2)+Je(e%60,"0",2)}function v5(t,e){return Je(t.getUTCDate(),e,2)}function AZ(t,e){return Je(t.getUTCHours(),e,2)}function EZ(t,e){return Je(t.getUTCHours()%12||12,e,2)}function TZ(t,e){return Je(1+j0.count(Ma(t),t),e,3)}function TL(t,e){return Je(t.getUTCMilliseconds(),e,3)}function MZ(t,e){return TL(t,e)+"000"}function _Z(t,e){return Je(t.getUTCMonth()+1,e,2)}function DZ(t,e){return Je(t.getUTCMinutes(),e,2)}function PZ(t,e){return Je(t.getUTCSeconds(),e,2)}function RZ(t){var e=t.getUTCDay();return e===0?7:e}function LZ(t,e){return Je(C0.count(Ma(t)-1,t),e,2)}function ML(t){var e=t.getUTCDay();return e>=4||e===0?jc(t):jc.ceil(t)}function BZ(t,e){return t=ML(t),Je(jc.count(Ma(t),t)+(Ma(t).getUTCDay()===4),e,2)}function zZ(t){return t.getUTCDay()}function IZ(t,e){return Je(Qp.count(Ma(t)-1,t),e,2)}function UZ(t,e){return Je(t.getUTCFullYear()%100,e,2)}function $Z(t,e){return t=ML(t),Je(t.getUTCFullYear()%100,e,2)}function qZ(t,e){return Je(t.getUTCFullYear()%1e4,e,4)}function HZ(t,e){var n=t.getUTCDay();return t=n>=4||n===0?jc(t):jc.ceil(t),Je(t.getUTCFullYear()%1e4,e,4)}function VZ(){return"+0000"}function b5(){return"%"}function w5(t){return+t}function S5(t){return Math.floor(+t/1e3)}var Fo,_L,DL;FZ({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function FZ(t){return Fo=FX(t),_L=Fo.format,Fo.parse,DL=Fo.utcFormat,Fo.utcParse,Fo}function WZ(t){return new Date(t)}function GZ(t){return t instanceof Date?+t:+new Date(+t)}function o2(t,e,n,r,i,a,s,o,u,f){var h=Kj(),p=h.invert,y=h.domain,x=f(".%L"),b=f(":%S"),j=f("%I:%M"),S=f("%I %p"),N=f("%a %d"),O=f("%b %d"),C=f("%B"),_=f("%Y");function P(D){return(u(D)<D?x:o(D)<D?b:s(D)<D?j:a(D)<D?S:r(D)<D?i(D)<D?N:O:n(D)<D?C:_)(D)}return h.invert=function(D){return new Date(p(D))},h.domain=function(D){return arguments.length?y(Array.from(D,GZ)):y().map(WZ)},h.ticks=function(D){var T=y();return t(T[0],T[T.length-1],D??10)},h.tickFormat=function(D,T){return T==null?P:f(T)},h.nice=function(D){var T=y();return(!D||typeof D.range!="function")&&(D=e(T[0],T[T.length-1],D??10)),D?y(vL(T,D)):h},h.copy=function(){return Cd(h,o2(t,e,n,r,i,a,s,o,u,f))},h}function KZ(){return ei.apply(o2(HX,VX,Ta,s2,N0,kd,i2,n2,Ol,_L).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YZ(){return ei.apply(o2($X,qX,Ma,l2,C0,j0,a2,r2,Ol,DL).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function k0(){var t=0,e=1,n,r,i,a,s=Bn,o=!1,u;function f(p){return p==null||isNaN(p=+p)?u:s(i===0?.5:(p=(a(p)-n)*i,o?Math.max(0,Math.min(1,p)):p))}f.domain=function(p){return arguments.length?([t,e]=p,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),f):[t,e]},f.clamp=function(p){return arguments.length?(o=!!p,f):o},f.interpolator=function(p){return arguments.length?(s=p,f):s};function h(p){return function(y){var x,b;return arguments.length?([x,b]=y,s=p(x,b),f):[s(0),s(1)]}}return f.range=h(Uc),f.rangeRound=h(Gj),f.unknown=function(p){return arguments.length?(u=p,f):u},function(p){return a=p,n=p(t),r=p(e),i=n===r?0:1/(r-n),f}}function Ws(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function PL(){var t=Fs(k0()(Bn));return t.copy=function(){return Ws(t,PL())},$a.apply(t,arguments)}function RL(){var t=Xj(k0()).domain([1,10]);return t.copy=function(){return Ws(t,RL()).base(t.base())},$a.apply(t,arguments)}function LL(){var t=Zj(k0());return t.copy=function(){return Ws(t,LL()).constant(t.constant())},$a.apply(t,arguments)}function c2(){var t=Jj(k0());return t.copy=function(){return Ws(t,c2()).exponent(t.exponent())},$a.apply(t,arguments)}function QZ(){return c2.apply(null,arguments).exponent(.5)}function BL(){var t=[],e=Bn;function n(r){if(r!=null&&!isNaN(r=+r))return e((jd(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Es),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>RQ(t,a/r))},n.copy=function(){return BL(e).domain(t)},$a.apply(n,arguments)}function O0(){var t=0,e=.5,n=1,r=1,i,a,s,o,u,f=Bn,h,p=!1,y;function x(j){return isNaN(j=+j)?y:(j=.5+((j=+h(j))-a)*(r*j<r*a?o:u),f(p?Math.max(0,Math.min(1,j)):j))}x.domain=function(j){return arguments.length?([t,e,n]=j,i=h(t=+t),a=h(e=+e),s=h(n=+n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,x):[t,e,n]},x.clamp=function(j){return arguments.length?(p=!!j,x):p},x.interpolator=function(j){return arguments.length?(f=j,x):f};function b(j){return function(S){var N,O,C;return arguments.length?([N,O,C]=S,f=oX(j,[N,O,C]),x):[f(0),f(.5),f(1)]}}return x.range=b(Uc),x.rangeRound=b(Gj),x.unknown=function(j){return arguments.length?(y=j,x):y},function(j){return h=j,i=j(t),a=j(e),s=j(n),o=i===a?0:.5/(a-i),u=a===s?0:.5/(s-a),r=a<i?-1:1,x}}function zL(){var t=Fs(O0()(Bn));return t.copy=function(){return Ws(t,zL())},$a.apply(t,arguments)}function IL(){var t=Xj(O0()).domain([.1,1,10]);return t.copy=function(){return Ws(t,IL()).base(t.base())},$a.apply(t,arguments)}function UL(){var t=Zj(O0());return t.copy=function(){return Ws(t,UL()).constant(t.constant())},$a.apply(t,arguments)}function u2(){var t=Jj(O0());return t.copy=function(){return Ws(t,u2()).exponent(t.exponent())},$a.apply(t,arguments)}function XZ(){return u2.apply(null,arguments).exponent(.5)}const mf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Vj,scaleDiverging:zL,scaleDivergingLog:IL,scaleDivergingPow:u2,scaleDivergingSqrt:XZ,scaleDivergingSymlog:UL,scaleIdentity:xL,scaleImplicit:Bw,scaleLinear:yL,scaleLog:bL,scaleOrdinal:Hj,scalePoint:zQ,scalePow:e2,scaleQuantile:jL,scaleQuantize:NL,scaleRadial:SL,scaleSequential:PL,scaleSequentialLog:RL,scaleSequentialPow:c2,scaleSequentialQuantile:BL,scaleSequentialSqrt:QZ,scaleSequentialSymlog:LL,scaleSqrt:MX,scaleSymlog:wL,scaleThreshold:CL,scaleTime:KZ,scaleUtc:YZ,tickFormat:gL},Symbol.toStringTag,{value:"Module"}));var Gs=t=>t.chartData,ZZ=le([Gs],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),f2=(t,e,n,r)=>r?ZZ(t):Gs(t);function _a(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Ze(e)&&Ze(n))return!0}return!1}function j5(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function $L(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,a;if(Ze(n))i=n;else if(typeof n=="function")return;if(Ze(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(_a(s))return s}}function JZ(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(_a(r))return j5(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Oe(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&DT.test(i)){var u=DT.exec(i);if(u==null||u[1]==null||e==null)s=void 0;else{var f=+u[1];s=e[0]-f}}else s=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Oe(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&PT.test(a)){var h=PT.exec(a);if(h==null||h[1]==null||e==null)o=void 0;else{var p=+h[1];o=e[1]+p}}else o=e?.[1];var y=[s,o];if(_a(y))return e==null?y:j5(y,e,n)}}}var $c=1e9,eJ={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},h2,bt=!0,Zr="[DecimalError] ",Rl=Zr+"Invalid argument: ",d2=Zr+"Exponent out of range: ",qc=Math.floor,bl=Math.pow,tJ=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,jr,rn=1e7,yt=7,qL=9007199254740991,Xp=qc(qL/yt),we={};we.absoluteValue=we.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};we.comparedTo=we.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};we.decimalPlaces=we.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*yt;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};we.dividedBy=we.div=function(t){return Na(this,new this.constructor(t))};we.dividedToIntegerBy=we.idiv=function(t){var e=this,n=e.constructor;return ft(Na(e,new n(t),0,1),n.precision)};we.equals=we.eq=function(t){return!this.cmp(t)};we.exponent=function(){return qt(this)};we.greaterThan=we.gt=function(t){return this.cmp(t)>0};we.greaterThanOrEqualTo=we.gte=function(t){return this.cmp(t)>=0};we.isInteger=we.isint=function(){return this.e>this.d.length-2};we.isNegative=we.isneg=function(){return this.s<0};we.isPositive=we.ispos=function(){return this.s>0};we.isZero=function(){return this.s===0};we.lessThan=we.lt=function(t){return this.cmp(t)<0};we.lessThanOrEqualTo=we.lte=function(t){return this.cmp(t)<1};we.logarithm=we.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(jr))throw Error(Zr+"NaN");if(n.s<1)throw Error(Zr+(n.s?"NaN":"-Infinity"));return n.eq(jr)?new r(0):(bt=!1,e=Na(Vf(n,a),Vf(t,a),a),bt=!0,ft(e,i))};we.minus=we.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?FL(e,t):HL(e,(t.s=-t.s,t))};we.modulo=we.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Zr+"NaN");return n.s?(bt=!1,e=Na(n,t,0,1).times(t),bt=!0,n.minus(e)):ft(new r(n),i)};we.naturalExponential=we.exp=function(){return VL(this)};we.naturalLogarithm=we.ln=function(){return Vf(this)};we.negated=we.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};we.plus=we.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?HL(e,t):FL(e,(t.s=-t.s,t))};we.precision=we.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Rl+t);if(e=qt(i)+1,r=i.d.length-1,n=r*yt+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};we.squareRoot=we.sqrt=function(){var t,e,n,r,i,a,s,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Zr+"NaN")}for(t=qt(o),bt=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Li(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=qc((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new u(e)):r=new u(i.toString()),n=u.precision,i=s=n+3;;)if(a=r,r=a.plus(Na(o,a,s+2)).times(.5),Li(a.d).slice(0,s)===(e=Li(r.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(ft(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(e!="9999")break;s+=4}return bt=!0,ft(r,n)};we.times=we.mul=function(t){var e,n,r,i,a,s,o,u,f,h=this,p=h.constructor,y=h.d,x=(t=new p(t)).d;if(!h.s||!t.s)return new p(0);for(t.s*=h.s,n=h.e+t.e,u=y.length,f=x.length,u<f&&(a=y,y=x,x=a,s=u,u=f,f=s),a=[],s=u+f,r=s;r--;)a.push(0);for(r=f;--r>=0;){for(e=0,i=u+r;i>r;)o=a[i]+x[r]*y[i-r-1]+e,a[i--]=o%rn|0,e=o/rn|0;a[i]=(a[i]+e)%rn|0}for(;!a[--s];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,bt?ft(t,p.precision):t};we.toDecimalPlaces=we.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Ki(t,0,$c),e===void 0?e=r.rounding:Ki(e,0,8),ft(n,t+qt(n)+1,e))};we.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Fl(r,!0):(Ki(t,0,$c),e===void 0?e=i.rounding:Ki(e,0,8),r=ft(new i(r),t+1,e),n=Fl(r,!0,t+1)),n};we.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?Fl(i):(Ki(t,0,$c),e===void 0?e=a.rounding:Ki(e,0,8),r=ft(new a(i),t+qt(i)+1,e),n=Fl(r.abs(),!1,t+qt(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};we.toInteger=we.toint=function(){var t=this,e=t.constructor;return ft(new e(t),qt(t)+1,e.rounding)};we.toNumber=function(){return+this};we.toPower=we.pow=function(t){var e,n,r,i,a,s,o=this,u=o.constructor,f=12,h=+(t=new u(t));if(!t.s)return new u(jr);if(o=new u(o),!o.s){if(t.s<1)throw Error(Zr+"Infinity");return o}if(o.eq(jr))return o;if(r=u.precision,t.eq(jr))return ft(o,r);if(e=t.e,n=t.d.length-1,s=e>=n,a=o.s,s){if((n=h<0?-h:h)<=qL){for(i=new u(jr),e=Math.ceil(r/yt+4),bt=!1;n%2&&(i=i.times(o),C5(i.d,e)),n=qc(n/2),n!==0;)o=o.times(o),C5(o.d,e);return bt=!0,t.s<0?new u(jr).div(i):ft(i,r)}}else if(a<0)throw Error(Zr+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,bt=!1,i=t.times(Vf(o,r+f)),bt=!0,i=VL(i),i.s=a,i};we.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=qt(i),r=Fl(i,n<=a.toExpNeg||n>=a.toExpPos)):(Ki(t,1,$c),e===void 0?e=a.rounding:Ki(e,0,8),i=ft(new a(i),t,e),n=qt(i),r=Fl(i,t<=n||n<=a.toExpNeg,t)),r};we.toSignificantDigits=we.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Ki(t,1,$c),e===void 0?e=r.rounding:Ki(e,0,8)),ft(new r(n),t,e)};we.toString=we.valueOf=we.val=we.toJSON=we[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=qt(t),n=t.constructor;return Fl(t,e<=n.toExpNeg||e>=n.toExpPos)};function HL(t,e){var n,r,i,a,s,o,u,f,h=t.constructor,p=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),bt?ft(e,p):e;if(u=t.d,f=e.d,s=t.e,i=e.e,u=u.slice(),a=s-i,a){for(a<0?(r=u,a=-a,o=f.length):(r=f,i=s,o=u.length),s=Math.ceil(p/yt),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=u.length,a=f.length,o-a<0&&(a=o,r=f,f=u,u=r),n=0;a;)n=(u[--a]=u[a]+f[a]+n)/rn|0,u[a]%=rn;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return e.d=u,e.e=i,bt?ft(e,p):e}function Ki(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Rl+t)}function Li(t){var e,n,r,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)r=t[e]+"",n=yt-r.length,n&&(a+=ys(n)),a+=r;s=t[e],r=s+"",n=yt-r.length,n&&(a+=ys(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var Na=(function(){function t(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%rn|0,s=a/rn|0;return s&&r.unshift(s),r}function e(r,i,a,s){var o,u;if(a!=s)u=a>s?1:-1;else for(o=u=0;o<a;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*rn+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,u,f,h,p,y,x,b,j,S,N,O,C,_,P,D,T,L,I=r.constructor,q=r.s==i.s?1:-1,U=r.d,z=i.d;if(!r.s)return new I(r);if(!i.s)throw Error(Zr+"Division by zero");for(u=r.e-i.e,T=z.length,P=U.length,x=new I(q),b=x.d=[],f=0;z[f]==(U[f]||0);)++f;if(z[f]>(U[f]||0)&&--u,a==null?O=a=I.precision:s?O=a+(qt(r)-qt(i))+1:O=a,O<0)return new I(0);if(O=O/yt+2|0,f=0,T==1)for(h=0,z=z[0],O++;(f<P||h)&&O--;f++)C=h*rn+(U[f]||0),b[f]=C/z|0,h=C%z|0;else{for(h=rn/(z[0]+1)|0,h>1&&(z=t(z,h),U=t(U,h),T=z.length,P=U.length),_=T,j=U.slice(0,T),S=j.length;S<T;)j[S++]=0;L=z.slice(),L.unshift(0),D=z[0],z[1]>=rn/2&&++D;do h=0,o=e(z,j,T,S),o<0?(N=j[0],T!=S&&(N=N*rn+(j[1]||0)),h=N/D|0,h>1?(h>=rn&&(h=rn-1),p=t(z,h),y=p.length,S=j.length,o=e(p,j,y,S),o==1&&(h--,n(p,T<y?L:z,y))):(h==0&&(o=h=1),p=z.slice()),y=p.length,y<S&&p.unshift(0),n(j,p,S),o==-1&&(S=j.length,o=e(z,j,T,S),o<1&&(h++,n(j,T<S?L:z,S))),S=j.length):o===0&&(h++,j=[0]),b[f++]=h,o&&j[0]?j[S++]=U[_]||0:(j=[U[_]],S=1);while((_++<P||j[0]!==void 0)&&O--)}return b[0]||b.shift(),x.e=u,ft(x,s?a+qt(x)+1:a)}})();function VL(t,e){var n,r,i,a,s,o,u=0,f=0,h=t.constructor,p=h.precision;if(qt(t)>16)throw Error(d2+qt(t));if(!t.s)return new h(jr);for(bt=!1,o=p,s=new h(.03125);t.abs().gte(.1);)t=t.times(s),f+=5;for(r=Math.log(bl(2,f))/Math.LN10*2+5|0,o+=r,n=i=a=new h(jr),h.precision=o;;){if(i=ft(i.times(t),o),n=n.times(++u),s=a.plus(Na(i,n,o)),Li(s.d).slice(0,o)===Li(a.d).slice(0,o)){for(;f--;)a=ft(a.times(a),o);return h.precision=p,e==null?(bt=!0,ft(a,p)):a}a=s}}function qt(t){for(var e=t.e*yt,n=t.d[0];n>=10;n/=10)e++;return e}function Wb(t,e,n){if(e>t.LN10.sd())throw bt=!0,n&&(t.precision=n),Error(Zr+"LN10 precision limit exceeded");return ft(new t(t.LN10),e)}function ys(t){for(var e="";t--;)e+="0";return e}function Vf(t,e){var n,r,i,a,s,o,u,f,h,p=1,y=10,x=t,b=x.d,j=x.constructor,S=j.precision;if(x.s<1)throw Error(Zr+(x.s?"NaN":"-Infinity"));if(x.eq(jr))return new j(0);if(e==null?(bt=!1,f=S):f=e,x.eq(10))return e==null&&(bt=!0),Wb(j,f);if(f+=y,j.precision=f,n=Li(b),r=n.charAt(0),a=qt(x),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(t),n=Li(x.d),r=n.charAt(0),p++;a=qt(x),r>1?(x=new j("0."+n),a++):x=new j(r+"."+n.slice(1))}else return u=Wb(j,f+2,S).times(a+""),x=Vf(new j(r+"."+n.slice(1)),f-y).plus(u),j.precision=S,e==null?(bt=!0,ft(x,S)):x;for(o=s=x=Na(x.minus(jr),x.plus(jr),f),h=ft(x.times(x),f),i=3;;){if(s=ft(s.times(h),f),u=o.plus(Na(s,new j(i),f)),Li(u.d).slice(0,f)===Li(o.d).slice(0,f))return o=o.times(2),a!==0&&(o=o.plus(Wb(j,f+2,S).times(a+""))),o=Na(o,new j(p),f),j.precision=S,e==null?(bt=!0,ft(o,S)):o;o=u,i+=2}}function N5(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=qc(n/yt),t.d=[],r=(n+1)%yt,n<0&&(r+=yt),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=yt;r<i;)t.d.push(+e.slice(r,r+=yt));e=e.slice(r),r=yt-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),bt&&(t.e>Xp||t.e<-Xp))throw Error(d2+n)}else t.s=0,t.e=0,t.d=[0];return t}function ft(t,e,n){var r,i,a,s,o,u,f,h,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(r=e-s,r<0)r+=yt,i=e,f=p[h=0];else{if(h=Math.ceil((r+1)/yt),a=p.length,h>=a)return t;for(f=a=p[h],s=1;a>=10;a/=10)s++;r%=yt,i=r-yt+s}if(n!==void 0&&(a=bl(10,s-i-1),o=f/a%10|0,u=e<0||p[h+1]!==void 0||f%a,u=n<4?(o||u)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?f/bl(10,s-i):0:p[h-1])%10&1||n==(t.s<0?8:7))),e<1||!p[0])return u?(a=qt(t),p.length=1,e=e-a-1,p[0]=bl(10,(yt-e%yt)%yt),t.e=qc(-e/yt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(r==0?(p.length=h,a=1,h--):(p.length=h+1,a=bl(10,yt-r),p[h]=i>0?(f/bl(10,s-i)%bl(10,i)|0)*a:0),u)for(;;)if(h==0){(p[0]+=a)==rn&&(p[0]=1,++t.e);break}else{if(p[h]+=a,p[h]!=rn)break;p[h--]=0,a=1}for(r=p.length;p[--r]===0;)p.pop();if(bt&&(t.e>Xp||t.e<-Xp))throw Error(d2+qt(t));return t}function FL(t,e){var n,r,i,a,s,o,u,f,h,p,y=t.constructor,x=y.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new y(t),bt?ft(e,x):e;if(u=t.d,p=e.d,r=e.e,f=t.e,u=u.slice(),s=f-r,s){for(h=s<0,h?(n=u,s=-s,o=p.length):(n=p,r=f,o=u.length),i=Math.max(Math.ceil(x/yt),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=p.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(u[i]!=p[i]){h=u[i]<p[i];break}s=0}for(h&&(n=u,u=p,p=n,e.s=-e.s),o=u.length,i=p.length-o;i>0;--i)u[o++]=0;for(i=p.length;i>s;){if(u[--i]<p[i]){for(a=i;a&&u[--a]===0;)u[a]=rn-1;--u[a],u[i]+=rn}u[i]-=p[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(e.d=u,e.e=r,bt?ft(e,x):e):new y(0)}function Fl(t,e,n){var r,i=qt(t),a=Li(t.d),s=a.length;return e?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+ys(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+ys(-i-1)+a,n&&(r=n-s)>0&&(a+=ys(r))):i>=s?(a+=ys(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+ys(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=ys(r))),t.s<0?"-"+a:a}function C5(t,e){if(t.length>e)return t.length=e,!0}function WL(t){var e,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Rl+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return N5(s,a.toString())}else if(typeof a!="string")throw Error(Rl+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,tJ.test(a))N5(s,a);else throw Error(Rl+a)}if(i.prototype=we,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=WL,i.config=i.set=nJ,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function nJ(t){if(!t||typeof t!="object")throw Error(Zr+"Object expected");var e,n,r,i=["precision",1,$c,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(qc(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Rl+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Rl+n+": "+r);return this}var h2=WL(eJ);jr=new h2(1);const rt=h2;function GL(t){var e;return t===0?e=1:e=Math.floor(new rt(t).abs().log(10).toNumber())+1,e}function KL(t,e,n){for(var r=new rt(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var YL=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},QL=(t,e,n)=>{if(t.lte(0))return new rt(0);var r=GL(t.toNumber()),i=new rt(10).pow(r),a=t.div(i),s=r!==1?.05:.1,o=new rt(Math.ceil(a.div(s).toNumber())).add(n).mul(s),u=o.mul(i);return e?new rt(u.toNumber()):new rt(Math.ceil(u.toNumber()))},rJ=(t,e,n)=>{var r=new rt(1),i=new rt(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new rt(10).pow(GL(t)-1),i=new rt(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new rt(Math.floor(t)))}else t===0?i=new rt(Math.floor((e-1)/2)):n||(i=new rt(Math.floor(t)));for(var s=Math.floor((e-1)/2),o=[],u=0;u<e;u++)o.push(i.add(new rt(u-s).mul(r)).toNumber());return o},XL=function(e,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new rt(0),tickMin:new rt(0),tickMax:new rt(0)};var s=QL(new rt(n).sub(e).div(r-1),i,a),o;e<=0&&n>=0?o=new rt(0):(o=new rt(e).add(n).div(2),o=o.sub(new rt(o).mod(s)));var u=Math.ceil(o.sub(e).div(s).toNumber()),f=Math.ceil(new rt(n).sub(o).div(s).toNumber()),h=u+f+1;return h>r?XL(e,n,r,i,a+1):(h<r&&(f=n>0?f+(r-h):f,u=n>0?u:u+(r-h)),{step:s,tickMin:o.sub(new rt(u).mul(s)),tickMax:o.add(new rt(f).mul(s))})},iJ=function(e){var[n,r]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,u]=YL([n,r]);if(o===-1/0||u===1/0){var f=u===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),u];return n>r?f.reverse():f}if(o===u)return rJ(o,i,a);var{step:h,tickMin:p,tickMax:y}=XL(o,u,s,a,0),x=KL(p,y.add(new rt(.1).mul(h)),h);return n>r?x.reverse():x},aJ=function(e,n){var[r,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=YL([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var u=Math.max(n,2),f=QL(new rt(o).sub(s).div(u-1),a,0),h=[...KL(new rt(s),new rt(o),f),o];return a===!1&&(h=h.map(p=>Math.round(p))),r>i?h.reverse():h},sJ=t=>t.rootProps.barCategoryGap,A0=t=>t.rootProps.stackOffset,ZL=t=>t.rootProps.reverseStackOrder,m2=t=>t.options.chartName,p2=t=>t.rootProps.syncId,JL=t=>t.rootProps.syncMethod,g2=t=>t.options.eventEmitter,zn={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ml={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},Ci={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},E0=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function T0(t,e,n){if(n!=="auto")return n;if(t!=null)return za(t,e)?"category":"number"}function k5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k5(Object(n),!0).forEach(function(r){lJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function lJ(t,e,n){return(e=oJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oJ(t){var e=cJ(t,"string");return typeof e=="symbol"?e:e+""}function cJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O5={allowDataOverflow:ml.allowDataOverflow,allowDecimals:ml.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ml.angleAxisId,includeHidden:!1,name:void 0,reversed:ml.reversed,scale:ml.scale,tick:ml.tick,tickCount:void 0,ticks:void 0,type:ml.type,unit:void 0},A5={allowDataOverflow:Ci.allowDataOverflow,allowDecimals:Ci.allowDecimals,allowDuplicatedCategory:Ci.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ci.radiusAxisId,includeHidden:Ci.includeHidden,name:void 0,reversed:Ci.reversed,scale:Ci.scale,tick:Ci.tick,tickCount:Ci.tickCount,ticks:void 0,type:Ci.type,unit:void 0},uJ=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},y2=le([uJ,HR],(t,e)=>{var n;if(t!=null)return t;var r=(n=T0(e,"angleAxis",O5.type))!==null&&n!==void 0?n:"category";return Zp(Zp({},O5),{},{type:r})}),fJ=(t,e)=>t.polarAxis.radiusAxis[e],x2=le([fJ,HR],(t,e)=>{var n;if(t!=null)return t;var r=(n=T0(e,"radiusAxis",A5.type))!==null&&n!==void 0?n:"category";return Zp(Zp({},A5),{},{type:r})}),M0=t=>t.polarOptions,v2=le([Ia,Ua,kn],cQ),e8=le([M0,v2],(t,e)=>{if(t!=null)return Ls(t.innerRadius,e,0)}),t8=le([M0,v2],(t,e)=>{if(t!=null)return Ls(t.outerRadius,e,e*.8)}),dJ=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},n8=le([M0],dJ);le([y2,n8],E0);var r8=le([v2,e8,t8],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});le([x2,r8],E0);var i8=le([Ct,M0,e8,t8,Ia,Ua],(t,e,n,r,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:s,cy:o,startAngle:u,endAngle:f}=e;return{cx:Ls(s,i,i/2),cy:Ls(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:u,endAngle:f,clockWise:!1}}}),cn=(t,e)=>e,_0=(t,e,n)=>n;function a8(t){return t?.id}function s8(t,e,n){var{chartData:r=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return t.forEach(o=>{var u,f=(u=o.data)!==null&&u!==void 0?u:r;if(!(f==null||f.length===0)){var h=a8(o);f.forEach((p,y)=>{var x=a==null||i?y:String(jn(p,a,null)),b=jn(p,o.dataKey,0),j;s.has(x)?j=s.get(x):j={},Object.assign(j,{[h]:b}),s.set(x,j)})}}),Array.from(s.values())}function b2(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var D0=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function P0(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function hJ(t,e){if(t.length===e.length){for(var n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}return!1}var un=t=>{var e=Ct(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Hc=t=>t.tooltip.settings.axisId;function mJ(t){if(t in mf)return mf[t]();var e="scale".concat(gd(t));if(e in mf)return mf[e]()}function E5(t){var e=t.ticks,n=t.bandwidth,r=t.range(),i=[Math.min(...r),Math.max(...r)];return{domain:()=>t.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:n?()=>n.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var o=t(a);if(o!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var u=t.bandwidth();switch(s.position){case"middle":o+=u/2;break;case"end":o+=u;break}}return o}}}}function T5(t,e,n){if(typeof t=="function")return E5(t.copy().domain(e).range(n));if(t!=null){var r=mJ(t);if(r!=null)return r.domain(e).range(n),E5(r)}}var pJ=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!_a(e)){for(var n,r,i=0;i<e.length;i++){var a=e[i];Ze(a)&&((n===void 0||a<n)&&(n=a),(r===void 0||a>r)&&(r=a))}return n!==void 0&&r!==void 0?[n,r]:void 0}return e}default:return e}};function M5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Jp(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M5(Object(n),!0).forEach(function(r){gJ(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gJ(t,e,n){return(e=yJ(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yJ(t){var e=xJ(t,"string");return typeof e=="symbol"?e:e+""}function xJ(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $w=[0,"auto"],tn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},l8=(t,e)=>t.cartesianAxis.xAxis[e],qa=(t,e)=>{var n=l8(t,e);return n??tn},nn={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:$w,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:vd},o8=(t,e)=>t.cartesianAxis.yAxis[e],Ha=(t,e)=>{var n=o8(t,e);return n??nn},vJ={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},w2=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??vJ},qn=(t,e,n)=>{switch(e){case"xAxis":return qa(t,n);case"yAxis":return Ha(t,n);case"zAxis":return w2(t,n);case"angleAxis":return y2(t,n);case"radiusAxis":return x2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},bJ=(t,e,n)=>{switch(e){case"xAxis":return qa(t,n);case"yAxis":return Ha(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},Od=(t,e,n)=>{switch(e){case"xAxis":return qa(t,n);case"yAxis":return Ha(t,n);case"angleAxis":return y2(t,n);case"radiusAxis":return x2(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},c8=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function u8(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var f8=t=>t.graphicalItems.cartesianItems,wJ=le([cn,_0],u8),d8=(t,e,n)=>t.filter(n).filter(r=>e?.includeHidden===!0?!0:!r.hide),Ad=le([f8,qn,wJ],d8,{memoizeOptions:{resultEqualityCheck:P0}}),h8=le([Ad],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(b2)),m8=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),SJ=le([Ad],m8),p8=t=>t.map(e=>e.data).filter(Boolean).flat(1),jJ=le([Ad],p8,{memoizeOptions:{resultEqualityCheck:P0}}),g8=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},S2=le([jJ,f2],g8),y8=(t,e,n)=>e?.dataKey!=null?t.map(r=>({value:jn(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:jn(i,r)}))):t.map(r=>({value:r})),R0=le([S2,qn,Ad],y8);function x8(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function Xm(t){if(Wi(t)||t instanceof Date){var e=Number(t);if(Ze(e))return e}}function _5(t){if(Array.isArray(t)){var e=[Xm(t[0]),Xm(t[1])];return _a(e)?e:void 0}var n=Xm(t);if(n!=null)return[n,n]}function Da(t){return t.map(Xm).filter(er)}function NJ(t,e,n){return!n||typeof e!="number"||Oa(e)?[]:n.length?Da(n.flatMap(r=>{var i=jn(t,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!Ze(a)||!Ze(s)))return[e-a,e+s]})):[]}var Zt=t=>{var e=un(t),n=Hc(t);return Od(t,e,n)},Ed=le([Zt],t=>t?.dataKey),CJ=le([h8,f2,Zt],s8),v8=(t,e,n,r)=>{var i={},a=e.reduce((s,o)=>{if(o.stackId==null)return s;var u=s[o.stackId];return u==null&&(u=[]),u.push(o),s[o.stackId]=u,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,u]=s,f=r?[...u].reverse():u,h=f.map(a8);return[o,{stackedData:$G(t,h,n),graphicalItems:f}]}))},kJ=le([CJ,h8,A0,ZL],v8),b8=(t,e,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(r==null&&n!=="zAxis"){var s=VG(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},OJ=le([qn],t=>t.allowDataOverflow),j2=t=>{var e;if(t==null||!("domain"in t))return $w;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var n=Da(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:$w},w8=le([qn],j2),S8=le([w8,OJ],$L),AJ=le([kJ,Gs,cn,S8],b8,{memoizeOptions:{resultEqualityCheck:D0}}),N2=t=>t.errorBars,EJ=(t,e,n)=>t.flatMap(r=>e[r.id]).filter(Boolean).filter(r=>x8(n,r)),eg=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},j8=(t,e,n,r,i)=>{var a,s;if(n.length>0&&t.forEach(o=>{n.forEach(u=>{var f,h,p=(f=r[u.id])===null||f===void 0?void 0:f.filter(N=>x8(i,N)),y=jn(o,(h=e.dataKey)!==null&&h!==void 0?h:u.dataKey),x=NJ(o,y,p);if(x.length>=2){var b=Math.min(...x),j=Math.max(...x);(a==null||b<a)&&(a=b),(s==null||j>s)&&(s=j)}var S=_5(y);S!=null&&(a=a==null?S[0]:Math.min(a,S[0]),s=s==null?S[1]:Math.max(s,S[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var u=_5(jn(o,e.dataKey));u!=null&&(a=a==null?u[0]:Math.min(a,u[0]),s=s==null?u[1]:Math.max(s,u[1]))}),Ze(a)&&Ze(s))return[a,s]},TJ=le([S2,qn,SJ,N2,cn],j8,{memoizeOptions:{resultEqualityCheck:D0}});function MJ(t){var{value:e}=t;if(Wi(e)||e instanceof Date)return e}var _J=(t,e,n)=>{var r=t.map(MJ).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&zP(r))?lL(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},N8=t=>t.referenceElements.dots,Vc=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),DJ=le([N8,cn,_0],Vc),C8=t=>t.referenceElements.areas,PJ=le([C8,cn,_0],Vc),k8=t=>t.referenceElements.lines,RJ=le([k8,cn,_0],Vc),O8=(t,e)=>{if(t!=null){var n=Da(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},LJ=le(DJ,cn,O8),A8=(t,e)=>{if(t!=null){var n=Da(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},BJ=le([PJ,cn],A8);function zJ(t){var e;if(t.x!=null)return Da([t.x]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.x);return n==null||n.length===0?[]:Da(n)}function IJ(t){var e;if(t.y!=null)return Da([t.y]);var n=(e=t.segment)===null||e===void 0?void 0:e.map(r=>r.y);return n==null||n.length===0?[]:Da(n)}var E8=(t,e)=>{if(t!=null){var n=t.flatMap(r=>e==="xAxis"?zJ(r):IJ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},UJ=le([RJ,cn],E8),$J=le(LJ,UJ,BJ,(t,e,n)=>eg(t,n,e)),T8=(t,e,n,r,i,a,s,o)=>{if(n!=null)return n;var u=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",f=u?eg(r,a,i):eg(a,i);return JZ(e,f,t.allowDataOverflow)},qJ=le([qn,w8,S8,AJ,TJ,$J,Ct,cn],T8,{memoizeOptions:{resultEqualityCheck:D0}}),HJ=[0,1],M8=(t,e,n,r,i,a,s)=>{if(!((t==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:u}=t,f=za(e,a);if(f&&o==null){var h;return lL(0,(h=n?.length)!==null&&h!==void 0?h:0)}return u==="category"?_J(r,t,f):i==="expand"?HJ:s}},C2=le([qn,Ct,S2,R0,A0,cn,qJ],M8);function VJ(t){return t in mf}var _8=(t,e,n)=>{if(t!=null){var{scale:r,type:i}=t;if(r==="auto")return i==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof r=="string"){var a="scale".concat(gd(r));return VJ(a)?a:"point"}}},Fc=le([qn,c8,m2],_8);function k2(t,e,n,r){if(!(n==null||r==null))return typeof t.scale=="function"?T5(t.scale,n,r):T5(e,n,r)}var D8=(t,e,n)=>{var r=j2(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&_a(t))return iJ(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&_a(t))return aJ(t,e.tickCount,e.allowDecimals)}},O2=le([C2,Od,Fc],D8),P8=(t,e,n,r)=>{if(r!=="angleAxis"&&t?.type==="number"&&_a(e)&&Array.isArray(n)&&n.length>0){var i,a,s=e[0],o=(i=n[0])!==null&&i!==void 0?i:0,u=e[1],f=(a=n[n.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(u,f)]}return e},FJ=le([qn,C2,O2,cn],P8),WJ=le(R0,qn,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(Da(t.map(p=>p.value))).sort((p,y)=>p-y),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var u=r[o],f=r[o+1];if(!(u==null||f==null)){var h=f-u;n=Math.min(n,h)}}return n/s}}),R8=le(WJ,Ct,sJ,kn,(t,e,n,r,i)=>i,(t,e,n,r,i)=>{if(!Ze(t))return 0;var a=e==="vertical"?r.height:r.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=Ls(n,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),GJ=(t,e,n)=>{var r=qa(t,e);return r==null||typeof r.padding!="string"?0:R8(t,"xAxis",e,n,r.padding)},KJ=(t,e,n)=>{var r=Ha(t,e);return r==null||typeof r.padding!="string"?0:R8(t,"yAxis",e,n,r.padding)},YJ=le(qa,GJ,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),QJ=le(Ha,KJ,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),XJ=le([kn,YJ,g0,p0,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),ZJ=le([kn,Ct,QJ,g0,p0,(t,e,n)=>n],(t,e,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),Td=(t,e,n,r)=>{var i;switch(e){case"xAxis":return XJ(t,n,r);case"yAxis":return ZJ(t,n,r);case"zAxis":return(i=w2(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return n8(t);case"radiusAxis":return r8(t,n);default:return}},L8=le([qn,Td],E0),JJ=le([Fc,FJ],pJ),L0=le([qn,Fc,JJ,L8],k2);le([Ad,N2,cn],EJ);function B8(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var B0=(t,e)=>e,z0=(t,e,n)=>n,eee=le(h0,B0,z0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(B8)),tee=le(m0,B0,z0,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(B8)),z8=(t,e)=>({width:t.width,height:e.height}),nee=(t,e)=>{var n=typeof e.width=="number"?e.width:vd;return{width:n,height:t.height}},ree=le(kn,qa,z8),iee=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},aee=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}},see=le(Ua,kn,eee,B0,z0,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=z8(e,o);s==null&&(s=iee(e,r,t));var f=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(f)*u.height,s+=(f?-1:1)*u.height}),a}),lee=le(Ia,kn,tee,B0,z0,(t,e,n,r,i)=>{var a={},s;return n.forEach(o=>{var u=nee(e,o);s==null&&(s=aee(e,r,t));var f=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(f)*u.width,s+=(f?-1:1)*u.width}),a}),oee=(t,e)=>{var n=qa(t,e);if(n!=null)return see(t,n.orientation,n.mirror)},cee=le([kn,qa,oee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),uee=(t,e)=>{var n=Ha(t,e);if(n!=null)return lee(t,n.orientation,n.mirror)},fee=le([kn,Ha,uee,(t,e)=>e],(t,e,n,r)=>{if(e!=null){var i=n?.[r];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),dee=le(kn,Ha,(t,e)=>{var n=typeof e.width=="number"?e.width:vd;return{width:n,height:t.height}}),I8=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=za(t,r),u=e.map(f=>f.value);if(s&&o&&a==="category"&&i&&zP(u))return u}},A2=le([Ct,R0,qn,cn],I8),U8=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=za(t,r);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},E2=le([Ct,R0,Od,cn],U8),D5=le([Ct,bJ,Fc,L0,A2,E2,Td,O2,cn],(t,e,n,r,i,a,s,o,u)=>{if(e!=null){var f=za(t,u);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:u,categoricalDomain:a,duplicateDomain:i,isCategorical:f,niceTicks:o,range:s,realScaleType:n,scale:r}}}),hee=(t,e,n,r,i,a,s,o,u)=>{if(!(e==null||r==null)){var f=za(t,u),{type:h,ticks:p,tickCount:y}=e,x=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,b=h==="category"&&r.bandwidth?r.bandwidth()/x:0;b=u==="angleAxis"&&a!=null&&a.length>=2?Fr(a[0]-a[1])*2*b:b;var j=p||i;return j?j.map((S,N)=>{var O=s?s.indexOf(S):S,C=r.map(O);return Ze(C)?{index:N,coordinate:C+b,value:S,offset:b}:null}).filter(er):f&&o?o.map((S,N)=>{var O=r.map(S);return Ze(O)?{coordinate:O+b,value:S,index:N,offset:b}:null}).filter(er):r.ticks?r.ticks(y).map((S,N)=>{var O=r.map(S);return Ze(O)?{coordinate:O+b,value:S,index:N,offset:b}:null}).filter(er):r.domain().map((S,N)=>{var O=r.map(S);return Ze(O)?{coordinate:O+b,value:s?s[S]:S,index:N,offset:b}:null}).filter(er)}},$8=le([Ct,Od,Fc,L0,O2,Td,A2,E2,cn],hee),mee=(t,e,n,r,i,a,s)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=za(t,s),{tickCount:u}=e,f=0;return f=s==="angleAxis"&&r?.length>=2?Fr(r[0]-r[1])*2*f:f,o&&a?a.map((h,p)=>{var y=n.map(h);return Ze(y)?{coordinate:y+f,value:h,index:p,offset:f}:null}).filter(er):n.ticks?n.ticks(u).map((h,p)=>{var y=n.map(h);return Ze(y)?{coordinate:y+f,value:h,index:p,offset:f}:null}).filter(er):n.domain().map((h,p)=>{var y=n.map(h);return Ze(y)?{coordinate:y+f,value:i?i[h]:h,index:p,offset:f}:null}).filter(er)}},q8=le([Ct,Od,L0,Td,A2,E2,cn],mee),H8=le(qn,L0,(t,e)=>{if(!(t==null||e==null))return Jp(Jp({},t),{},{scale:e})}),pee=le([qn,Fc,C2,L8],k2);le((t,e,n)=>w2(t,n),pee,(t,e)=>{if(!(t==null||e==null))return Jp(Jp({},t),{},{scale:e})});var gee=le([Ct,h0,m0],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),V8=t=>t.options.defaultTooltipEventType,F8=t=>t.options.validateTooltipEventTypes;function W8(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function T2(t,e){var n=V8(t),r=F8(t);return W8(e,n,r)}function yee(t){return _e(e=>T2(e,t))}var G8=(t,e)=>{var n,r=Number(e);if(!(Oa(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},xee=t=>t.tooltip.settings,Ss={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},vee={itemInteraction:{click:Ss,hover:Ss},axisInteraction:{click:Ss,hover:Ss},keyboardInteraction:Ss,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},K8=sr({name:"tooltip",initialState:vee,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:vt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:n,next:r}=e.payload,i=di(t).tooltipItemPayloads.indexOf(n);i>-1&&(t.tooltipItemPayloads[i]=r)},prepare:vt()},removeTooltipEntrySettings:{reducer(t,e){var n=di(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},prepare:vt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:bee,replaceTooltipEntrySettings:wee,removeTooltipEntrySettings:See,setTooltipSettingsState:jee,setActiveMouseOverItemIndex:Nee,mouseLeaveItem:xye,mouseLeaveChart:Y8,setActiveClickItemIndex:vye,setMouseOverAxisIndex:Q8,setMouseClickAxisIndex:Cee,setSyncInteraction:qw,setKeyboardInteraction:Hw}=K8.actions,kee=K8.reducer;function P5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P5(Object(n),!0).forEach(function(r){Oee(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Oee(t,e,n){return(e=Aee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aee(t){var e=Eee(t,"string");return typeof e=="symbol"?e:e+""}function Eee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Tee(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function Mee(t){return t.index!=null}var X8=(t,e,n,r)=>{if(e==null)return Ss;var i=Tee(t,e,n);if(i==null)return Ss;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(Mee(i)){if(a)return xm(xm({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return xm(xm({},Ss),{},{coordinate:i.coordinate})};function _ee(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var n=Number(t);return Number.isFinite(n)?n:void 0}function Dee(t,e){var n=_ee(t),r=e[0],i=e[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function Pee(t,e,n){if(n==null||e==null)return!0;var r=jn(t,e);return r==null||!_a(n)?!0:Dee(r,n)}var M2=(t,e,n,r)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!Ze(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var u=Math.max(s,Math.min(a,o)),f=e[u];return f==null||Pee(f,n,r)?String(u):null},Z8=(t,e,n,r,i,a,s)=>{if(a!=null){var o=s[0],u=o?.getPosition(a);if(u!=null)return u;var f=i?.[Number(a)];if(f)return n==="horizontal"?{x:f.coordinate,y:(r.top+e)/2}:{x:(r.left+t)/2,y:f.coordinate}}},J8=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},e6=t=>t.options.tooltipPayloadSearcher,Wc=t=>t.tooltip;function R5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function L5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R5(Object(n),!0).forEach(function(r){Ree(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ree(t,e,n){return(e=Lee(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lee(t){var e=Bee(t,"string");return typeof e=="symbol"?e:e+""}function Bee(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zee(t,e){return t??e}var t6=(t,e,n,r,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:u,dataStartIndex:f,dataEndIndex:h}=n,p=[];return t.reduce((y,x)=>{var b,{dataDefinedOnItem:j,settings:S}=x,N=zee(j,o),O=Array.isArray(N)?_R(N,f,h):N,C=(b=S?.dataKey)!==null&&b!==void 0?b:r,_=S?.nameKey,P;if(r&&Array.isArray(O)&&!Array.isArray(O[0])&&s==="axis"?P=IP(O,r,i):P=a(O,e,u,_),Array.isArray(P))P.forEach(T=>{var L=L5(L5({},S),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});y.push(RT({tooltipEntrySettings:L,dataKey:T.dataKey,payload:T.payload,value:jn(T.payload,T.dataKey),name:T.name}))});else{var D;y.push(RT({tooltipEntrySettings:S,dataKey:C,payload:P,value:jn(P,C),name:(D=jn(P,_))!==null&&D!==void 0?D:S?.name}))}return y},p)}},_2=le([Zt,c8,m2],_8),Iee=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),Uee=le([un,Hc],u8),Gc=le([Iee,Zt,Uee],d8,{memoizeOptions:{resultEqualityCheck:P0}}),$ee=le([Gc],t=>t.filter(b2)),qee=le([Gc],p8,{memoizeOptions:{resultEqualityCheck:P0}}),Kc=le([qee,Gs],g8),Hee=le([$ee,Gs,Zt],s8),D2=le([Kc,Zt,Gc],y8),n6=le([Zt],j2),Vee=le([Zt],t=>t.allowDataOverflow),r6=le([n6,Vee],$L),Fee=le([Gc],t=>t.filter(b2)),Wee=le([Hee,Fee,A0,ZL],v8),Gee=le([Wee,Gs,un,r6],b8),Kee=le([Gc],m8),Yee=le([Kc,Zt,Kee,N2,un],j8,{memoizeOptions:{resultEqualityCheck:D0}}),Qee=le([N8,un,Hc],Vc),Xee=le([Qee,un],O8),Zee=le([C8,un,Hc],Vc),Jee=le([Zee,un],A8),ete=le([k8,un,Hc],Vc),tte=le([ete,un],E8),nte=le([Xee,tte,Jee],eg),rte=le([Zt,n6,r6,Gee,Yee,nte,Ct,un],T8),Md=le([Zt,Ct,Kc,D2,A0,un,rte],M8),ite=le([Md,Zt,_2],D8),ate=le([Zt,Md,ite,un],P8),i6=t=>{var e=un(t),n=Hc(t),r=!1;return Td(t,e,n,r)},a6=le([Zt,i6],E0),s6=le([Zt,_2,ate,a6],k2),ste=le([Ct,D2,Zt,un],I8),lte=le([Ct,D2,Zt,un],U8),ote=(t,e,n,r,i,a,s,o)=>{if(e){var{type:u}=e,f=za(t,o);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?Fr(i[0]-i[1])*2*p:p,f&&s?s.map((y,x)=>{var b=r.map(y);return Ze(b)?{coordinate:b+p,value:y,index:x,offset:p}:null}).filter(er):r.domain().map((y,x)=>{var b=r.map(y);return Ze(b)?{coordinate:b+p,value:a?a[y]:y,index:x,offset:p}:null}).filter(er)}}},Va=le([Ct,Zt,_2,s6,i6,ste,lte,un],ote),P2=le([V8,F8,xee],(t,e,n)=>W8(n.shared,t,e)),l6=t=>t.tooltip.settings.trigger,R2=t=>t.tooltip.settings.defaultIndex,_d=le([Wc,P2,l6,R2],X8),Ff=le([_d,Kc,Ed,Md],M2),o6=le([Va,Ff],G8),cte=le([_d],t=>{if(t)return t.dataKey});le([_d],t=>{if(t)return t.graphicalItemId});var c6=le([Wc,P2,l6,R2],J8),ute=le([Ia,Ua,Ct,kn,Va,R2,c6],Z8),fte=le([_d,ute],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),dte=le([_d],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),hte=le([c6,Ff,Gs,Ed,o6,e6,P2],t6),mte=le([hte],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function B5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B5(Object(n),!0).forEach(function(r){pte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pte(t,e,n){return(e=gte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gte(t){var e=yte(t,"string");return typeof e=="symbol"?e:e+""}function yte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xte=()=>_e(Zt),vte=()=>{var t=xte(),e=_e(Va),n=_e(s6);return Mp(!t||!n?void 0:z5(z5({},t),{},{scale:n}),e)};function I5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Wo(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?I5(Object(n),!0).forEach(function(r){bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):I5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bte(t,e,n){return(e=wte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wte(t){var e=Ste(t,"string");return typeof e=="symbol"?e:e+""}function Ste(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jte=(t,e,n,r)=>{var i=e.find(a=>a&&a.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.chartY};if(t==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},Nte=(t,e,n,r)=>{var i=e.find(f=>f&&f.index===n);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=r;return Wo(Wo(Wo({},r),Sn(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:u}=r;return Wo(Wo(Wo({},r),Sn(r.cx,r.cy,o,u)),{},{angle:u,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function Cte(t,e){var{chartX:n,chartY:r}=t;return n>=e.left&&n<=e.left+e.width&&r>=e.top&&r<=e.top+e.height}var u6=(t,e,n,r,i)=>{var a,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var u,f,h,p,y,x=o>0?(u=n[o-1])===null||u===void 0?void 0:u.coordinate:(f=n[s-1])===null||f===void 0?void 0:f.coordinate,b=(h=n[o])===null||h===void 0?void 0:h.coordinate,j=o>=s-1?(p=n[0])===null||p===void 0?void 0:p.coordinate:(y=n[o+1])===null||y===void 0?void 0:y.coordinate,S=void 0;if(!(x==null||b==null||j==null))if(Fr(b-x)!==Fr(j-b)){var N=[];if(Fr(j-b)===Fr(i[1]-i[0])){S=j;var O=b+i[1]-i[0];N[0]=Math.min(O,(O+x)/2),N[1]=Math.max(O,(O+x)/2)}else{S=x;var C=j+i[1]-i[0];N[0]=Math.min(b,(C+b)/2),N[1]=Math.max(b,(C+b)/2)}var _=[Math.min(b,(S+b)/2),Math.max(b,(S+b)/2)];if(t>_[0]&&t<=_[1]||t>=N[0]&&t<=N[1]){var P;return(P=n[o])===null||P===void 0?void 0:P.index}}else{var D=Math.min(x,j),T=Math.max(x,j);if(t>(D+b)/2&&t<=(T+b)/2){var L;return(L=n[o])===null||L===void 0?void 0:L.index}}}else if(e)for(var I=0;I<s;I++){var q=e[I];if(q!=null){var U=e[I+1],z=e[I-1];if(I===0&&U!=null&&t<=(q.coordinate+U.coordinate)/2||I===s-1&&z!=null&&t>(q.coordinate+z.coordinate)/2||I>0&&I<s-1&&z!=null&&U!=null&&t>(q.coordinate+z.coordinate)/2&&t<=(q.coordinate+U.coordinate)/2)return q.index}}return-1},kte=()=>_e(m2),L2=(t,e)=>e,f6=(t,e,n)=>n,B2=(t,e,n,r)=>r,Ote=le(Va,t=>r0(t,e=>e.coordinate)),z2=le([Wc,L2,f6,B2],X8),I2=le([z2,Kc,Ed,Md],M2),Ate=(t,e,n)=>{if(e!=null){var r=Wc(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},d6=le([Wc,L2,f6,B2],J8),tg=le([Ia,Ua,Ct,kn,Va,B2,d6],Z8),Ete=le([z2,tg],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),h6=le([Va,I2],G8),Tte=le([d6,I2,Gs,Ed,h6,e6,L2],t6),Mte=le([z2,I2],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),_te=(t,e,n,r,i,a,s)=>{if(!(!t||!n||!r||!i)&&Cte(t,s)){var o=FG(t,e),u=u6(o,a,i,n,r),f=jte(e,i,u,t);return{activeIndex:String(u),activeCoordinate:f}}},Dte=(t,e,n,r,i,a,s)=>{if(!(!t||!r||!i||!a||!n)){var o=mQ(t,n);if(o){var u=WG(o,e),f=u6(u,s,a,r,i),h=Nte(e,a,f,o);return{activeIndex:String(f),activeCoordinate:h}}}},Pte=(t,e,n,r,i,a,s,o)=>{if(!(!t||!e||!r||!i||!a))return e==="horizontal"||e==="vertical"?_te(t,e,r,i,a,s,o):Dte(t,e,n,r,i,a,s)},Rte=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,n)=>n,(t,e,n)=>{if(e!=null){var r=t[e];if(r!=null)return n?r.panoramaElement:r.element}}),Lte=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(r=>parseInt(r,10)).concat(Object.values(zn)),n=Array.from(new Set(e));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:hJ}});function U5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?U5(Object(n),!0).forEach(function(r){Bte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):U5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bte(t,e,n){return(e=zte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zte(t){var e=Ite(t,"string");return typeof e=="symbol"?e:e+""}function Ite(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ute={},$te={zIndexMap:Object.values(zn).reduce((t,e)=>$5($5({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),Ute)},qte=new Set(Object.values(zn));function Hte(t){return qte.has(t)}var m6=sr({name:"zIndex",initialState:$te,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]?t.zIndexMap[n].consumers+=1:t.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:vt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(t.zIndexMap[n].consumers-=1,t.zIndexMap[n].consumers<=0&&!Hte(n)&&delete t.zIndexMap[n])},prepare:vt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n,element:r,isPanorama:i}=e.payload;t.zIndexMap[n]?i?t.zIndexMap[n].panoramaElement=r:t.zIndexMap[n].element=r:t.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:vt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:n}=e.payload;t.zIndexMap[n]&&(e.payload.isPanorama?t.zIndexMap[n].panoramaElement=void 0:t.zIndexMap[n].element=void 0)},prepare:vt()}}}),{registerZIndexPortal:Vte,unregisterZIndexPortal:Fte,registerZIndexPortalElement:Wte,unregisterZIndexPortalElement:Gte}=m6.actions,Kte=m6.reducer;function Fa(t){var{zIndex:e,children:n}=t,r=CK(),i=r&&e!==void 0&&e!==0,a=lr(),s=Vt();k.useLayoutEffect(()=>i?(s(Vte({zIndex:e})),()=>{s(Fte({zIndex:e}))}):zc,[s,e,i]);var o=_e(u=>Rte(u,e,a));return i?o?dj.createPortal(n,o):null:n}function Vw(){return Vw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vw.apply(null,arguments)}function q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q5(Object(n),!0).forEach(function(r){Yte(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Yte(t,e,n){return(e=Qte(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qte(t){var e=Xte(t,"string");return typeof e=="symbol"?e:e+""}function Xte(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zte(t){var{cursor:e,cursorComp:n,cursorProps:r}=t;return k.isValidElement(e)?k.cloneElement(e,r):k.createElement(n,r)}function Jte(t){var e,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:u,tooltipEventType:f,chartName:h}=t,p=n,y=r,x=i;if(!u||!p||h!=="ScatterChart"&&f!=="axis")return null;var b,j,S;if(h==="ScatterChart")b=p,j=OY,S=zn.cursorLine;else if(h==="BarChart")b=AY(o,p,a,s),j=rL,S=zn.cursorRectangle;else if(o==="radial"&&$P(p)){var{cx:N,cy:O,radius:C,startAngle:_,endAngle:P}=iL(p);b={cx:N,cy:O,startAngle:_,endAngle:P,innerRadius:C,outerRadius:C},j=sL,S=zn.cursorLine}else b={points:xQ(o,p,a)},j=ZR,S=zn.cursorLine;var D=typeof u=="object"&&"className"in u?u.className:void 0,T=vm(vm(vm(vm({stroke:"#ccc",pointerEvents:"none"},a),b),Zg(u)),{},{payload:y,payloadIndex:x,className:ot("recharts-tooltip-cursor",D)});return k.createElement(Fa,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:S},k.createElement(Zte,{cursor:u,cursorComp:j,cursorProps:T}))}function ene(t){var e=vte(),n=$R(),r=Ic(),i=kte();return e==null||n==null||r==null||i==null?null:k.createElement(Jte,Vw({},t,{offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var p6=k.createContext(null),tne=()=>k.useContext(p6),Gb={exports:{}},H5;function nne(){return H5||(H5=1,(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,f,h){this.fn=u,this.context=f,this.once=h||!1}function a(u,f,h,p,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var x=new i(h,p||u,y),b=n?n+f:f;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],x]:u._events[b].push(x):(u._events[b]=x,u._eventsCount++),u}function s(u,f){--u._eventsCount===0?u._events=new r:delete u._events[f]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var f=[],h,p;if(this._eventsCount===0)return f;for(p in h=this._events)e.call(h,p)&&f.push(n?p.slice(1):p);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},o.prototype.listeners=function(f){var h=n?n+f:f,p=this._events[h];if(!p)return[];if(p.fn)return[p.fn];for(var y=0,x=p.length,b=new Array(x);y<x;y++)b[y]=p[y].fn;return b},o.prototype.listenerCount=function(f){var h=n?n+f:f,p=this._events[h];return p?p.fn?1:p.length:0},o.prototype.emit=function(f,h,p,y,x,b){var j=n?n+f:f;if(!this._events[j])return!1;var S=this._events[j],N=arguments.length,O,C;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),N){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,p),!0;case 4:return S.fn.call(S.context,h,p,y),!0;case 5:return S.fn.call(S.context,h,p,y,x),!0;case 6:return S.fn.call(S.context,h,p,y,x,b),!0}for(C=1,O=new Array(N-1);C<N;C++)O[C-1]=arguments[C];S.fn.apply(S.context,O)}else{var _=S.length,P;for(C=0;C<_;C++)switch(S[C].once&&this.removeListener(f,S[C].fn,void 0,!0),N){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,p);break;case 4:S[C].fn.call(S[C].context,h,p,y);break;default:if(!O)for(P=1,O=new Array(N-1);P<N;P++)O[P-1]=arguments[P];S[C].fn.apply(S[C].context,O)}}return!0},o.prototype.on=function(f,h,p){return a(this,f,h,p,!1)},o.prototype.once=function(f,h,p){return a(this,f,h,p,!0)},o.prototype.removeListener=function(f,h,p,y){var x=n?n+f:f;if(!this._events[x])return this;if(!h)return s(this,x),this;var b=this._events[x];if(b.fn)b.fn===h&&(!y||b.once)&&(!p||b.context===p)&&s(this,x);else{for(var j=0,S=[],N=b.length;j<N;j++)(b[j].fn!==h||y&&!b[j].once||p&&b[j].context!==p)&&S.push(b[j]);S.length?this._events[x]=S.length===1?S[0]:S:s(this,x)}return this},o.prototype.removeAllListeners=function(f){var h;return f?(h=n?n+f:f,this._events[h]&&s(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Gb)),Gb.exports}var rne=nne();const ine=gi(rne);var Wf=new ine,Fw="recharts.syncEvent.tooltip",V5="recharts.syncEvent.brush",ane=(t,e)=>{if(e&&Array.isArray(t)){var n=Number.parseInt(e,10);if(!Oa(n))return t[n]}},sne={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},g6=sr({name:"options",initialState:sne,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),lne=g6.reducer,{createEventEmitter:one}=g6.actions;function cne(t){return t.tooltip.syncInteraction}var une={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},y6=sr({name:"chartData",initialState:une,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:F5,setDataStartEndIndexes:fne,setComputedData:bye}=y6.actions,dne=y6.reducer,hne=["x","y"];function W5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Go(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W5(Object(n),!0).forEach(function(r){mne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mne(t,e,n){return(e=pne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pne(t){var e=gne(t,"string");return typeof e=="symbol"?e:e+""}function gne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yne(t,e){if(t==null)return{};var n,r,i=xne(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function xne(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vne(){var t=_e(p2),e=_e(g2),n=Vt(),r=_e(JL),i=_e(Va),a=Ic(),s=y0(),o=_e(u=>u.rootProps.className);k.useEffect(()=>{if(t==null)return zc;var u=(f,h,p)=>{if(e!==p&&t===f){if(r==="index"){var y;if(s&&h!==null&&h!==void 0&&(y=h.payload)!==null&&y!==void 0&&y.coordinate&&h.payload.sourceViewBox){var x=h.payload.coordinate,{x:b,y:j}=x,S=yne(x,hne),{x:N,y:O,width:C,height:_}=h.payload.sourceViewBox,P=Go(Go({},S),{},{x:s.x+(C?(b-N)/C:0)*s.width,y:s.y+(_?(j-O)/_:0)*s.height});n(Go(Go({},h),{},{payload:Go(Go({},h.payload),{},{coordinate:P})}))}else n(h);return}if(i!=null){var D;if(typeof r=="function"){var T={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},L=r(i,T);D=i[L]}else r==="value"&&(D=i.find(V=>String(V.value)===h.payload.label));var{coordinate:I}=h.payload;if(D==null||h.payload.active===!1||I==null||s==null){n(qw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:q,y:U}=I,z=Math.min(q,s.x+s.width),H=Math.min(U,s.y+s.height),X={x:a==="horizontal"?D.coordinate:z,y:a==="horizontal"?H:D.coordinate},W=qw({active:h.payload.active,coordinate:X,dataKey:h.payload.dataKey,index:String(D.index),label:h.payload.label,sourceViewBox:h.payload.sourceViewBox,graphicalItemId:h.payload.graphicalItemId});n(W)}}};return Wf.on(Fw,u),()=>{Wf.off(Fw,u)}},[o,n,e,t,r,i,a,s])}function bne(){var t=_e(p2),e=_e(g2),n=Vt();k.useEffect(()=>{if(t==null)return zc;var r=(i,a,s)=>{e!==s&&t===i&&n(fne(a))};return Wf.on(V5,r),()=>{Wf.off(V5,r)}},[n,e,t])}function wne(){var t=Vt();k.useEffect(()=>{t(one())},[t]),vne(),bne()}function Sne(t,e,n,r,i,a){var s=_e(x=>Ate(x,t,e)),o=_e(g2),u=_e(p2),f=_e(JL),h=_e(cne),p=h?.active,y=y0();k.useEffect(()=>{if(!p&&u!=null&&o!=null){var x=qw({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:y,graphicalItemId:void 0});Wf.emit(Fw,u,x,o)}},[p,n,s,i,r,o,u,f,a,y])}function G5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function K5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?G5(Object(n),!0).forEach(function(r){jne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):G5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jne(t,e,n){return(e=Nne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nne(t){var e=Cne(t,"string");return typeof e=="symbol"?e:e+""}function Cne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kne(t){return t.dataKey}function One(t,e){return k.isValidElement(t)?k.cloneElement(t,e):typeof t=="function"?k.createElement(t,e):k.createElement(sY,e)}var Y5=[],Ane={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Nc(t){var e,n,r=_n(t,Ane),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:u,filterNull:f,isAnimationActive:h,offset:p,payloadUniqBy:y,position:x,reverseDirection:b,useTranslate3d:j,wrapperStyle:S,cursor:N,shared:O,trigger:C,defaultIndex:_,portal:P,axisId:D}=r,T=Vt(),L=typeof _=="number"?String(_):_;k.useEffect(()=>{T(jee({shared:O,trigger:C,axisId:D,active:i,defaultIndex:L}))},[T,O,C,D,i,L]);var I=y0(),q=XR(),U=yee(O),{activeIndex:z,isActive:H}=(e=_e(me=>Mte(me,U,C,L)))!==null&&e!==void 0?e:{},X=_e(me=>Tte(me,U,C,L)),W=_e(me=>h6(me,U,C,L)),V=_e(me=>Ete(me,U,C,L)),Y=X,J=tne(),oe=(n=i??H)!==null&&n!==void 0?n:!1,[ge,M]=nR([Y,oe]),$=U==="axis"?W:void 0;Sne(U,C,V,$,z,oe);var te=P??J;if(te==null||I==null||U==null)return null;var K=Y??Y5;oe||(K=Y5),f&&K.length&&(K=XP(K.filter(me=>me.value!=null&&(me.hide!==!0||r.includeHidden)),y,kne));var ue=K.length>0,Q=k.createElement(hY,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:h,active:oe,coordinate:V,hasPayload:ue,offset:p,position:x,reverseDirection:b,useTranslate3d:j,viewBox:I,wrapperStyle:S,lastBoundingBox:ge,innerRef:M,hasPortalFromProps:!!P},One(u,K5(K5({},r),{},{payload:K,label:$,active:oe,activeIndex:z,coordinate:V,accessibilityLayer:q})));return k.createElement(k.Fragment,null,dj.createPortal(Q,te),oe&&k.createElement(ene,{cursor:N,tooltipEventType:U,coordinate:V,payload:K,index:z}))}function Ene(t,e,n){return(e=Tne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tne(t){var e=Mne(t,"string");return typeof e=="symbol"?e:e+""}function Mne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class _ne{constructor(e){Ene(this,"cache",new Map),this.maxSize=e}get(e){var n=this.cache.get(e);return n!==void 0&&(this.cache.delete(e),this.cache.set(e,n)),n}set(e,n){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(e,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function Q5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Dne(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q5(Object(n),!0).forEach(function(r){Pne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pne(t,e,n){return(e=Rne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Lne(t,"string");return typeof e=="symbol"?e:e+""}function Lne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bne={cacheSize:2e3,enableCache:!0},x6=Dne({},Bne),X5=new _ne(x6.cacheSize),zne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Z5="recharts_measurement_span";function Ine(t,e){var n=e.fontSize||"",r=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var J5=(t,e)=>{try{var n=document.getElementById(Z5);n||(n=document.createElement("span"),n.setAttribute("id",Z5),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,zne,e),n.textContent="".concat(t);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},bf=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||w0.isSsr)return{width:0,height:0};if(!x6.enableCache)return J5(e,n);var r=Ine(e,n),i=X5.get(r);if(i)return i;var a=J5(e,n);return X5.set(r,a),a},v6;function Une(t,e,n){return(e=$ne(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ne(t){var e=qne(t,"string");return typeof e=="symbol"?e:e+""}function qne(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var e_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,t_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hne=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Vne=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,Fne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},Wne=["cm","mm","pt","pc","in","Q","px"];function Gne(t){return Wne.includes(t)}var ec="NaN";function Kne(t,e){return t*Fne[e]}class vn{static parse(e){var n,[,r,i]=(n=Vne.exec(e))!==null&&n!==void 0?n:[];return r==null?vn.NaN:new vn(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Oa(e)&&(this.unit=""),n!==""&&!Hne.test(n)&&(this.num=NaN,this.unit=""),Gne(n)&&(this.num=Kne(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new vn(NaN,""):new vn(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new vn(NaN,""):new vn(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vn(NaN,""):new vn(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new vn(NaN,""):new vn(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Oa(this.num)}}v6=vn;Une(vn,"NaN",new v6(NaN,""));function b6(t){if(t==null||t.includes(ec))return ec;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,a]=(n=e_.exec(e))!==null&&n!==void 0?n:[],s=vn.parse(r??""),o=vn.parse(a??""),u=i==="*"?s.multiply(o):s.divide(o);if(u.isNaN())return ec;e=e.replace(e_,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,[,h,p,y]=(f=t_.exec(e))!==null&&f!==void 0?f:[],x=vn.parse(h??""),b=vn.parse(y??""),j=p==="+"?x.add(b):x.subtract(b);if(j.isNaN())return ec;e=e.replace(t_,j.toString())}return e}var n_=/\(([^()]*)\)/;function Yne(t){for(var e=t,n;(n=n_.exec(e))!=null;){var[,r]=n;e=e.replace(n_,b6(r))}return e}function Qne(t){var e=t.replace(/\s+/g,"");return e=Yne(e),e=b6(e),e}function Xne(t){try{return Qne(t)}catch{return ec}}function Kb(t){var e=Xne(t.slice(5,-1));return e===ec?"":e}var Zne=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Jne=["dx","dy","angle","className","breakAll"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ww.apply(null,arguments)}function r_(t,e){if(t==null)return{};var n,r,i=ere(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ere(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var w6=/[ \f\n\r\t\v\u2028\u2029]+/,S6=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Cn(e)||(n?i=e.toString().split(""):i=e.toString().split(w6));var a=i.map(o=>({word:o,width:bf(o,r).width})),s=n?0:bf("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function tre(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var j6=(t,e,n,r)=>t.reduce((i,a)=>{var{word:s,width:o}=a,u=i[i.length-1];if(u&&o!=null&&(e==null||r||u.width+o+n<Number(e)))u.words.push(s),u.width+=o+n;else{var f={words:[s],width:o};i.push(f)}return i},[]),N6=t=>t.reduce((e,n)=>e.width>n.width?e:n),nre="",i_=(t,e,n,r,i,a,s,o)=>{var u=t.slice(0,e),f=S6({breakAll:n,style:r,children:u+nre});if(!f)return[!1,[]];var h=j6(f.wordsWithComputedWidth,a,s,o),p=h.length>i||N6(h).width>Number(a);return[p,h]},rre=(t,e,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:u}=t,f=Oe(a),h=String(s),p=j6(e,r,n,i);if(!f||i)return p;var y=p.length>a||N6(p).width>Number(r);if(!y)return p;for(var x=0,b=h.length-1,j=0,S;x<=b&&j<=h.length-1;){var N=Math.floor((x+b)/2),O=N-1,[C,_]=i_(h,O,u,o,a,r,n,i),[P]=i_(h,N,u,o,a,r,n,i);if(!C&&!P&&(x=N+1),C&&P&&(b=N-1),!C&&P){S=_;break}j++}return S||p},a_=t=>{var e=Cn(t)?[]:t.toString().split(w6);return[{words:e,width:void 0}]},ire=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=t;if((e||n)&&!w0.isSsr){var o,u,f=S6({breakAll:a,children:r,style:i});if(f){var{wordsWithComputedWidth:h,spaceWidth:p}=f;o=h,u=p}else return a_(r);return rre({breakAll:a,children:r,maxLines:s,style:i},o,u,e,!!n)}return a_(r)},C6="#808080",are={angle:0,breakAll:!1,capHeight:"0.71em",fill:C6,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},U2=k.forwardRef((t,e)=>{var n=_n(t,are),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:u,textAnchor:f,verticalAnchor:h}=n,p=r_(n,Zne),y=k.useMemo(()=>ire({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:u,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,u,p.style,p.width]),{dx:x,dy:b,angle:j,className:S,breakAll:N}=p,O=r_(p,Jne);if(!Wi(r)||!Wi(i)||y.length===0)return null;var C=Number(r)+(Oe(x)?x:0),_=Number(i)+(Oe(b)?b:0);if(!Ze(C)||!Ze(_))return null;var P;switch(h){case"start":P=Kb("calc(".concat(s,")"));break;case"middle":P=Kb("calc(".concat((y.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:P=Kb("calc(".concat(y.length-1," * -").concat(a,")"));break}var D=[],T=y[0];if(u&&T!=null){var L=T.width,{width:I}=p;D.push("scale(".concat(Oe(I)&&Oe(L)?I/L:1,")"))}return j&&D.push("rotate(".concat(j,", ").concat(C,", ").concat(_,")")),D.length&&(O.transform=D.join(" ")),k.createElement("text",Ww({},Un(O),{ref:e,x:C,y:_,className:ot("recharts-text",S),textAnchor:f,fill:o.includes("url")?C6:o}),y.map((q,U)=>{var z=q.words.join(N?"":" ");return k.createElement("tspan",{x:C,dy:U===0?P:a,key:"".concat(z,"-").concat(U)},z)}))});U2.displayName="Text";function s_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?s_(Object(n),!0).forEach(function(r){sre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):s_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sre(t,e,n){return(e=lre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function lre(t){var e=ore(t,"string");return typeof e=="symbol"?e:e+""}function ore(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cre=t=>{var{viewBox:e,position:n,offset:r=0,parentViewBox:i}=t,{x:a,y:s,height:o,upperWidth:u,lowerWidth:f}=Rj(e),h=a,p=a+(u-f)/2,y=(h+p)/2,x=(u+f)/2,b=h+u/2,j=o>=0?1:-1,S=j*r,N=j>0?"end":"start",O=j>0?"start":"end",C=u>=0?1:-1,_=C*r,P=C>0?"end":"start",D=C>0?"start":"end",T=i;if(n==="top"){var L={x:h+u/2,y:s-S,horizontalAnchor:"middle",verticalAnchor:N};return T&&(L.height=Math.max(s-T.y,0),L.width=u),L}if(n==="bottom"){var I={x:p+f/2,y:s+o+S,horizontalAnchor:"middle",verticalAnchor:O};return T&&(I.height=Math.max(T.y+T.height-(s+o),0),I.width=f),I}if(n==="left"){var q={x:y-_,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"};return T&&(q.width=Math.max(q.x-T.x,0),q.height=o),q}if(n==="right"){var U={x:y+x+_,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"};return T&&(U.width=Math.max(T.x+T.width-U.x,0),U.height=o),U}var z=T?{width:x,height:o}:{};return n==="insideLeft"?ki({x:y+_,y:s+o/2,horizontalAnchor:D,verticalAnchor:"middle"},z):n==="insideRight"?ki({x:y+x-_,y:s+o/2,horizontalAnchor:P,verticalAnchor:"middle"},z):n==="insideTop"?ki({x:h+u/2,y:s+S,horizontalAnchor:"middle",verticalAnchor:O},z):n==="insideBottom"?ki({x:p+f/2,y:s+o-S,horizontalAnchor:"middle",verticalAnchor:N},z):n==="insideTopLeft"?ki({x:h+_,y:s+S,horizontalAnchor:D,verticalAnchor:O},z):n==="insideTopRight"?ki({x:h+u-_,y:s+S,horizontalAnchor:P,verticalAnchor:O},z):n==="insideBottomLeft"?ki({x:p+_,y:s+o-S,horizontalAnchor:D,verticalAnchor:N},z):n==="insideBottomRight"?ki({x:p+f-_,y:s+o-S,horizontalAnchor:P,verticalAnchor:N},z):n&&typeof n=="object"&&(Oe(n.x)||$l(n.x))&&(Oe(n.y)||$l(n.y))?ki({x:a+Ls(n.x,x),y:s+Ls(n.y,o),horizontalAnchor:"end",verticalAnchor:"end"},z):ki({x:b,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},z)},ure=["labelRef"],fre=["content"];function l_(t,e){if(t==null)return{};var n,r,i=dre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function dre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function o_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pf(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?o_(Object(n),!0).forEach(function(r){hre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hre(t,e,n){return(e=mre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mre(t){var e=pre(t,"string");return typeof e=="symbol"?e:e+""}function pre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function va(){return va=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},va.apply(null,arguments)}var k6=k.createContext(null),gre=t=>{var{x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=t,u=k.useMemo(()=>({x:e,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[e,n,r,i,a,s]);return k.createElement(k6.Provider,{value:u},o)},O6=()=>{var t=k.useContext(k6),e=y0();return t||(e?Rj(e):void 0)},yre=k.createContext(null),xre=()=>{var t=k.useContext(yre),e=_e(i8);return t||e},vre=t=>{var{value:e,formatter:n}=t,r=Cn(t.children)?e:t.children;return typeof n=="function"?n(r):r},$2=t=>t!=null&&typeof t=="function",bre=(t,e)=>{var n=Fr(e-t),r=Math.min(Math.abs(e-t),360);return n*r},wre=(t,e,n,r,i)=>{var{offset:a,className:s}=t,{cx:o,cy:u,innerRadius:f,outerRadius:h,startAngle:p,endAngle:y,clockWise:x}=i,b=(f+h)/2,j=bre(p,y),S=j>=0?1:-1,N,O;switch(e){case"insideStart":N=p+S*a,O=x;break;case"insideEnd":N=y-S*a,O=!x;break;case"end":N=y+S*a,O=x;break;default:throw new Error("Unsupported position ".concat(e))}O=j<=0?O:!O;var C=Sn(o,u,b,N),_=Sn(o,u,b,N+(O?1:-1)*359),P="M".concat(C.x,",").concat(C.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(O?0:1,`,
    `).concat(_.x,",").concat(_.y),D=Cn(t.id)?_f("recharts-radial-line-"):t.id;return k.createElement("text",va({},r,{dominantBaseline:"central",className:ot("recharts-radial-bar-label",s)}),k.createElement("defs",null,k.createElement("path",{id:D,d:P})),k.createElement("textPath",{xlinkHref:"#".concat(D)},n))},Sre=(t,e,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:u}=t,f=(o+u)/2;if(n==="outside"){var{x:h,y:p}=Sn(r,i,s+e,f);return{x:h,y:p,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var y=(a+s)/2,{x,y:b}=Sn(r,i,y,f);return{x,y:b,textAnchor:"middle",verticalAnchor:"middle"}},Zm=t=>t!=null&&"cx"in t&&Oe(t.cx),jre={angle:0,offset:5,zIndex:zn.label,position:"middle",textBreakAll:!1};function Nre(t){if(!Zm(t))return t;var{cx:e,cy:n,outerRadius:r}=t,i=r*2;return{x:e-r,y:n-r,width:i,upperWidth:i,lowerWidth:i,height:i}}function xs(t){var e=_n(t,jre),{viewBox:n,parentViewBox:r,position:i,value:a,children:s,content:o,className:u="",textBreakAll:f,labelRef:h}=e,p=xre(),y=O6(),x=i==="center"?y:p??y,b,j,S;n==null?b=x:Zm(n)?b=n:b=Rj(n);var N=Nre(b);if(!b||Cn(a)&&Cn(s)&&!k.isValidElement(o)&&typeof o!="function")return null;var O=pf(pf({},e),{},{viewBox:b});if(k.isValidElement(o)){var{labelRef:C}=O,_=l_(O,ure);return k.cloneElement(o,_)}if(typeof o=="function"){var{content:P}=O,D=l_(O,fre);if(j=k.createElement(o,D),k.isValidElement(j))return j}else j=vre(e);var T=Un(e);if(Zm(b)){if(i==="insideStart"||i==="insideEnd"||i==="end")return wre(e,i,j,T,b);S=Sre(b,e.offset,e.position)}else{if(!N)return null;var L=cre({viewBox:N,position:i,offset:e.offset,parentViewBox:Zm(r)?void 0:r});S=pf(pf({x:L.x,y:L.y,textAnchor:L.horizontalAnchor,verticalAnchor:L.verticalAnchor},L.width!==void 0?{width:L.width}:{}),L.height!==void 0?{height:L.height}:{})}return k.createElement(Fa,{zIndex:e.zIndex},k.createElement(U2,va({ref:h,className:ot("recharts-label",u)},T,S,{textAnchor:tre(T.textAnchor)?T.textAnchor:S.textAnchor,breakAll:f}),j))}xs.displayName="Label";var Cre=(t,e,n)=>{if(!t)return null;var r={viewBox:e,labelRef:n};return t===!0?k.createElement(xs,va({key:"label-implicit"},r)):Wi(t)?k.createElement(xs,va({key:"label-implicit",value:t},r)):k.isValidElement(t)?t.type===xs?k.cloneElement(t,pf({key:"label-implicit"},r)):k.createElement(xs,va({key:"label-implicit",content:t},r)):$2(t)?k.createElement(xs,va({key:"label-implicit",content:t},r)):t&&typeof t=="object"?k.createElement(xs,va({},t,{key:"label-implicit"},r)):null};function kre(t){var{label:e,labelRef:n}=t,r=O6();return Cre(e,r,n)||null}var Yb={},Qb={},c_;function Ore(){return c_||(c_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n[n.length-1]}t.last=e})(Qb)),Qb}var Xb={},u_;function Are(){return u_||(u_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Array.isArray(n)?n:Array.from(n)}t.toArray=e})(Xb)),Xb}var f_;function Ere(){return f_||(f_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Ore(),n=Are(),r=Cj();function i(a){if(r.isArrayLike(a))return e.last(n.toArray(a))}t.last=i})(Yb)),Yb}var Zb,d_;function Tre(){return d_||(d_=1,Zb=Ere().last),Zb}var Mre=Tre();const _re=gi(Mre);var Dre=["valueAccessor"],Pre=["dataKey","clockWise","id","textBreakAll","zIndex"];function ng(){return ng=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ng.apply(null,arguments)}function h_(t,e){if(t==null)return{};var n,r,i=Rre(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Rre(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Lre=t=>Array.isArray(t.value)?_re(t.value):t.value,A6=k.createContext(void 0),Bre=A6.Provider,E6=k.createContext(void 0);E6.Provider;function zre(){return k.useContext(A6)}function Ire(){return k.useContext(E6)}function Jm(t){var{valueAccessor:e=Lre}=t,n=h_(t,Dre),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,u=h_(n,Pre),f=zre(),h=Ire(),p=f||h;return!p||!p.length?null:k.createElement(Fa,{zIndex:o??zn.label},k.createElement(Rs,{className:"recharts-label-list"},p.map((y,x)=>{var b,j=Cn(r)?e(y,x):jn(y.payload,r),S=Cn(a)?{}:{id:"".concat(a,"-").concat(x)};return k.createElement(xs,ng({key:"label-".concat(x)},Un(y),u,S,{fill:(b=n.fill)!==null&&b!==void 0?b:y.fill,parentViewBox:y.parentViewBox,value:j,textBreakAll:s,viewBox:y.viewBox,index:x,zIndex:0}))})))}Jm.displayName="LabelList";function Ure(t){var{label:e}=t;return e?e===!0?k.createElement(Jm,{key:"labelList-implicit"}):k.isValidElement(e)||$2(e)?k.createElement(Jm,{key:"labelList-implicit",content:e}):typeof e=="object"?k.createElement(Jm,ng({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function Gw(){return Gw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Gw.apply(null,arguments)}var T6=t=>{var{cx:e,cy:n,r,className:i}=t,a=ot("recharts-dot",i);return Oe(e)&&Oe(n)&&Oe(r)?k.createElement("circle",Gw({},Fi(t),Nj(t),{className:a,cx:e,cy:n,r})):null},$re={radiusAxis:{},angleAxis:{}},M6=sr({name:"polarAxis",initialState:$re,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:wye,removeRadiusAxis:Sye,addAngleAxis:jye,removeAngleAxis:Nye}=M6.actions,qre=M6.reducer;function Hre(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var _6=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,Jb={},m_;function Vre(){return m_||(m_=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const i=n[Symbol.toStringTag];return i==null||!Object.getOwnPropertyDescriptor(n,Symbol.toStringTag)?.writable?!1:n.toString()===`[object ${i}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(Jb)),Jb}var e1,p_;function Fre(){return p_||(p_=1,e1=Vre().isPlainObject),e1}var Wre=Fre();const Gre=gi(Wre);var g_,y_,x_,v_,b_;function w_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function S_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?w_(Object(n),!0).forEach(function(r){Kre(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kre(t,e,n){return(e=Yre(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yre(t){var e=Qre(t,"string");return typeof e=="symbol"?e:e+""}function Qre(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rg(){return rg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rg.apply(null,arguments)}function af(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var j_=(t,e,n,r,i)=>{var a=n-r,s;return s=Tt(g_||(g_=af(["M ",",",""])),t,e),s+=Tt(y_||(y_=af(["L ",",",""])),t+n,e),s+=Tt(x_||(x_=af(["L ",",",""])),t+n-a/2,e+i),s+=Tt(v_||(v_=af(["L ",",",""])),t+n-a/2-r,e+i),s+=Tt(b_||(b_=af(["L ",","," Z"])),t,e),s},Xre={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Zre=t=>{var e=_n(t,Xre),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=e,{animationEasing:u,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e,y=k.useRef(null),[x,b]=k.useState(-1),j=k.useRef(i),S=k.useRef(a),N=k.useRef(s),O=k.useRef(n),C=k.useRef(r),_=$j(t,"trapezoid-");if(k.useEffect(()=>{if(y.current&&y.current.getTotalLength)try{var X=y.current.getTotalLength();X&&b(X)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var P=ot("recharts-trapezoid",o);if(!p)return k.createElement("g",null,k.createElement("path",rg({},Un(e),{className:P,d:j_(n,r,i,a,s)})));var D=j.current,T=S.current,L=N.current,I=O.current,q=C.current,U="0px ".concat(x===-1?1:x,"px"),z="".concat(x,"px 0px"),H=JR(["strokeDasharray"],f,u);return k.createElement(Uj,{animationId:_,key:_,canBegin:x>0,duration:f,easing:u,isActive:p,begin:h},X=>{var W=Zn(D,i,X),V=Zn(T,a,X),Y=Zn(L,s,X),J=Zn(I,n,X),oe=Zn(q,r,X);y.current&&(j.current=W,S.current=V,N.current=Y,O.current=J,C.current=oe);var ge=X>0?{transition:H,strokeDasharray:z}:{strokeDasharray:U};return k.createElement("path",rg({},Un(e),{className:P,d:j_(J,oe,W,V,Y),ref:y,style:S_(S_({},ge),e.style)}))})},Jre=["option","shapeType","activeClassName"];function eie(t,e){if(t==null)return{};var n,r,i=tie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function tie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function N_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ig(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?N_(Object(n),!0).forEach(function(r){nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):N_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nie(t,e,n){return(e=rie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rie(t){var e=iie(t,"string");return typeof e=="symbol"?e:e+""}function iie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aie(t,e){return ig(ig({},e),t)}function sie(t,e){return t==="symbols"}function C_(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return k.createElement(rL,n);case"trapezoid":return k.createElement(Zre,n);case"sector":return k.createElement(sL,n);case"symbols":if(sie(e))return k.createElement(jj,n);break;case"curve":return k.createElement(ZR,n);default:return null}}function lie(t){return k.isValidElement(t)?t.props:t}function oie(t){var{option:e,shapeType:n,activeClassName:r="recharts-active-shape"}=t,i=eie(t,Jre),a;if(k.isValidElement(e))a=k.cloneElement(e,ig(ig({},i),lie(e)));else if(typeof e=="function")a=e(i,i.index);else if(Gre(e)&&typeof e!="boolean"){var s=aie(e,i);a=k.createElement(C_,{shapeType:n,elementProps:s})}else{var o=i;a=k.createElement(C_,{shapeType:n,elementProps:o})}return i.isActive?k.createElement(Rs,{className:r},a):a}function cie(t){var{tooltipEntrySettings:e}=t,n=Vt(),r=lr(),i=k.useRef(null);return k.useLayoutEffect(()=>{r||(i.current===null?n(bee(e)):i.current!==e&&n(wee({prev:i.current,next:e})),i.current=e)},[e,n,r]),k.useLayoutEffect(()=>()=>{i.current&&(n(See(i.current)),i.current=null)},[n]),null}function uie(t){var{legendPayload:e}=t,n=Vt(),r=lr(),i=k.useRef(null);return k.useLayoutEffect(()=>{r||(i.current===null?n(IK(e)):i.current!==e&&n(UK({prev:i.current,next:e})),i.current=e)},[n,r,e]),k.useLayoutEffect(()=>()=>{i.current&&(n($K(i.current)),i.current=null)},[n]),null}var t1,fie=()=>{var[t]=k.useState(()=>_f("uid-"));return t},die=(t1=eq.useId)!==null&&t1!==void 0?t1:fie;function hie(t,e){var n=die();return e||(t?"".concat(t,"-").concat(n):n)}var mie=k.createContext(void 0),pie=t=>{var{id:e,type:n,children:r}=t,i=hie("recharts-".concat(n),e);return k.createElement(mie.Provider,{value:i},r(i))},gie={cartesianItems:[],polarItems:[]},D6=sr({name:"graphicalItems",initialState:gie,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:vt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:n,next:r}=e.payload,i=di(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},prepare:vt()},removeCartesianGraphicalItem:{reducer(t,e){var n=di(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},prepare:vt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:vt()},removePolarGraphicalItem:{reducer(t,e){var n=di(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)},prepare:vt()}}}),{addCartesianGraphicalItem:yie,replaceCartesianGraphicalItem:xie,removeCartesianGraphicalItem:vie,addPolarGraphicalItem:Cye,removePolarGraphicalItem:kye}=D6.actions,bie=D6.reducer,wie=t=>{var e=Vt(),n=k.useRef(null);return k.useLayoutEffect(()=>{n.current===null?e(yie(t)):n.current!==t&&e(xie({prev:n.current,next:t})),n.current=t},[e,t]),k.useLayoutEffect(()=>()=>{n.current&&(e(vie(n.current)),n.current=null)},[e]),null},Sie=k.memo(wie),jie=["points"];function k_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k_(Object(n),!0).forEach(function(r){Nie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nie(t,e,n){return(e=Cie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cie(t){var e=kie(t,"string");return typeof e=="symbol"?e:e+""}function kie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ag(){return ag=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ag.apply(null,arguments)}function Oie(t,e){if(t==null)return{};var n,r,i=Aie(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Aie(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Eie(t){var{option:e,dotProps:n,className:r}=t;if(k.isValidElement(e))return k.cloneElement(e,n);if(typeof e=="function")return e(n);var i=ot(r,typeof e!="boolean"?e.className:""),a=n??{},{points:s}=a,o=Oie(a,jie);return k.createElement(T6,ag({},o,{className:i}))}function Tie(t,e){return t==null?!1:e?!0:t.length===1}function Mie(t){var{points:e,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:u,zIndex:f=zn.scatter}=t;if(!Tie(e,n))return null;var h=_6(n),p=jV(n),y=e.map((b,j)=>{var S,N,O=n1(n1(n1({r:3},s),p),{},{index:j,cx:(S=b.x)!==null&&S!==void 0?S:void 0,cy:(N=b.y)!==null&&N!==void 0?N:void 0,dataKey:a,value:b.value,payload:b.payload,points:e});return k.createElement(Eie,{key:"dot-".concat(j),option:n,dotProps:O,className:i})}),x={};return o&&u!=null&&(x.clipPath="url(#clipPath-".concat(h?"":"dots-").concat(u,")")),k.createElement(Fa,{zIndex:f},k.createElement(Rs,ag({className:r},x),y))}function O_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function A_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?O_(Object(n),!0).forEach(function(r){_ie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _ie(t,e,n){return(e=Die(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Die(t){var e=Pie(t,"string");return typeof e=="symbol"?e:e+""}function Pie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rie={xAxis:{},yAxis:{},zAxis:{}},P6=sr({name:"cartesianAxis",initialState:Rie,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:vt()},replaceXAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.xAxis[n.id],t.xAxis[r.id]=r)},prepare:vt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:vt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:vt()},replaceYAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.yAxis[n.id],t.yAxis[r.id]=r)},prepare:vt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:vt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:vt()},replaceZAxis:{reducer(t,e){var{prev:n,next:r}=e.payload;t.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete t.zAxis[n.id],t.zAxis[r.id]=r)},prepare:vt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:vt()},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload,i=t.yAxis[n];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&r===s[1]&&r!==i.width&&Math.abs(r-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,r].slice(-3);t.yAxis[n]=A_(A_({},i),{},{width:r,widthHistory:o})}}}}),{addXAxis:Lie,replaceXAxis:Bie,removeXAxis:zie,addYAxis:Iie,replaceYAxis:Uie,removeYAxis:$ie,addZAxis:Oye,replaceZAxis:Aye,removeZAxis:Eye,updateYAxisWidth:qie}=P6.actions,Hie=P6.reducer,Vie=le([kn],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),Fie=le([Vie,Ia,Ua],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),q2=()=>_e(Fie),Wie=()=>_e(mte);function E_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function r1(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?E_(Object(n),!0).forEach(function(r){Gie(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gie(t,e,n){return(e=Kie(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kie(t){var e=Yie(t,"string");return typeof e=="symbol"?e:e+""}function Yie(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qie=t=>{var{point:e,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:n,dataKey:a,cx:e.x,cy:e.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},u=r1(r1(r1({},o),Zg(i)),Nj(i)),f;return k.isValidElement(i)?f=k.cloneElement(i,u):typeof i=="function"?f=i(u):f=k.createElement(T6,u),k.createElement(Rs,{className:"recharts-active-dot",clipPath:s},f)};function Xie(t){var{points:e,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=zn.activeDot}=t,o=_e(Ff),u=Wie();if(e==null||u==null)return null;var f=e.find(h=>u.includes(h.payload));return Cn(f)?null:k.createElement(Fa,{zIndex:s},k.createElement(Qie,{point:f,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var Zie=t=>{var{chartData:e}=t,n=Vt(),r=lr();return k.useEffect(()=>r?()=>{}:(n(F5(e)),()=>{n(F5(void 0))}),[e,n,r]),null},T_={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},R6=sr({name:"brush",initialState:T_,reducers:{setBrushSettings(t,e){return e.payload==null?T_:e.payload}}}),{setBrushSettings:Tye}=R6.actions,Jie=R6.reducer;function eae(t){return(t%180+180)%180}var tae=function(e){var{width:n,height:r}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=eae(i),s=a*Math.PI/180,o=Math.atan(r/n),u=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(u)},nae={dots:[],areas:[],lines:[]},L6=sr({name:"referenceElements",initialState:nae,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=di(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=di(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=di(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:Mye,removeDot:_ye,addArea:Dye,removeArea:Pye,addLine:Rye,removeLine:Lye}=L6.actions,rae=L6.reducer,iae=k.createContext(void 0),aae=t=>{var{children:e}=t,[n]=k.useState("".concat(_f("recharts"),"-clip")),r=q2();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return k.createElement(iae.Provider,{value:n},k.createElement("defs",null,k.createElement("clipPath",{id:n},k.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function B6(t,e){if(e<1)return[];if(e===1)return t;for(var n=[],r=0;r<t.length;r+=e){var i=t[r];i!==void 0&&n.push(i)}return n}function sae(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return tae(r,n)}function lae(t,e,n){var r=n==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function Gf(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function oae(t,e){return B6(t,e+1)}function cae(t,e,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=e,u=0,f=1,h=s,p=function(){var b=r?.[u];if(b===void 0)return{v:B6(r,f)};var j=u,S,N=()=>(S===void 0&&(S=n(b,j)),S),O=b.coordinate,C=u===0||Gf(t,O,N,h,o);C||(u=0,h=s,f+=1),C&&(h=O+t*(N()/2+i),u+=f)},y;f<=a.length;)if(y=p(),y)return y.v;return[]}function uae(t,e,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:u}=e,f=1;f<=s;f++){for(var h=(s-1)%f,p=o,y=!0,x=function(){var _=r[j];if(_==null)return 0;var P=j,D,T=()=>(D===void 0&&(D=n(_,P)),D),L=_.coordinate,I=j===h||Gf(t,L,T,p,u);if(!I)return y=!1,1;I&&(p=L+t*(T()/2+i))},b,j=h;j<s&&(b=x(),!(b!==0&&b===1));j+=f);if(y){for(var S=[],N=h;N<s;N+=f){var O=r[N];O!=null&&S.push(O)}return S}}return[]}function M_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function En(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?M_(Object(n),!0).forEach(function(r){fae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fae(t,e,n){return(e=dae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dae(t){var e=hae(t,"string");return typeof e=="symbol"?e:e+""}function hae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mae(t,e,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=e,{end:u}=e,f=function(y){var x=a[y];if(x==null)return 1;var b=x,j,S=()=>(j===void 0&&(j=n(x,y)),j);if(y===s-1){var N=t*(b.coordinate+t*S()/2-u);a[y]=b=En(En({},b),{},{tickCoord:N>0?b.coordinate-N*t:b.coordinate})}else a[y]=b=En(En({},b),{},{tickCoord:b.coordinate});if(b.tickCoord!=null){var O=Gf(t,b.tickCoord,S,o,u);O&&(u=b.tickCoord-t*(S()/2+i),a[y]=En(En({},b),{},{isShow:!0}))}},h=s-1;h>=0;h--)f(h);return a}function pae(t,e,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:u,end:f}=e;if(a){var h=r[o-1];if(h!=null){var p=n(h,o-1),y=t*(h.coordinate+t*p/2-f);if(s[o-1]=h=En(En({},h),{},{tickCoord:y>0?h.coordinate-y*t:h.coordinate}),h.tickCoord!=null){var x=Gf(t,h.tickCoord,()=>p,u,f);x&&(f=h.tickCoord-t*(p/2+i),s[o-1]=En(En({},h),{},{isShow:!0}))}}}for(var b=a?o-1:o,j=function(O){var C=s[O];if(C==null)return 1;var _=C,P,D=()=>(P===void 0&&(P=n(C,O)),P);if(O===0){var T=t*(_.coordinate-t*D()/2-u);s[O]=_=En(En({},_),{},{tickCoord:T<0?_.coordinate-T*t:_.coordinate})}else s[O]=_=En(En({},_),{},{tickCoord:_.coordinate});if(_.tickCoord!=null){var L=Gf(t,_.tickCoord,D,u,f);L&&(u=_.tickCoord+t*(D()/2+i),s[O]=En(En({},_),{},{isShow:!0}))}},S=0;S<b;S++)j(S);return s}function H2(t,e,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:u,tickFormatter:f,unit:h,angle:p}=t;if(!i||!i.length||!r)return[];if(Oe(u)||w0.isSsr){var y;return(y=oae(i,Oe(u)?u:0))!==null&&y!==void 0?y:[]}var x=[],b=o==="top"||o==="bottom"?"width":"height",j=h&&b==="width"?bf(h,{fontSize:e,letterSpacing:n}):{width:0,height:0},S=(P,D)=>{var T=typeof f=="function"?f(P.value,D):P.value;return b==="width"?sae(bf(T,{fontSize:e,letterSpacing:n}),j,p):bf(T,{fontSize:e,letterSpacing:n})[b]},N=i[0],O=i[1],C=i.length>=2&&N!=null&&O!=null?Fr(O.coordinate-N.coordinate):1,_=lae(a,C,b);return u==="equidistantPreserveStart"?cae(C,_,S,i,s):u==="equidistantPreserveEnd"?uae(C,_,S,i,s):(u==="preserveStart"||u==="preserveStartEnd"?x=pae(C,_,S,i,s,u==="preserveStartEnd"):x=mae(C,_,S,i,s),x.filter(P=>P.isShow))}var gae=t=>{var{ticks:e,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(h=>{if(h){var p=h.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=n?n.getBoundingClientRect().width:0,u=i+a,f=s+u+o+(n?r:0);return Math.round(f)}return 0},yae=["axisLine","width","height","className","hide","ticks","axisType"];function xae(t,e){if(t==null)return{};var n,r,i=vae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function vae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function Wl(){return Wl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wl.apply(null,arguments)}function __(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Et(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?__(Object(n),!0).forEach(function(r){bae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):__(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bae(t,e,n){return(e=wae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wae(t){var e=Sae(t,"string");return typeof e=="symbol"?e:e+""}function Sae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ca={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:zn.axis};function jae(t){var{x:e,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:u}=t;if(!o)return null;var f=Et(Et(Et({},u),Fi(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var h=+(a==="top"&&!s||a==="bottom"&&s);f=Et(Et({},f),{},{x1:e,y1:n+h*i,x2:e+r,y2:n+h*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);f=Et(Et({},f),{},{x1:e+p*r,y1:n,x2:e+p*r,y2:n+i})}return k.createElement("line",Wl({},f,{className:ot("recharts-cartesian-axis-line",n0(o,"className"))}))}function Nae(t,e,n,r,i,a,s,o,u){var f,h,p,y,x,b,j=o?-1:1,S=t.tickSize||s,N=Oe(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":f=h=t.coordinate,y=n+ +!o*i,p=y-j*S,b=p-j*u,x=N;break;case"left":p=y=t.coordinate,h=e+ +!o*r,f=h-j*S,x=f-j*u,b=N;break;case"right":p=y=t.coordinate,h=e+ +o*r,f=h+j*S,x=f+j*u,b=N;break;default:f=h=t.coordinate,y=n+ +o*i,p=y+j*S,b=p+j*u,x=N;break}return{line:{x1:f,y1:p,x2:h,y2:y},tick:{x,y:b}}}function Cae(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function kae(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function Oae(t){var{option:e,tickProps:n,value:r}=t,i,a=ot(n.className,"recharts-cartesian-axis-tick-value");if(k.isValidElement(e))i=k.cloneElement(e,Et(Et({},n),{},{className:a}));else if(typeof e=="function")i=e(Et(Et({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=ot(s,Hre(e))),i=k.createElement(U2,Wl({},n,{className:s}),r)}return i}var Aae=k.forwardRef((t,e)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:u,tickTextProps:f,orientation:h,mirror:p,x:y,y:x,width:b,height:j,tickSize:S,tickMargin:N,fontSize:O,letterSpacing:C,getTicksConfig:_,events:P,axisType:D}=t,T=H2(Et(Et({},_),{},{ticks:n}),O,C),L=Cae(h,p),I=kae(h,p),q=Fi(_),U=Zg(r),z={};typeof i=="object"&&(z=i);var H=Et(Et({},q),{},{fill:"none"},z),X=T.map(Y=>Et({entry:Y},Nae(Y,y,x,b,j,h,S,p,N))),W=X.map(Y=>{var{entry:J,line:oe}=Y;return k.createElement(Rs,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(J.value,"-").concat(J.coordinate,"-").concat(J.tickCoord)},i&&k.createElement("line",Wl({},H,oe,{className:ot("recharts-cartesian-axis-tick-line",n0(i,"className"))})))}),V=X.map((Y,J)=>{var oe,ge,{entry:M,tick:$}=Y,te=Et(Et(Et(Et({verticalAnchor:I},q),{},{textAnchor:L,stroke:"none",fill:a},$),{},{index:J,payload:M,visibleTicksCount:T.length,tickFormatter:s,padding:u},f),{},{angle:(oe=(ge=f?.angle)!==null&&ge!==void 0?ge:q.angle)!==null&&oe!==void 0?oe:0}),K=Et(Et({},te),U);return k.createElement(Rs,Wl({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(M.value,"-").concat(M.coordinate,"-").concat(M.tickCoord)},qP(P,M,J)),r&&k.createElement(Oae,{option:r,tickProps:K,value:"".concat(typeof s=="function"?s(M.value,J):M.value).concat(o||"")}))});return k.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(D,"-ticks")},V.length>0&&k.createElement(Fa,{zIndex:zn.label},k.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(D,"-tick-labels"),ref:e},V)),W.length>0&&k.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(D,"-tick-lines")},W))}),Eae=k.forwardRef((t,e)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:u}=t,f=xae(t,yae),[h,p]=k.useState(""),[y,x]=k.useState(""),b=k.useRef(null);k.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var S;return gae({ticks:b.current,label:(S=t.labelRef)===null||S===void 0?void 0:S.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var j=k.useCallback(S=>{if(S){var N=S.getElementsByClassName("recharts-cartesian-axis-tick-value");b.current=N;var O=N[0];if(O){var C=window.getComputedStyle(O),_=C.fontSize,P=C.letterSpacing;(_!==h||P!==y)&&(p(_),x(P))}}},[h,y]);return s||r!=null&&r<=0||i!=null&&i<=0?null:k.createElement(Fa,{zIndex:t.zIndex},k.createElement(Rs,{className:ot("recharts-cartesian-axis",a)},k.createElement(jae,{x:t.x,y:t.y,width:r,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:n,otherSvgProps:Fi(t)}),k.createElement(Aae,{ref:j,axisType:u,events:f,fontSize:h,getTicksConfig:t,height:t.height,letterSpacing:y,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),k.createElement(gre,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},k.createElement(kre,{label:t.label,labelRef:t.labelRef}),t.children)))}),V2=k.forwardRef((t,e)=>{var n=_n(t,Ca);return k.createElement(Eae,Wl({},n,{ref:e}))});V2.displayName="CartesianAxis";var Tae=["x1","y1","x2","y2","key"],Mae=["offset"],_ae=["xAxisId","yAxisId"],Dae=["xAxisId","yAxisId"];function D_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?D_(Object(n),!0).forEach(function(r){Pae(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):D_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pae(t,e,n){return(e=Rae(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rae(t){var e=Lae(t,"string");return typeof e=="symbol"?e:e+""}function Lae(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Al(){return Al=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Al.apply(null,arguments)}function sg(t,e){if(t==null)return{};var n,r,i=Bae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Bae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var zae=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=t;return k.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function z6(t){var{option:e,lineItemProps:n}=t,r;if(k.isValidElement(e))r=k.cloneElement(e,n);else if(typeof e=="function")r=e(n);else{var i,{x1:a,y1:s,x2:o,y2:u,key:f}=n,h=sg(n,Tae),p=(i=Fi(h))!==null&&i!==void 0?i:{},{offset:y}=p,x=sg(p,Mae);r=k.createElement("line",Al({},x,{x1:a,y1:s,x2:o,y2:u,fill:"none",key:f}))}return r}function Iae(t){var{x:e,width:n,horizontal:r=!0,horizontalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=sg(t,_ae),u=i.map((f,h)=>{var p=Mn(Mn({},o),{},{x1:e,y1:f,x2:e+n,y2:f,key:"line-".concat(h),index:h});return k.createElement(z6,{key:"line-".concat(h),option:r,lineItemProps:p})});return k.createElement("g",{className:"recharts-cartesian-grid-horizontal"},u)}function Uae(t){var{y:e,height:n,vertical:r=!0,verticalPoints:i}=t;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=sg(t,Dae),u=i.map((f,h)=>{var p=Mn(Mn({},o),{},{x1:f,y1:e,x2:f,y2:e+n,key:"line-".concat(h),index:h});return k.createElement(z6,{option:r,lineItemProps:p,key:"line-".concat(h)})});return k.createElement("g",{className:"recharts-cartesian-grid-vertical"},u)}function $ae(t){var{horizontalFill:e,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:u=!0}=t;if(!u||!e||!e.length||o==null)return null;var f=o.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var x=f[y+1],b=x==null,j=b?i+s-p:x-p;if(j<=0)return null;var S=y%e.length;return k.createElement("rect",{key:"react-".concat(y),y:p,x:r,height:j,width:a,stroke:"none",fill:e[S],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function qae(t){var{vertical:e=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:u}=t;if(!e||!n||!n.length)return null;var f=u.map(p=>Math.round(p+i-i)).sort((p,y)=>p-y);i!==f[0]&&f.unshift(0);var h=f.map((p,y)=>{var x=f[y+1],b=x==null,j=b?i+s-p:x-p;if(j<=0)return null;var S=y%n.length;return k.createElement("rect",{key:"react-".concat(y),x:p,y:a,width:j,height:o,stroke:"none",fill:n[S],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return k.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Hae=(t,e)=>{var{xAxis:n,width:r,height:i,offset:a}=t;return DR(H2(Mn(Mn(Mn({},Ca),n),{},{ticks:PR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,e)},Vae=(t,e)=>{var{yAxis:n,width:r,height:i,offset:a}=t;return DR(H2(Mn(Mn(Mn({},Ca),n),{},{ticks:PR(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,e)},Fae={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:zn.grid};function Gl(t){var e=Lj(),n=Bj(),r=$R(),i=Mn(Mn({},_n(t,Fae)),{},{x:Oe(t.x)?t.x:r.left,y:Oe(t.y)?t.y:r.top,width:Oe(t.width)?t.width:r.width,height:Oe(t.height)?t.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:u,width:f,height:h,syncWithTicks:p,horizontalValues:y,verticalValues:x}=i,b=lr(),j=_e(I=>D5(I,"xAxis",a,b)),S=_e(I=>D5(I,"yAxis",s,b));if(!Gi(f)||!Gi(h)||!Oe(o)||!Oe(u))return null;var N=i.verticalCoordinatesGenerator||Hae,O=i.horizontalCoordinatesGenerator||Vae,{horizontalPoints:C,verticalPoints:_}=i;if((!C||!C.length)&&typeof O=="function"){var P=y&&y.length,D=O({yAxis:S?Mn(Mn({},S),{},{ticks:P?y:S.ticks}):void 0,width:e??f,height:n??h,offset:r},P?!0:p);_p(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(C=D)}if((!_||!_.length)&&typeof N=="function"){var T=x&&x.length,L=N({xAxis:j?Mn(Mn({},j),{},{ticks:T?x:j.ticks}):void 0,width:e??f,height:n??h,offset:r},T?!0:p);_p(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof L,"]")),Array.isArray(L)&&(_=L)}return k.createElement(Fa,{zIndex:i.zIndex},k.createElement("g",{className:"recharts-cartesian-grid"},k.createElement(zae,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),k.createElement($ae,Al({},i,{horizontalPoints:C})),k.createElement(qae,Al({},i,{verticalPoints:_})),k.createElement(Iae,Al({},i,{offset:r,horizontalPoints:C,xAxis:j,yAxis:S})),k.createElement(Uae,Al({},i,{offset:r,verticalPoints:_,xAxis:j,yAxis:S}))))}Gl.displayName="CartesianGrid";var Wae={},I6=sr({name:"errorBars",initialState:Wae,reducers:{addErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]||(t[n]=[]),t[n].push(r)},replaceErrorBar:(t,e)=>{var{itemId:n,prev:r,next:i}=e.payload;t[n]&&(t[n]=t[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:n,errorBar:r}=e.payload;t[n]&&(t[n]=t[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:Bye,replaceErrorBar:zye,removeErrorBar:Iye}=I6.actions,Gae=I6.reducer,Kae=["children"];function Yae(t,e){if(t==null)return{};var n,r,i=Qae(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qae(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Xae={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Zae=k.createContext(Xae);function Jae(t){var{children:e}=t,n=Yae(t,Kae);return k.createElement(Zae.Provider,{value:n},e)}function U6(t,e){var n,r,i=_e(f=>qa(f,t)),a=_e(f=>Ha(f,e)),s=(n=i?.allowDataOverflow)!==null&&n!==void 0?n:tn.allowDataOverflow,o=(r=a?.allowDataOverflow)!==null&&r!==void 0?r:nn.allowDataOverflow,u=s||o;return{needClip:u,needClipX:s,needClipY:o}}function ese(t){var{xAxisId:e,yAxisId:n,clipPathId:r}=t,i=q2(),{needClipX:a,needClipY:s,needClip:o}=U6(e,n);if(!o||!i)return null;var{x:u,y:f,width:h,height:p}=i;return k.createElement("clipPath",{id:"clipPath-".concat(r)},k.createElement("rect",{x:a?u:u-h/2,y:s?f:f-p/2,width:a?h:h*2,height:s?p:p*2}))}var $6=(t,e,n,r)=>H8(t,"xAxis",e,r),q6=(t,e,n,r)=>q8(t,"xAxis",e,r),H6=(t,e,n,r)=>H8(t,"yAxis",n,r),V6=(t,e,n,r)=>q8(t,"yAxis",n,r),tse=le([Ct,$6,H6,q6,V6],(t,e,n,r,i)=>za(t,"xAxis")?Mp(e,r,!1):Mp(n,i,!1)),nse=(t,e,n,r,i)=>i;function rse(t){return t.type==="line"}var ise=le([f8,nse],(t,e)=>t.filter(rse).find(n=>n.id===e)),ase=le([Ct,$6,H6,q6,V6,ise,tse,f2],(t,e,n,r,i,a,s,o)=>{var{chartData:u,dataStartIndex:f,dataEndIndex:h}=o;if(!(a==null||e==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||t!=="horizontal"&&t!=="vertical")){var{dataKey:p,data:y}=a,x;if(y!=null&&y.length>0?x=y:x=u?.slice(f,h+1),x!=null)return Wse({layout:t,xAxis:e,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:p,bandSize:s,displayedData:x})}});function sse(t){var e=Zg(t),n=3,r=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var i1={exports:{}},a1={};var P_;function lse(){if(P_)return a1;P_=1;var t=_c();function e(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:e,r=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return a1.useSyncExternalStoreWithSelector=function(u,f,h,p,y){var x=i(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=s(function(){function S(P){if(!N){if(N=!0,O=P,P=p(P),y!==void 0&&b.hasValue){var D=b.value;if(y(D,P))return C=D}return C=P}if(D=C,n(O,P))return D;var T=p(P);return y!==void 0&&y(D,T)?(O=P,D):(O=P,C=T)}var N=!1,O,C,_=h===void 0?null:h;return[function(){return S(f())},_===null?void 0:function(){return S(_())}]},[f,h,p,y]);var j=r(u,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=j},[j]),o(j),j},a1}var R_;function ose(){return R_||(R_=1,i1.exports=lse()),i1.exports}ose();function cse(t){t()}function use(){let t=null,e=null;return{clear(){t=null,e=null},notify(){cse(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var L_={notify(){},get:()=>[]};function fse(t,e){let n,r=L_,i=0,a=!1;function s(j){h();const S=r.subscribe(j);let N=!1;return()=>{N||(N=!0,S(),p())}}function o(){r.notify()}function u(){b.onStateChange&&b.onStateChange()}function f(){return a}function h(){i++,n||(n=t.subscribe(u),r=use())}function p(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=L_)}function y(){a||(a=!0,h())}function x(){a&&(a=!1,p())}const b={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:u,isSubscribed:f,trySubscribe:y,tryUnsubscribe:x,getListeners:()=>r};return b}var dse=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hse=dse(),mse=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pse=mse(),gse=()=>hse||pse?k.useLayoutEffect:k.useEffect,yse=gse();function B_(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function xse(t,e){if(B_(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!B_(t[n[i]],e[n[i]]))return!1;return!0}var vse=Symbol.for("react-redux-context"),bse=typeof globalThis<"u"?globalThis:{};function wse(){if(!k.createContext)return{};const t=bse[vse]??=new Map;let e=t.get(k.createContext);return e||(e=k.createContext(null),t.set(k.createContext,e)),e}var Sse=wse();function jse(t){const{children:e,context:n,serverState:r,store:i}=t,a=k.useMemo(()=>{const u=fse(i);return{store:i,subscription:u,getServerState:r?()=>r:void 0}},[i,r]),s=k.useMemo(()=>i.getState(),[i]);yse(()=>{const{subscription:u}=a;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),s!==i.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[a,s]);const o=n||Sse;return k.createElement(o.Provider,{value:a},e)}var Nse=jse,Cse=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function kse(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function F2(t,e){var n=new Set([...Object.keys(t),...Object.keys(e)]);for(var r of n)if(Cse.has(r)){if(t[r]==null&&e[r]==null)continue;if(!xse(t[r],e[r]))return!1}else if(!kse(t[r],e[r]))return!1;return!0}var Ose=["id"],Ase=["type","layout","connectNulls","needClip","shape"],Ese=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function Kf(){return Kf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kf.apply(null,arguments)}function z_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?z_(Object(n),!0).forEach(function(r){Tse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):z_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tse(t,e,n){return(e=Mse(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Mse(t){var e=_se(t,"string");return typeof e=="symbol"?e:e+""}function _se(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function W2(t,e){if(t==null)return{};var n,r,i=Dse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Dse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Pse=t=>{var{dataKey:e,name:n,stroke:r,legendType:i,hide:a}=t;return[{inactive:a,dataKey:e,type:i,color:r,value:RR(n,e),payload:t}]},Rse=k.memo(t=>{var{dataKey:e,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:u,tooltipType:f,id:h}=t,p={dataDefinedOnItem:n,getPosition:zc,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:RR(s,e),hide:o,type:f,color:r,unit:u,graphicalItemId:h}};return k.createElement(cie,{tooltipEntrySettings:p})}),F6=(t,e)=>"".concat(e,"px ").concat(t-e,"px");function Lse(t,e){for(var n=t.length%2!==0?[...t,0]:t,r=[],i=0;i<e;++i)r=[...r,...n];return r}var Bse=(t,e,n)=>{var r=n.reduce((x,b)=>x+b);if(!r)return F6(e,t);for(var i=Math.floor(t/r),a=t%r,s=e-t,o=[],u=0,f=0;u<n.length;f+=(h=n[u])!==null&&h!==void 0?h:0,++u){var h,p=n[u];if(p!=null&&f+p>a){o=[...n.slice(0,u),a-f];break}}var y=o.length%2===0?[0,s]:[s];return[...Lse(n,i),...o,...y].map(x=>"".concat(x,"px")).join(", ")};function zse(t){var{clipPathId:e,points:n,props:r}=t,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,u=W2(r,Ose),f=Fi(u);return k.createElement(Mie,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:f,needClip:s,clipPathId:e})}function Ise(t){var{showLabels:e,children:n,points:r}=t,i=k.useMemo(()=>r?.map(a=>{var s,o,u={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Mi(Mi({},u),{},{value:a.value,payload:a.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[r]);return k.createElement(Bre,{value:e?i:void 0},n)}function I_(t){var{clipPathId:e,pathRef:n,points:r,strokeDasharray:i,props:a}=t,{type:s,layout:o,connectNulls:u,needClip:f,shape:h}=a,p=W2(a,Ase),y=Mi(Mi({},Un(p)),{},{fill:"none",className:"recharts-line-curve",clipPath:f?"url(#clipPath-".concat(e,")"):void 0,points:r,type:s,layout:o,connectNulls:u,strokeDasharray:i??a.strokeDasharray});return k.createElement(k.Fragment,null,r?.length>1&&k.createElement(oie,Kf({shapeType:"curve",option:h},y,{pathRef:n})),k.createElement(zse,{points:r,clipPathId:e,props:a}))}function Use(t){try{return t&&t.getTotalLength&&t.getTotalLength()||0}catch{return 0}}function $se(t){var{clipPathId:e,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=t,{points:s,strokeDasharray:o,isAnimationActive:u,animationBegin:f,animationDuration:h,animationEasing:p,animateNewValues:y,width:x,height:b,onAnimationEnd:j,onAnimationStart:S}=n,N=i.current,O=$j(s,"recharts-line-"),C=k.useRef(O),[_,P]=k.useState(!1),D=!_,T=k.useCallback(()=>{typeof j=="function"&&j(),P(!1)},[j]),L=k.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),I=Use(r.current),q=k.useRef(0);C.current!==O&&(q.current=a.current,C.current=O);var U=q.current;return k.createElement(Ise,{points:s,showLabels:D},n.children,k.createElement(Uj,{animationId:O,begin:f,duration:h,isActive:u,easing:p,onAnimationEnd:T,onAnimationStart:L,key:O},z=>{var H=Zn(U,I+U,z),X=Math.min(H,I),W;if(u)if(o){var V="".concat(o).split(/[,\s]+/gim).map(oe=>parseFloat(oe));W=Bse(X,I,V)}else W=F6(I,X);else W=o==null?void 0:String(o);if(z>0&&I>0&&(i.current=s,a.current=Math.max(a.current,X)),N){var Y=N.length/s.length,J=z===1?s:s.map((oe,ge)=>{var M=Math.floor(ge*Y);if(N[M]){var $=N[M];return Mi(Mi({},oe),{},{x:Zn($.x,oe.x,z),y:Zn($.y,oe.y,z)})}return y?Mi(Mi({},oe),{},{x:Zn(x*2,oe.x,z),y:Zn(b/2,oe.y,z)}):Mi(Mi({},oe),{},{x:oe.x,y:oe.y})});return i.current=J,k.createElement(I_,{props:n,points:J,clipPathId:e,pathRef:r,strokeDasharray:W})}return k.createElement(I_,{props:n,points:s,clipPathId:e,pathRef:r,strokeDasharray:W})}),k.createElement(Ure,{label:n.label}))}function qse(t){var{clipPathId:e,props:n}=t,r=k.useRef(null),i=k.useRef(0),a=k.useRef(null);return k.createElement($se,{props:n,clipPathId:e,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Hse=(t,e)=>{var n,r;return{x:(n=t.x)!==null&&n!==void 0?n:void 0,y:(r=t.y)!==null&&r!==void 0?r:void 0,value:t.value,errorVal:jn(t.payload,e)}};class Vse extends k.Component{render(){var{hide:e,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:u,width:f,height:h,id:p,needClip:y,zIndex:x}=this.props;if(e)return null;var b=ot("recharts-line",i),j=p,{r:S,strokeWidth:N}=sse(n),O=_6(n),C=S*2+N,_=y?"url(#clipPath-".concat(O?"":"dots-").concat(j,")"):void 0;return k.createElement(Fa,{zIndex:x},k.createElement(Rs,{className:b},y&&k.createElement("defs",null,k.createElement(ese,{clipPathId:j,xAxisId:a,yAxisId:s}),!O&&k.createElement("clipPath",{id:"clipPath-dots-".concat(j)},k.createElement("rect",{x:u-C/2,y:o-C/2,width:f+C,height:h+C}))),k.createElement(Jae,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Hse,errorBarOffset:0},k.createElement(qse,{props:this.props,clipPathId:j}))),k.createElement(Xie,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:_}))}}var W6={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:zn.line,type:"linear"};function Fse(t){var e=_n(t,W6),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:u,hide:f,isAnimationActive:h,label:p,legendType:y,xAxisId:x,yAxisId:b,id:j}=e,S=W2(e,Ese),{needClip:N}=U6(x,b),O=q2(),C=Ic(),_=lr(),P=_e(q=>ase(q,x,b,_,j));if(C!=="horizontal"&&C!=="vertical"||P==null||O==null)return null;var{height:D,width:T,x:L,y:I}=O;return k.createElement(Vse,Kf({},S,{id:j,connectNulls:o,dot:u,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:h,hide:f,label:p,legendType:y,xAxisId:x,yAxisId:b,points:P,layout:C,height:D,width:T,left:L,top:I,needClip:N}))}function Wse(t){var{layout:e,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:u}=t;return u.map((f,h)=>{var p=jn(f,s);if(e==="horizontal"){var y=_T({axis:n,ticks:i,bandSize:o,entry:f,index:h}),x=Cn(p)?null:r.scale.map(p);return{x:y,y:x??null,value:p,payload:f}}var b=Cn(p)?null:n.scale.map(p),j=_T({axis:r,ticks:a,bandSize:o,entry:f,index:h});return b==null||j==null?null:{x:b,y:j,value:p,payload:f}}).filter(Boolean)}function Gse(t){var e=_n(t,W6),n=lr();return k.createElement(pie,{id:e.id,type:"line"},r=>k.createElement(k.Fragment,null,k.createElement(uie,{legendPayload:Pse(e)}),k.createElement(Rse,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:r}),k.createElement(Sie,{type:"line",id:r,data:e.data,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,dataKey:e.dataKey,hide:e.hide,isPanorama:n}),k.createElement(Fse,Kf({},e,{id:r}))))}var Kl=k.memo(Gse,F2);Kl.displayName="Line";var Kse=["domain","range"],Yse=["domain","range"];function U_(t,e){if(t==null)return{};var n,r,i=Qse(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function $_(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function G6(t,e){if(t===e)return!0;var{domain:n,range:r}=t,i=U_(t,Kse),{domain:a,range:s}=e,o=U_(e,Yse);return!$_(n,a)||!$_(r,s)?!1:F2(i,o)}var Xse=["type"],Zse=["dangerouslySetInnerHTML","ticks","scale"],Jse=["id","scale"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kw.apply(null,arguments)}function q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q_(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return(e=tle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return typeof e=="symbol"?e:e+""}function nle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yw(t,e){if(t==null)return{};var n,r,i=rle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ile(t){var e=Vt(),n=k.useRef(null),r=qR(),{type:i}=t,a=Yw(t,Xse),s=T0(r,"xAxis",i),o=k.useMemo(()=>{if(s!=null)return H_(H_({},a),{},{type:s})},[a,s]);return k.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Lie(o)):n.current!==o&&e(Bie({prev:n.current,next:o})),n.current=o)},[o,e]),k.useLayoutEffect(()=>()=>{n.current&&(e(zie(n.current)),n.current=null)},[e]),null}var ale=t=>{var{xAxisId:e,className:n}=t,r=_e(BR),i=lr(),a="xAxis",s=_e(N=>$8(N,a,e,i)),o=_e(N=>ree(N,e)),u=_e(N=>cee(N,e)),f=_e(N=>l8(N,e));if(o==null||u==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:p,scale:y}=t,x=Yw(t,Zse),{id:b,scale:j}=f,S=Yw(f,Jse);return k.createElement(V2,Kw({},x,S,{x:u.x,y:u.y,width:o.width,height:o.height,className:ot("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},sle={allowDataOverflow:tn.allowDataOverflow,allowDecimals:tn.allowDecimals,allowDuplicatedCategory:tn.allowDuplicatedCategory,angle:tn.angle,axisLine:Ca.axisLine,height:tn.height,hide:!1,includeHidden:tn.includeHidden,interval:tn.interval,label:!1,minTickGap:tn.minTickGap,mirror:tn.mirror,orientation:tn.orientation,padding:tn.padding,reversed:tn.reversed,scale:tn.scale,tick:tn.tick,tickCount:tn.tickCount,tickLine:Ca.tickLine,tickSize:Ca.tickSize,type:tn.type,xAxisId:0},lle=t=>{var e=_n(t,sle);return k.createElement(k.Fragment,null,k.createElement(ile,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),k.createElement(ale,e))},Yl=k.memo(lle,G6);Yl.displayName="XAxis";var ole=["type"],cle=["dangerouslySetInnerHTML","ticks","scale"],ule=["id","scale"];function Qw(){return Qw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qw.apply(null,arguments)}function V_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function F_(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?V_(Object(n),!0).forEach(function(r){fle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):V_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fle(t,e,n){return(e=dle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dle(t){var e=hle(t,"string");return typeof e=="symbol"?e:e+""}function hle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xw(t,e){if(t==null)return{};var n,r,i=mle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function mle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function ple(t){var e=Vt(),n=k.useRef(null),r=qR(),{type:i}=t,a=Xw(t,ole),s=T0(r,"yAxis",i),o=k.useMemo(()=>{if(s!=null)return F_(F_({},a),{},{type:s})},[s,a]);return k.useLayoutEffect(()=>{o!=null&&(n.current===null?e(Iie(o)):n.current!==o&&e(Uie({prev:n.current,next:o})),n.current=o)},[o,e]),k.useLayoutEffect(()=>()=>{n.current&&(e($ie(n.current)),n.current=null)},[e]),null}function gle(t){var{yAxisId:e,className:n,width:r,label:i}=t,a=k.useRef(null),s=k.useRef(null),o=_e(BR),u=lr(),f=Vt(),h="yAxis",p=_e(D=>dee(D,e)),y=_e(D=>fee(D,e)),x=_e(D=>$8(D,h,e,u)),b=_e(D=>o8(D,e));if(k.useLayoutEffect(()=>{if(!(r!=="auto"||!p||$2(i)||k.isValidElement(i)||b==null)){var D=a.current;if(D){var T=D.getCalculatedWidth();Math.round(p.width)!==Math.round(T)&&f(qie({id:e,width:T}))}}},[x,p,f,i,e,r,b]),p==null||y==null||b==null)return null;var{dangerouslySetInnerHTML:j,ticks:S,scale:N}=t,O=Xw(t,cle),{id:C,scale:_}=b,P=Xw(b,ule);return k.createElement(V2,Qw({},O,P,{ref:a,labelRef:s,x:y.x,y:y.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:p.width,height:p.height,className:ot("recharts-".concat(h," ").concat(h),n),viewBox:o,ticks:x,axisType:h}))}var yle={allowDataOverflow:nn.allowDataOverflow,allowDecimals:nn.allowDecimals,allowDuplicatedCategory:nn.allowDuplicatedCategory,angle:nn.angle,axisLine:Ca.axisLine,hide:!1,includeHidden:nn.includeHidden,interval:nn.interval,label:!1,minTickGap:nn.minTickGap,mirror:nn.mirror,orientation:nn.orientation,padding:nn.padding,reversed:nn.reversed,scale:nn.scale,tick:nn.tick,tickCount:nn.tickCount,tickLine:Ca.tickLine,tickSize:Ca.tickSize,type:nn.type,width:nn.width,yAxisId:0},xle=t=>{var e=_n(t,yle);return k.createElement(k.Fragment,null,k.createElement(ple,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),k.createElement(gle,e))},Ql=k.memo(xle,G6);Ql.displayName="YAxis";var vle=(t,e)=>e,G2=le([vle,Ct,i8,un,a6,Va,Ote,kn],Pte),K2=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},K6=Xr("mouseClick"),Y6=xd();Y6.startListening({actionCreator:K6,effect:(t,e)=>{var n=t.payload,r=G2(e.getState(),K2(n));r?.activeIndex!=null&&e.dispatch(Cee({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Zw=Xr("mouseMove"),Q6=xd(),bm=null;Q6.startListening({actionCreator:Zw,effect:(t,e)=>{var n=t.payload;bm!==null&&cancelAnimationFrame(bm);var r=K2(n);bm=requestAnimationFrame(()=>{var i=e.getState(),a=T2(i,i.tooltip.settings.shared);if(a==="axis"){var s=G2(i,r);s?.activeIndex!=null?e.dispatch(Q8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Y8())}bm=null})}});function ble(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var W_={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},X6=sr({name:"rootProps",initialState:W_,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:W_.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),wle=X6.reducer,{updateOptions:Sle}=X6.actions,jle=null,Nle={updatePolarOptions:(t,e)=>e.payload},Z6=sr({name:"polarOptions",initialState:jle,reducers:Nle}),{updatePolarOptions:Uye}=Z6.actions,Cle=Z6.reducer,J6=Xr("keyDown"),eB=Xr("focus"),Y2=xd();Y2.startListening({actionCreator:J6,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=M2(i,Kc(n),Ed(n),Md(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var u=Va(n);if(a==="Enter"){var f=tg(n,"axis","hover",String(i.index));e.dispatch(Hw({active:!i.active,activeIndex:i.index,activeCoordinate:f}));return}var h=gee(n),p=h==="left-to-right"?1:-1,y=a==="ArrowRight"?1:-1,x=o+y*p;if(!(u==null||x>=u.length||x<0)){var b=tg(n,"axis","hover",String(x));e.dispatch(Hw({active:!0,activeIndex:x.toString(),activeCoordinate:b}))}}}}}});Y2.startListening({actionCreator:eB,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=tg(n,"axis","hover",String(a));e.dispatch(Hw({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var qr=Xr("externalEvent"),tB=xd(),s1=new Map;tB.startListening({actionCreator:qr,effect:(t,e)=>{var{handler:n,reactEvent:r}=t.payload;if(n!=null){r.persist();var i=r.type,a=s1.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),u={activeCoordinate:fte(o),activeDataKey:cte(o),activeIndex:Ff(o),activeLabel:o6(o),activeTooltipIndex:Ff(o),isTooltipActive:dte(o)};n(u,r)}finally{s1.delete(i)}});s1.set(i,s)}}});var kle=le([Wc],t=>t.tooltipItemPayloads),Ole=le([kle,(t,e)=>e,(t,e,n)=>n],(t,e,n)=>{if(e!=null){var r=t.find(a=>a.settings.graphicalItemId===n);if(r!=null){var{getPosition:i}=r;if(i!=null)return i(e)}}}),nB=Xr("touchMove"),rB=xd();rB.startListening({actionCreator:nB,effect:(t,e)=>{var n=t.payload;if(!(n.touches==null||n.touches.length===0)){var r=e.getState(),i=T2(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=G2(r,K2({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));s?.activeIndex!=null&&e.dispatch(Q8({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,u=n.touches[0];if(document.elementFromPoint==null||u==null)return;var f=document.elementFromPoint(u.clientX,u.clientY);if(!f||!f.getAttribute)return;var h=f.getAttribute(KG),p=(o=f.getAttribute(YG))!==null&&o!==void 0?o:void 0,y=Gc(r).find(j=>j.id===p);if(h==null||y==null||p==null)return;var{dataKey:x}=y,b=Ole(r,h,p);e.dispatch(Nee({activeDataKey:x,activeIndex:h,activeCoordinate:b,activeGraphicalItemId:p}))}}}});var Ale=iR({brush:Jie,cartesianAxis:Hie,chartData:dne,errorBars:Gae,graphicalItems:bie,layout:DG,legend:qK,options:lne,polarAxis:qre,polarOptions:Cle,referenceElements:rae,rootProps:wle,tooltip:kee,zIndex:Kte}),Ele=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return iG({reducer:Ale,preloadedState:e,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Y6.middleware,Q6.middleware,Y2.middleware,tB.middleware,rB.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(vR({type:"raf"}))},devTools:{serialize:{replacer:ble},name:"recharts-".concat(n)}})};function Tle(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=lr(),a=k.useRef(null);if(i)return n;a.current==null&&(a.current=Ele(e,r));var s=Oj;return k.createElement(Nse,{context:s,store:a.current},n)}function Mle(t){var{layout:e,margin:n}=t,r=Vt(),i=lr();return k.useEffect(()=>{i||(r(TG(e)),r(EG(n)))},[r,i,e,n]),null}var _le=k.memo(Mle,F2);function Dle(t){var e=Vt();return k.useEffect(()=>{e(Sle(t))},[e,t]),null}function G_(t){var{zIndex:e,isPanorama:n}=t,r=k.useRef(null),i=Vt();return k.useLayoutEffect(()=>(r.current&&i(Wte({zIndex:e,element:r.current,isPanorama:n})),()=>{i(Gte({zIndex:e,isPanorama:n}))}),[i,e,n]),k.createElement("g",{tabIndex:-1,ref:r})}function K_(t){var{children:e,isPanorama:n}=t,r=_e(Lte);if(!r||r.length===0)return e;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return k.createElement(k.Fragment,null,i.map(s=>k.createElement(G_,{key:s,zIndex:s,isPanorama:n})),e,a.map(s=>k.createElement(G_,{key:s,zIndex:s,isPanorama:n})))}var Ple=["children"];function Rle(t,e){if(t==null)return{};var n,r,i=Lle(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Lle(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function lg(){return lg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lg.apply(null,arguments)}var Ble={width:"100%",height:"100%",display:"block"},zle=k.forwardRef((t,e)=>{var n=Lj(),r=Bj(),i=XR();if(!Gi(n)||!Gi(r))return null;var{children:a,otherAttributes:s,title:o,desc:u}=t,f,h;return s!=null&&(typeof s.tabIndex=="number"?f=s.tabIndex:f=i?0:void 0,typeof s.role=="string"?h=s.role:h=i?"application":void 0),k.createElement(gj,lg({},s,{title:o,desc:u,role:h,tabIndex:f,width:n,height:r,style:Ble,ref:e}),a)}),Ile=t=>{var{children:e}=t,n=_e(g0);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return k.createElement(gj,{width:r,height:i,x:s,y:a},e)},Y_=k.forwardRef((t,e)=>{var{children:n}=t,r=Rle(t,Ple),i=lr();return i?k.createElement(Ile,null,k.createElement(K_,{isPanorama:!0},n)):k.createElement(zle,lg({ref:e},r),k.createElement(K_,{isPanorama:!1},n))});function Ule(){var t=Vt(),[e,n]=k.useState(null),r=_e(GG);return k.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;Ze(a)&&a!==r&&t(_G(a))}},[e,t,r]),n}function Q_(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $le(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Q_(Object(n),!0).forEach(function(r){qle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Q_(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qle(t,e,n){return(e=Hle(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Hle(t){var e=Vle(t,"string");return typeof e=="symbol"?e:e+""}function Vle(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ts(){return Ts=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ts.apply(null,arguments)}var Fle=()=>(wne(),null);function og(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Wle=k.forwardRef((t,e)=>{var n,r,i=k.useRef(null),[a,s]=k.useState({containerWidth:og((n=t.style)===null||n===void 0?void 0:n.width),containerHeight:og((r=t.style)===null||r===void 0?void 0:r.height)}),o=k.useCallback((f,h)=>{s(p=>{var y=Math.round(f),x=Math.round(h);return p.containerWidth===y&&p.containerHeight===x?p:{containerWidth:y,containerHeight:x}})},[]),u=k.useCallback(f=>{if(typeof e=="function"&&e(f),f!=null&&typeof ResizeObserver<"u"){var{width:h,height:p}=f.getBoundingClientRect();o(h,p);var y=b=>{var j=b[0];if(j!=null){var{width:S,height:N}=j.contentRect;o(S,N)}},x=new ResizeObserver(y);x.observe(f),i.current=x}},[e,o]);return k.useEffect(()=>()=>{var f=i.current;f?.disconnect()},[o]),k.createElement(k.Fragment,null,k.createElement(bd,{width:a.containerWidth,height:a.containerHeight}),k.createElement("div",Ts({ref:u},t)))}),Gle=k.forwardRef((t,e)=>{var{width:n,height:r}=t,[i,a]=k.useState({containerWidth:og(n),containerHeight:og(r)}),s=k.useCallback((u,f)=>{a(h=>{var p=Math.round(u),y=Math.round(f);return h.containerWidth===p&&h.containerHeight===y?h:{containerWidth:p,containerHeight:y}})},[]),o=k.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null){var{width:f,height:h}=u.getBoundingClientRect();s(f,h)}},[e,s]);return k.createElement(k.Fragment,null,k.createElement(bd,{width:i.containerWidth,height:i.containerHeight}),k.createElement("div",Ts({ref:o},t)))}),Kle=k.forwardRef((t,e)=>{var{width:n,height:r}=t;return k.createElement(k.Fragment,null,k.createElement(bd,{width:n,height:r}),k.createElement("div",Ts({ref:e},t)))}),Yle=k.forwardRef((t,e)=>{var{width:n,height:r}=t;return typeof n=="string"||typeof r=="string"?k.createElement(Gle,Ts({},t,{ref:e})):typeof n=="number"&&typeof r=="number"?k.createElement(Kle,Ts({},t,{width:n,height:r,ref:e})):k.createElement(k.Fragment,null,k.createElement(bd,{width:n,height:r}),k.createElement("div",Ts({ref:e},t)))});function Qle(t){return t?Wle:Yle}var Xle=k.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:u,onMouseEnter:f,onMouseLeave:h,onMouseMove:p,onMouseUp:y,onTouchEnd:x,onTouchMove:b,onTouchStart:j,style:S,width:N,responsive:O,dispatchTouchEvents:C=!0}=t,_=k.useRef(null),P=Vt(),[D,T]=k.useState(null),[L,I]=k.useState(null),q=Ule(),U=Pj(),z=U?.width>0?U.width:N,H=U?.height>0?U.height:i,X=k.useCallback(re=>{q(re),typeof e=="function"&&e(re),T(re),I(re),re!=null&&(_.current=re)},[q,e,T,I]),W=k.useCallback(re=>{P(K6(re)),P(qr({handler:a,reactEvent:re}))},[P,a]),V=k.useCallback(re=>{P(Zw(re)),P(qr({handler:f,reactEvent:re}))},[P,f]),Y=k.useCallback(re=>{P(Y8()),P(qr({handler:h,reactEvent:re}))},[P,h]),J=k.useCallback(re=>{P(Zw(re)),P(qr({handler:p,reactEvent:re}))},[P,p]),oe=k.useCallback(()=>{P(eB())},[P]),ge=k.useCallback(re=>{P(J6(re.key))},[P]),M=k.useCallback(re=>{P(qr({handler:s,reactEvent:re}))},[P,s]),$=k.useCallback(re=>{P(qr({handler:o,reactEvent:re}))},[P,o]),te=k.useCallback(re=>{P(qr({handler:u,reactEvent:re}))},[P,u]),K=k.useCallback(re=>{P(qr({handler:y,reactEvent:re}))},[P,y]),ue=k.useCallback(re=>{P(qr({handler:j,reactEvent:re}))},[P,j]),Q=k.useCallback(re=>{C&&P(nB(re)),P(qr({handler:b,reactEvent:re}))},[P,C,b]),me=k.useCallback(re=>{P(qr({handler:x,reactEvent:re}))},[P,x]),Ce=Qle(O);return k.createElement(p6.Provider,{value:D},k.createElement(bP.Provider,{value:L},k.createElement(Ce,{width:z??S?.width,height:H??S?.height,className:ot("recharts-wrapper",r),style:$le({position:"relative",cursor:"default",width:z,height:H},S),onClick:W,onContextMenu:M,onDoubleClick:$,onFocus:oe,onKeyDown:ge,onMouseDown:te,onMouseEnter:V,onMouseLeave:Y,onMouseMove:J,onMouseUp:K,onTouchEnd:me,onTouchMove:Q,onTouchStart:ue,ref:X},k.createElement(Fle,null),n)))}),Zle=["width","height","responsive","children","className","style","compact","title","desc"];function Jle(t,e){if(t==null)return{};var n,r,i=eoe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var toe=k.forwardRef((t,e)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:u,title:f,desc:h}=t,p=Jle(t,Zle),y=Fi(p);return u?k.createElement(k.Fragment,null,k.createElement(bd,{width:n,height:r}),k.createElement(Y_,{otherAttributes:y,title:f,desc:h},a)):k.createElement(Xle,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},k.createElement(Y_,{otherAttributes:y,title:f,desc:h,ref:e},k.createElement(aae,null,a)))});function Jw(){return Jw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jw.apply(null,arguments)}var noe={top:5,right:5,bottom:5,left:5},roe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:noe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},ioe=k.forwardRef(function(e,n){var r,i=_n(e.categoricalChartProps,roe),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,categoricalChartProps:f}=e,h={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:u,eventEmitter:void 0};return k.createElement(Tle,{preloadedState:{options:h},reduxStoreName:(r=f.id)!==null&&r!==void 0?r:a},k.createElement(Zie,{chartData:f.data}),k.createElement(_le,{layout:i.layout,margin:i.margin}),k.createElement(Dle,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),k.createElement(toe,Jw({},i,{ref:n})))}),aoe=["axis"],Cc=k.forwardRef((t,e)=>k.createElement(ioe,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:aoe,tooltipPayloadSearcher:ane,categoricalChartProps:t,ref:e}));function St(){return Date.now()}function Kt(t){return new Date(t).toISOString()}function Wt(t,e,n,r,i=0){const a=t+e*Math.sin(2*Math.PI*r/n);return Math.round((a+(Math.random()-.5)*i)*100)/100}function pl(t,e,n,r,i){const a=[];for(let s=t;s<=e;s+=n)a.push([Kt(s),...r(s)]);return a}const Yf=["telegraf","app_metrics","iot_sensors","_internal"],eS={telegraf:["cpu","mem","disk","diskio","net","system","swap"],app_metrics:["http_requests","response_time","active_users","error_rate"],iot_sensors:["temperature","humidity","pressure","battery_level"],_internal:["database","httpd","queryExecutor","runtime","shard","tsm1_engine"]},iB={cpu:["host","cpu"],mem:["host"],disk:["host","path","device","fstype"],diskio:["host","name"],net:["host","interface"],system:["host"],swap:["host"],http_requests:["method","status","endpoint"],response_time:["endpoint","method"],active_users:["region"],error_rate:["service","severity"],temperature:["sensor_id","location","building"],humidity:["sensor_id","location"],pressure:["sensor_id","location"],battery_level:["sensor_id","device_type"]},aB={cpu:[{key:"usage_user",type:"float"},{key:"usage_system",type:"float"},{key:"usage_idle",type:"float"},{key:"usage_iowait",type:"float"}],mem:[{key:"used_percent",type:"float"},{key:"available",type:"integer"},{key:"total",type:"integer"},{key:"used",type:"integer"}],disk:[{key:"used_percent",type:"float"},{key:"free",type:"integer"},{key:"total",type:"integer"}],http_requests:[{key:"count",type:"integer"},{key:"duration_ms",type:"float"}],response_time:[{key:"p50",type:"float"},{key:"p95",type:"float"},{key:"p99",type:"float"}],temperature:[{key:"value",type:"float"}],humidity:[{key:"value",type:"float"}],pressure:[{key:"value",type:"float"}],battery_level:[{key:"percent",type:"float"}]},tS={telegraf:[{name:"autogen",duration:"0s",shardGroupDuration:"168h0m0s",replicaN:1,default:!0},{name:"30d",duration:"720h0m0s",shardGroupDuration:"24h0m0s",replicaN:1,default:!1}],app_metrics:[{name:"autogen",duration:"0s",shardGroupDuration:"168h0m0s",replicaN:1,default:!0}],iot_sensors:[{name:"autogen",duration:"0s",shardGroupDuration:"168h0m0s",replicaN:1,default:!0},{name:"90d",duration:"2160h0m0s",shardGroupDuration:"24h0m0s",replicaN:1,default:!1}],_internal:[{name:"monitor",duration:"168h0m0s",shardGroupDuration:"24h0m0s",replicaN:1,default:!0}]},sB=[{user:"admin",admin:!0},{user:"grafana_reader",admin:!1},{user:"telegraf_writer",admin:!1}],lB=[{name:"_internal",columns:["name","query"],values:[]},{name:"telegraf",columns:["name","query"],values:[["cq_cpu_5m",'CREATE CONTINUOUS QUERY cq_cpu_5m ON telegraf BEGIN SELECT mean(usage_user) AS mean_usage_user INTO telegraf."30d".cpu_5m FROM cpu GROUP BY time(5m), host END']]}];function soe(t,e){const n=t.toUpperCase().trim();if(n.startsWith("SHOW DATABASES"))return{results:[{statement_id:0,series:[{name:"databases",columns:["name"],values:Yf.map(u=>[u])}]}]};if(n.startsWith("SHOW MEASUREMENTS")){const u=e&&eS[e]||eS.telegraf;return{results:[{statement_id:0,series:[{name:"measurements",columns:["name"],values:u.map(f=>[f])}]}]}}if(n.startsWith("SHOW TAG KEYS")){const f=t.match(/FROM\s+"?(\w+)"?/i)?.[1]||"cpu",h=iB[f]||["host"];return{results:[{statement_id:0,series:[{name:f,columns:["tagKey"],values:h.map(p=>[p])}]}]}}if(n.includes("SHOW TAG VALUES")){const f=t.match(/WITH\s+KEY\s*=\s*"?(\w+)"?/i)?.[1]||"host",p={host:["web-server-01","web-server-02","db-server-01","worker-01"],cpu:["cpu-total","cpu0","cpu1","cpu2","cpu3"],region:["us-east-1","us-west-2","eu-west-1"],sensor_id:["sensor-001","sensor-002","sensor-003","sensor-004"],location:["floor-1","floor-2","floor-3","warehouse"],method:["GET","POST","PUT","DELETE"],status:["200","201","301","404","500"],endpoint:["/api/users","/api/products","/api/orders","/health"],building:["HQ","Warehouse-A","Warehouse-B"]}[f]||["value-1","value-2"];return{results:[{statement_id:0,series:[{name:f,columns:["key","value"],values:p.map(y=>[f,y])}]}]}}if(n.startsWith("SHOW FIELD KEYS")){const f=t.match(/FROM\s+"?(\w+)"?/i)?.[1]||"cpu",h=aB[f]||[{key:"value",type:"float"}];return{results:[{statement_id:0,series:[{name:f,columns:["fieldKey","fieldType"],values:h.map(p=>[p.key,p.type])}]}]}}if(n.startsWith("SHOW RETENTION POLICIES")||n.startsWith("SHOW RETENTION")){const u=e&&tS[e]||tS.telegraf;return{results:[{statement_id:0,series:[{name:"results",columns:["name","duration","shardGroupDuration","replicaN","default"],values:u.map(f=>[f.name,f.duration,f.shardGroupDuration,f.replicaN,f.default])}]}]}}if(n.includes("SERIES CARDINALITY")||n.includes("SERIES EXACT CARDINALITY"))return{results:[{statement_id:0,series:[{columns:["count"],values:[[4287]]}]}]};if(n.startsWith("SHOW USERS"))return{results:[{statement_id:0,series:[{columns:["user","admin"],values:sB.map(u=>[u.user,u.admin])}]}]};if(n.startsWith("SHOW GRANTS"))return{results:[{statement_id:0,series:[{columns:["database","privilege"],values:[["telegraf","ALL PRIVILEGES"],["app_metrics","READ"]]}]}]};if(n.startsWith("SHOW QUERIES"))return{results:[{statement_id:0,series:[{columns:["qid","query","database","duration"],values:[[1,"SELECT mean(usage_user) FROM cpu WHERE time > now() - 1h GROUP BY time(1m)","telegraf","2ms"]]}]}]};if(n.startsWith("SHOW CONTINUOUS QUERIES")||n.startsWith("SHOW CONTINUOUS"))return{results:[{statement_id:0,series:lB}]};if(n.includes("SHARD GROUPS")||n.includes("SHARD"))return{results:[{statement_id:0,series:[{columns:["id","database","retention_policy","start_time","end_time","expiry_time"],values:[[1,"telegraf","autogen",Kt(St()-7*864e5),Kt(St()),Kt(St()+7*864e5)],[2,"telegraf","30d",Kt(St()-864e5),Kt(St()),Kt(St()+30*864e5)]]}]}]};if(n.includes("SUBSCRIPTIONS"))return{results:[{statement_id:0,series:[]}]};if(n.includes("DIAGNOSTICS"))return{results:[{statement_id:0,series:[{name:"system",columns:["PID","currentTime","started","uptime"],rows:[[12345,Kt(St()),Kt(St()-864e5*3),"72h15m32s"]]},{name:"build",columns:["Branch","Commit","Version"],rows:[["main","abc1234","1.8.10"]]},{name:"runtime",columns:["GOARCH","GOMAXPROCS","GOOS","version"],rows:[["amd64",4,"linux","go1.21.6"]]},{name:"network",columns:["hostname"],rows:[["playground-server"]]}]}]};if(n.includes("STATS"))return{results:[{statement_id:0,series:[{name:"queryExecutor",columns:["queriesActive","queriesExecuted","queriesFinished","queryDurationNs","recoveredPanics"],values:[[1,47821,47820,1203847291,0]]},{name:"httpd",columns:["auth","clientError","pingReq","pointsWrittenOK","queryReq","queryReqDurationNs","recoveredPanics","req","serverError","statusReq","writeReq","writeReqDurationNs"],values:[[0,12,9481,2847193,47821,9381274010,0,57314,0,0,9481,4827391023]]},{name:"write",columns:["pointReq","pointReqLocal","req","subWriteOk","writeOk"],values:[[2847193,2847193,9481,9481,9481]]},{name:"database",tags:{database:"telegraf"},columns:["numMeasurements","numSeries"],values:[[7,3142]]},{name:"database",tags:{database:"app_metrics"},columns:["numMeasurements","numSeries"],values:[[4,847]]},{name:"database",tags:{database:"iot_sensors"},columns:["numMeasurements","numSeries"],values:[[4,298]]}]}]};const r=St(),i=r-36e5,a=1e4,o=t.match(/FROM\s+"?(\w+)"?/i)?.[1]||"cpu";return o==="cpu"||n.includes("USAGE")?{results:[{statement_id:0,series:[{name:"cpu",tags:{host:"web-server-01",cpu:"cpu-total"},columns:["time","usage_user","usage_system","usage_idle"],values:pl(i,r,a,u=>[Wt(35,15,6e5,u,5),Wt(8,4,9e5,u,2),Wt(55,15,6e5,u+3e5,5)])},{name:"cpu",tags:{host:"web-server-02",cpu:"cpu-total"},columns:["time","usage_user","usage_system","usage_idle"],values:pl(i,r,a,u=>[Wt(25,10,5e5,u+1e5,4),Wt(5,3,8e5,u+2e5,2),Wt(68,10,5e5,u,4)])}]}]}:o==="mem"||n.includes("MEM")?{results:[{statement_id:0,series:[{name:"mem",tags:{host:"web-server-01"},columns:["time","used_percent"],values:pl(i,r,a,u=>[Wt(62,8,18e5,u,3)])}]}]}:o==="http_requests"||n.includes("HTTP")?{results:[{statement_id:0,series:[{name:"http_requests",tags:{method:"GET",endpoint:"/api/users"},columns:["time","count","duration_ms"],values:pl(i,r,a,u=>[Math.round(Wt(120,40,9e5,u,20)),Wt(45,15,6e5,u,10)])}]}]}:o==="temperature"||n.includes("TEMPERATURE")?{results:[{statement_id:0,series:[{name:"temperature",tags:{sensor_id:"sensor-001",location:"floor-1"},columns:["time","value"],values:pl(i,r,a,u=>[Wt(22.5,2.5,36e5,u,.5)])},{name:"temperature",tags:{sensor_id:"sensor-002",location:"floor-2"},columns:["time","value"],values:pl(i,r,a,u=>[Wt(21,1.5,36e5,u+9e5,.3)])}]}]}:{results:[{statement_id:0,series:[{name:o,columns:["time","value"],values:pl(i,r,a,u=>[Wt(50,20,9e5,u,5)])}]}]}}const cg=["up","process_cpu_seconds_total","process_resident_memory_bytes","http_requests_total","http_request_duration_seconds_bucket","http_request_duration_seconds_sum","http_request_duration_seconds_count","go_goroutines","go_memstats_alloc_bytes","go_gc_duration_seconds","node_cpu_seconds_total","node_memory_MemTotal_bytes","node_memory_MemAvailable_bytes","node_filesystem_avail_bytes","node_network_receive_bytes_total","prometheus_tsdb_head_series","prometheus_tsdb_head_chunks","prometheus_engine_query_duration_seconds","prometheus_http_requests_total","scrape_duration_seconds","scrape_samples_scraped"];function loe(t,e,n,r){const i=a=>{const s=[];for(let o=e;o<=n;o+=r)s.push([o,String(Math.round(a(o)*100)/100)]);return s};return t==="up"||t.startsWith("up")?{status:"success",data:{resultType:"matrix",result:[{metric:{__name__:"up",instance:"localhost:9090",job:"prometheus"},values:i(()=>1)},{metric:{__name__:"up",instance:"web-01:9100",job:"node"},values:i(()=>1)},{metric:{__name__:"up",instance:"web-02:9100",job:"node"},values:i(()=>1)},{metric:{__name__:"up",instance:"db-01:9100",job:"node"},values:i(a=>a>n-(n-e)*.3?0:1)}]}}:t.includes("rate")||t.includes("http")?{status:"success",data:{resultType:"matrix",result:[{metric:{method:"GET",code:"200",handler:"/api/v1/query"},values:i(a=>Wt(45,20,600,a,5))},{metric:{method:"POST",code:"200",handler:"/api/v1/write"},values:i(a=>Wt(15,8,900,a,3))}]}}:t.includes("cpu")||t.includes("process_cpu")?{status:"success",data:{resultType:"matrix",result:[{metric:{instance:"web-01:9100",job:"node"},values:i(a=>Wt(.35,.15,600,a,.05))},{metric:{instance:"web-02:9100",job:"node"},values:i(a=>Wt(.25,.1,500,a,.04))}]}}:t.includes("memory")||t.includes("mem")?{status:"success",data:{resultType:"matrix",result:[{metric:{instance:"web-01:9100",job:"node"},values:i(a=>Wt(42e8,3e8,1800,a,1e8))},{metric:{instance:"web-02:9100",job:"node"},values:i(a=>Wt(31e8,2e8,1200,a,8e7))}]}}:{status:"success",data:{resultType:"matrix",result:[{metric:{__name__:t.split(/[({]/)[0],instance:"localhost:9090"},values:i(a=>Wt(50,20,900,a,5))}]}}}const ooe={data:{activeTargets:[{discoveredLabels:{__address__:"localhost:9090",__scheme__:"http",job:"prometheus"},labels:{instance:"localhost:9090",job:"prometheus"},scrapePool:"prometheus",scrapeUrl:"http://localhost:9090/metrics",globalUrl:"http://playground-server:9090/metrics",lastError:"",lastScrape:Kt(St()-5e3),lastScrapeDuration:.012,health:"up",scrapeInterval:"15s",scrapeTimeout:"10s"},{discoveredLabels:{__address__:"web-01:9100",__scheme__:"http",job:"node"},labels:{instance:"web-01:9100",job:"node"},scrapePool:"node",scrapeUrl:"http://web-01:9100/metrics",globalUrl:"http://web-01:9100/metrics",lastError:"",lastScrape:Kt(St()-8e3),lastScrapeDuration:.025,health:"up",scrapeInterval:"15s",scrapeTimeout:"10s"},{discoveredLabels:{__address__:"web-02:9100",__scheme__:"http",job:"node"},labels:{instance:"web-02:9100",job:"node"},scrapePool:"node",scrapeUrl:"http://web-02:9100/metrics",globalUrl:"http://web-02:9100/metrics",lastError:"",lastScrape:Kt(St()-3e3),lastScrapeDuration:.018,health:"up",scrapeInterval:"15s",scrapeTimeout:"10s"},{discoveredLabels:{__address__:"db-01:9100",__scheme__:"http",job:"node"},labels:{instance:"db-01:9100",job:"node"},scrapePool:"node",scrapeUrl:"http://db-01:9100/metrics",globalUrl:"http://db-01:9100/metrics",lastError:"connection refused",lastScrape:Kt(St()-2e3),lastScrapeDuration:0,health:"down",scrapeInterval:"15s",scrapeTimeout:"10s"}]}},coe={data:{groups:[{name:"node_alerts",file:"/etc/prometheus/rules/node.yml",rules:[{state:"firing",name:"InstanceDown",query:"up == 0",duration:300,labels:{severity:"critical"},annotations:{summary:"Instance {{ $labels.instance }} is down",description:"Instance has been unreachable for more than 5 minutes."},alerts:[{labels:{instance:"db-01:9100",job:"node",severity:"critical"},annotations:{summary:"Instance db-01:9100 is down"},state:"firing",activeAt:Kt(St()-6e5),value:"0"}],health:"ok",type:"alerting",evaluationTime:.001,lastEvaluation:Kt(St()-15e3)},{state:"inactive",name:"HighCPU",query:'rate(node_cpu_seconds_total{mode="user"}[5m]) > 0.8',duration:600,labels:{severity:"warning"},annotations:{summary:"High CPU usage on {{ $labels.instance }}"},alerts:[],health:"ok",type:"alerting",evaluationTime:.003,lastEvaluation:Kt(St()-15e3)}],interval:15},{name:"recording_rules",file:"/etc/prometheus/rules/recording.yml",rules:[{name:"job:http_requests_total:rate5m",query:"sum(rate(http_requests_total[5m])) by (job)",labels:{},health:"ok",type:"recording",evaluationTime:.002,lastEvaluation:Kt(St()-15e3)}],interval:15}]}},uoe={data:{headStats:{numSeries:24713,numLabelPairs:1847,chunkCount:98452},seriesCountByMetricName:[{name:"node_cpu_seconds_total",value:128},{name:"http_requests_total",value:96},{name:"http_request_duration_seconds_bucket",value:480},{name:"go_goroutines",value:12},{name:"process_cpu_seconds_total",value:8}],labelValueCountByLabelName:[{name:"__name__",value:312},{name:"instance",value:18},{name:"job",value:6},{name:"le",value:14},{name:"code",value:8}]}};Kt(St()-864e5*3),Kt(St()-36e5);const foe={data:{yaml:`global:
  scrape_interval: 15s
  evaluation_interval: 15s

rule_files:
  - /etc/prometheus/rules/*.yml

scrape_configs:
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  - job_name: 'node'
    static_configs:
      - targets: ['web-01:9100', 'web-02:9100', 'db-01:9100']
`}},doe={up:[{type:"gauge",help:"Target is up (1) or down (0).",unit:""}],http_requests_total:[{type:"counter",help:"Total HTTP requests processed.",unit:""}],process_cpu_seconds_total:[{type:"counter",help:"Total user and system CPU time spent in seconds.",unit:""}],go_goroutines:[{type:"gauge",help:"Number of goroutines that currently exist.",unit:""}],node_cpu_seconds_total:[{type:"counter",help:"Seconds the cpus spent in each mode.",unit:""}],process_resident_memory_bytes:[{type:"gauge",help:"Resident memory size in bytes.",unit:""}],scrape_duration_seconds:[{type:"gauge",help:"Duration of the scrape.",unit:""}]},hoe={data:[{duration:"0.234s",id:"1",remote_addr:"10.0.0.5:42817",query:"rate(http_requests_total[5m])",start:Math.floor(St()/1e3)-3600,end:Math.floor(St()/1e3),step:15},{duration:"1.102s",id:"2",remote_addr:"10.0.0.12:51923",query:"sum by (job) (up)",start:Math.floor(St()/1e3)-900,end:Math.floor(St()/1e3),step:15}]},moe={data:{topByCount:[{query:"up",count:4821,timeRangeSeconds:3600,avgDurationSeconds:.002},{query:"rate(http_requests_total[5m])",count:2104,timeRangeSeconds:3600,avgDurationSeconds:.015},{query:"node_cpu_seconds_total",count:1247,timeRangeSeconds:3600,avgDurationSeconds:.008}]}},X_={data:{totalSeries:31247,seriesCountByMetricName:[{name:"node_cpu_seconds_total",value:128},{name:"http_request_duration_seconds_bucket",value:480},{name:"http_requests_total",value:96},{name:"go_memstats_alloc_bytes",value:24}],labelValueCountByLabelName:[{name:"__name__",value:312},{name:"instance",value:18},{name:"job",value:6}]}},poe=["20240115-120000-abc1234","20240114-060000-def5678"],Z_=[{label:"CPU Usage (last 1h)",query:'SELECT mean("usage_user") FROM "cpu" WHERE time > now() - 1h GROUP BY time(10s), "host" fill(none)',db:"telegraf",description:"Average CPU usage per host over the last hour"},{label:"Memory Usage",query:'SELECT mean("used_percent") FROM "mem" WHERE time > now() - 1h GROUP BY time(10s) fill(none)',db:"telegraf",description:"Memory utilization percentage over the last hour"},{label:"HTTP Requests",query:'SELECT sum("count") FROM "http_requests" WHERE time > now() - 1h GROUP BY time(1m), "method" fill(0)',db:"app_metrics",description:"HTTP request count by method"},{label:"Temperature Sensors",query:'SELECT mean("value") FROM "temperature" WHERE time > now() - 1h GROUP BY time(30s), "sensor_id" fill(none)',db:"iot_sensors",description:"Temperature readings from IoT sensors"},{label:"Show Databases",query:"SHOW DATABASES",description:"List all databases on the server"},{label:"Show Measurements",query:"SHOW MEASUREMENTS",db:"telegraf",description:"List all measurements in telegraf database"}],goe=[{label:"Target Status",query:"up",description:"Check which targets are up or down"},{label:"HTTP Request Rate",query:"rate(http_requests_total[5m])",description:"Per-second rate of HTTP requests over 5 minutes"},{label:"CPU Usage",query:"rate(process_cpu_seconds_total[5m])",description:"CPU usage rate by process"},{label:"Memory Usage",query:"process_resident_memory_bytes",description:"Resident memory usage per process"},{label:"Goroutines",query:"go_goroutines",description:"Number of goroutines per instance"},{label:"Scrape Duration",query:"scrape_duration_seconds",description:"Duration of each Prometheus scrape"}],yoe=[{label:"Target Status",query:"up",description:"Check which targets are up or down"},{label:"HTTP Request Rate",query:"rate(http_requests_total[5m])",description:"Per-second rate of HTTP requests over 5 minutes"},{label:"CPU Usage",query:"rate(process_cpu_seconds_total[5m])",description:"CPU usage rate by process"},{label:"Memory Usage",query:"process_resident_memory_bytes",description:"Resident memory usage per process"},{label:"Active Series",query:'vm_cache_entries{type="storage/metricName"}',description:"VictoriaMetrics active series count"},{label:"Ingestion Rate",query:"rate(vm_rows_inserted_total[5m])",description:"Data ingestion rate"}],J_=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"];function xoe(){const[t,e]=k.useState("telegraf"),[n,r]=k.useState(Z_[0].query),[i,a]=k.useState(null),[s,o]=k.useState(null),[u,f]=k.useState(null),[h,p]=k.useState("chart"),[y,x]=k.useState([]),[b,j]=k.useState(!1),[S,N]=k.useState(new Set(["telegraf"])),[O,C]=k.useState(new Set),_=z=>{N(H=>{const X=new Set(H);return X.has(z)?X.delete(z):X.add(z),X})},P=z=>{C(H=>{const X=new Set(H);return X.has(z)?X.delete(z):X.add(z),X})},D=k.useCallback(()=>{const z=Date.now();o(null);try{const H=soe(n,t);H.results?.[0]?.error?(o(H.results[0].error),a(null)):(a(H),x(X=>[n,...X.filter(V=>V!==n)].slice(0,20)))}catch(H){o(H.message),a(null)}f(Date.now()-z)},[n,t]),T=z=>{r(z.query),z.db&&e(z.db)},L=[],I=[];if(i?.results?.[0]?.series){const z=i.results[0].series,H=new Map;z.forEach((X,W)=>{const V=X.columns||[],Y=X.tags?Object.values(X.tags).join("/"):"",J=Y?`${X.name||""}[${Y}]`:X.name||`series-${W}`,oe=V.filter((ge,M)=>M>0&&typeof X.values?.[0]?.[M]=="number");oe.forEach(ge=>{const M=oe.length>1?`${J}.${ge}`:J;I.push(M)}),(X.values||[]).forEach(ge=>{const M=ge[0];H.has(M)||H.set(M,{time:M});const $=H.get(M);oe.forEach(te=>{const K=V.indexOf(te),ue=oe.length>1?`${J}.${te}`:J;$[ue]=ge[K]})})}),L.push(...Array.from(H.values()).sort((X,W)=>X.time<W.time?-1:1))}const q=[],U=[];if(i?.results?.[0]?.series?.[0]){const z=i.results[0].series[0];q.push(...z.columns||[]),z.tags&&Object.keys(z.tags).forEach(H=>{q.includes(H)||q.push(H)}),(i.results[0].series||[]).forEach(H=>{(H.values||[]).forEach(X=>{const W=[...X];H.tags&&Object.values(H.tags).forEach(V=>W.push(V)),U.push(W)})})}return E.jsxs("div",{className:"flex h-full",children:[E.jsx("div",{className:"w-56 border-r border-gray-800 overflow-y-auto flex-shrink-0 bg-gray-900/50",children:E.jsxs("div",{className:"p-3",children:[E.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Schema Browser"}),Yf.map(z=>E.jsxs("div",{children:[E.jsxs("button",{onClick:()=>_(z),className:"flex items-center gap-1 w-full text-left text-xs py-1 px-1 hover:bg-gray-800 rounded text-gray-300",children:[S.has(z)?E.jsx(Hi,{size:12}):E.jsx(Ds,{size:12}),E.jsx("span",{className:"font-medium",children:z})]}),S.has(z)&&(eS[z]||[]).map(H=>{const X=`${z}/${H}`;return E.jsxs("div",{className:"ml-3",children:[E.jsxs("button",{onClick:()=>P(X),className:"flex items-center gap-1 w-full text-left text-[11px] py-0.5 px-1 hover:bg-gray-800 rounded text-gray-400",children:[O.has(X)?E.jsx(Hi,{size:10}):E.jsx(Ds,{size:10}),H]}),O.has(X)&&E.jsxs("div",{className:"ml-4 text-[10px] text-gray-500 space-y-0.5 py-0.5",children:[(iB[H]||[]).map(W=>E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"text-blue-400",children:"tag"})," ",W]},W)),(aB[H]||[]).map(W=>E.jsxs("div",{className:"flex items-center gap-1",children:[E.jsx("span",{className:"text-green-400",children:W.type})," ",W.key]},W.key))]})]},X)})]},z))]})}),E.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[E.jsxs("div",{className:"border-b border-gray-800 px-4 py-2 flex items-center gap-2 flex-wrap bg-gray-900/30",children:[E.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Examples:"}),Z_.map(z=>E.jsx("button",{onClick:()=>T(z),title:z.description,className:"text-[11px] px-2 py-0.5 rounded bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:z.label},z.label))]}),E.jsxs("div",{className:"border-b border-gray-800 p-4 space-y-2",children:[E.jsxs("div",{className:"flex gap-2 items-start",children:[E.jsx("select",{value:t,onChange:z=>e(z.target.value),className:"bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 px-2 py-2",children:Yf.map(z=>E.jsx("option",{value:z,children:z},z))}),E.jsx("textarea",{value:n,onChange:z=>r(z.target.value),onKeyDown:z=>{(z.ctrlKey||z.metaKey)&&z.key==="Enter"&&(z.preventDefault(),D())},rows:3,className:"flex-1 bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-200 focus:outline-none focus:border-blue-500 resize-y",placeholder:"Enter InfluxQL query..."}),E.jsxs("button",{onClick:D,className:"flex items-center gap-1.5 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:[E.jsx(zl,{size:14}),"Run"]})]}),E.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500",children:[E.jsx("span",{children:"Ctrl+Enter to run"}),u!==null&&E.jsxs("span",{className:"flex items-center gap-1",children:[E.jsx(ka,{size:10})," ",u,"ms"]}),E.jsxs("button",{onClick:()=>j(!b),className:"flex items-center gap-1 text-gray-500 hover:text-gray-300 transition-colors",children:[E.jsx(ka,{size:10})," History (",y.length,")"]})]}),b&&y.length>0&&E.jsx("div",{className:"bg-gray-800/50 rounded p-2 max-h-32 overflow-y-auto space-y-1",children:y.map((z,H)=>E.jsx("button",{onClick:()=>{r(z),j(!1)},className:"block w-full text-left text-xs font-mono text-gray-400 hover:text-white truncate px-2 py-0.5 hover:bg-gray-700 rounded",children:z},H))})]}),E.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[s&&E.jsx("div",{className:"bg-red-900/30 border border-red-800 rounded p-3 text-sm text-red-300 mb-4",children:s}),i&&!s&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsxs("button",{onClick:()=>p("chart"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${h==="chart"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[E.jsx(ja,{size:12})," Chart"]}),E.jsxs("button",{onClick:()=>p("table"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${h==="table"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[E.jsx(Kg,{size:12})," Table"]}),i?.results?.[0]?.series&&E.jsxs("span",{className:"text-xs text-gray-500",children:[i.results[0].series.length," series, ",U.length," rows"]})]}),h==="chart"&&L.length>0&&I.length>0&&E.jsx("div",{className:"h-80 w-full",children:E.jsx(xc,{width:"100%",height:"100%",children:E.jsxs(Cc,{data:L,children:[E.jsx(Gl,{strokeDasharray:"3 3",stroke:"#374151"}),E.jsx(Yl,{dataKey:"time",tick:{fontSize:10,fill:"#9ca3af"},tickFormatter:z=>new Date(z).toLocaleTimeString()}),E.jsx(Ql,{tick:{fontSize:10,fill:"#9ca3af"}}),E.jsx(Nc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px",fontSize:"12px"},labelFormatter:z=>new Date(z).toLocaleString()}),E.jsx(Sd,{wrapperStyle:{fontSize:"11px"}}),I.slice(0,6).map((z,H)=>E.jsx(Kl,{type:"monotone",dataKey:z,stroke:J_[H%J_.length],dot:!1,strokeWidth:1.5},z))]})})}),h==="table"&&q.length>0&&E.jsxs("div",{className:"overflow-x-auto",children:[E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsx("tr",{className:"border-b border-gray-700",children:q.map(z=>E.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:z},z))})}),E.jsx("tbody",{children:U.slice(0,200).map((z,H)=>E.jsx("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30",children:z.map((X,W)=>E.jsx("td",{className:"px-3 py-1.5 text-gray-300 font-mono",children:typeof X=="number"?X.toLocaleString():String(X??"")},W))},H))})]}),U.length>200&&E.jsxs("p",{className:"text-xs text-gray-500 mt-2 px-3",children:["Showing 200 of ",U.length," rows"]})]}),h==="chart"&&(L.length===0||I.length===0)&&E.jsx("div",{className:"text-gray-500 text-sm py-8 text-center",children:"No chart data  this query returns metadata. Switch to Table view."})]}),!i&&!s&&E.jsxs("div",{className:"text-gray-500 text-sm py-12 text-center",children:[E.jsx(Il,{size:24,className:"mx-auto mb-2 text-gray-600"}),"Select an example query or write your own, then click ",E.jsx("strong",{children:"Run"}),"."]})]})]})]})}const eD=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#14b8a6","#a855f7"],tD=[{label:"15m",seconds:900},{label:"1h",seconds:3600},{label:"3h",seconds:10800},{label:"6h",seconds:21600},{label:"1d",seconds:86400}];function voe(t){return t<=3600?15:t<=21600?60:t<=86400?300:600}function nD(t){const e=t.__name__||"",n=Object.entries(t).filter(([r])=>r!=="__name__").map(([r,i])=>`${r}="${i}"`).join(", ");return n?`${e}{${n}}`:e}function rD(){const{backendType:t}=fj(),e=t==="victoriametrics",n=e?yoe:goe,[r,i]=k.useState("up"),[a,s]=k.useState(1),[o,u]=k.useState("chart"),[f,h]=k.useState(null),[p,y]=k.useState(null),[x,b]=k.useState(null),[,j]=k.useState([]),[S,N]=k.useState(!1),[O,C]=k.useState(""),_=k.useCallback(()=>{const L=Date.now();b(null);try{const I=tD[a],q=Math.floor(Date.now()/1e3),U=q-I.seconds,z=voe(I.seconds),H=loe(r,U,q,z);h(H),j(X=>[r,...X.filter(W=>W!==r)].slice(0,20))}catch(I){b(I.message),h(null)}y(Date.now()-L)},[r,a]),P=[],D=[];if(f?.data?.result){const L=f.data.result;L.forEach(q=>{const U=nD(q.metric);D.push(U)});const I=new Map;L.forEach((q,U)=>{const z=D[U];(q.values||[]).forEach(([H,X])=>{I.has(H)||I.set(H,{time:H}),I.get(H)[z]=parseFloat(X)})}),P.push(...Array.from(I.values()).sort((q,U)=>q.time-U.time))}const T=cg.filter(L=>!O||L.toLowerCase().includes(O.toLowerCase()));return E.jsxs("div",{className:"flex flex-col h-full",children:[E.jsxs("div",{className:"border-b border-gray-800 px-4 py-2 flex items-center gap-2 flex-wrap bg-gray-900/30",children:[E.jsx("span",{className:"text-[10px] text-gray-500 uppercase font-semibold",children:"Examples:"}),n.map(L=>E.jsx("button",{onClick:()=>i(L.query),title:L.description,className:"text-[11px] px-2 py-0.5 rounded bg-gray-800 text-gray-300 hover:bg-gray-700 hover:text-white transition-colors",children:L.label},L.label))]}),E.jsxs("div",{className:"border-b border-gray-800 p-4 space-y-2",children:[E.jsxs("div",{className:"flex gap-2 items-start",children:[E.jsxs("div",{className:"flex-1 space-y-1",children:[E.jsx("textarea",{value:r,onChange:L=>i(L.target.value),onKeyDown:L=>{(L.ctrlKey||L.metaKey)&&L.key==="Enter"&&(L.preventDefault(),_())},rows:2,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-200 focus:outline-none focus:border-blue-500 resize-y",placeholder:e?"Enter MetricsQL query...":"Enter PromQL query..."}),E.jsxs("div",{className:"flex items-center gap-2",children:[E.jsx("span",{className:"text-[10px] text-gray-500",children:"Metrics:"}),E.jsx("button",{onClick:()=>N(!S),className:"text-[10px] text-blue-400 hover:text-blue-300",children:S?"Hide":`Browse (${cg.length})`})]})]}),E.jsxs("div",{className:"flex flex-col gap-1",children:[E.jsx("div",{className:"flex gap-1",children:tD.map((L,I)=>E.jsx("button",{onClick:()=>s(I),className:`px-2 py-1 rounded text-xs font-medium transition-colors ${a===I?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:L.label},L.label))}),E.jsxs("button",{onClick:_,className:"flex items-center justify-center gap-1.5 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:[E.jsx(zl,{size:14}),"Execute"]})]})]}),p!==null&&E.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500",children:[E.jsx(ka,{size:10})," ",p,"ms"]})]}),S&&E.jsxs("div",{className:"border-b border-gray-800 px-4 py-2 bg-gray-900/50 max-h-40 overflow-y-auto",children:[E.jsx("input",{type:"text",placeholder:"Filter metrics...",value:O,onChange:L=>C(L.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-2 py-1 text-xs text-gray-300 mb-1 focus:outline-none focus:border-blue-500"}),E.jsx("div",{className:"flex flex-wrap gap-1",children:T.map(L=>E.jsx("button",{onClick:()=>{i(L),N(!1)},className:"text-[10px] px-1.5 py-0.5 rounded bg-gray-800 text-gray-400 hover:bg-gray-700 hover:text-white font-mono",children:L},L))})]}),E.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[x&&E.jsx("div",{className:"bg-red-900/30 border border-red-800 rounded p-3 text-sm text-red-300 mb-4",children:x}),f&&!x&&E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[E.jsxs("button",{onClick:()=>u("chart"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${o==="chart"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[E.jsx(ja,{size:12})," Chart"]}),E.jsxs("button",{onClick:()=>u("table"),className:`flex items-center gap-1 px-3 py-1 rounded text-xs font-medium transition-colors ${o==="table"?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:[E.jsx(Kg,{size:12})," Table"]}),E.jsxs("span",{className:"text-xs text-gray-500",children:[f.data?.result?.length||0," series"]})]}),o==="chart"&&P.length>0&&E.jsx("div",{className:"h-80 w-full",children:E.jsx(xc,{width:"100%",height:"100%",children:E.jsxs(Cc,{data:P,children:[E.jsx(Gl,{strokeDasharray:"3 3",stroke:"#374151"}),E.jsx(Yl,{dataKey:"time",tick:{fontSize:10,fill:"#9ca3af"},tickFormatter:L=>new Date(L*1e3).toLocaleTimeString()}),E.jsx(Ql,{tick:{fontSize:10,fill:"#9ca3af"}}),E.jsx(Nc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px",fontSize:"12px"},labelFormatter:L=>new Date(L*1e3).toLocaleString()}),E.jsx(Sd,{wrapperStyle:{fontSize:"11px"}}),D.slice(0,10).map((L,I)=>E.jsx(Kl,{type:"monotone",dataKey:L,stroke:eD[I%eD.length],dot:!1,strokeWidth:1.5},L))]})})}),o==="table"&&f.data?.result&&E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:"Series"}),E.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:"Timestamp"}),E.jsx("th",{className:"text-left px-3 py-2 text-gray-400 font-semibold",children:"Value"})]})}),E.jsx("tbody",{children:f.data.result.map((L,I)=>{const q=nD(L.metric),U=L.values||(L.value?[L.value]:[]);return U.slice(0,50).map(([z,H],X)=>E.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-800/30",children:[X===0&&E.jsx("td",{rowSpan:Math.min(U.length,50),className:"px-3 py-1.5 text-gray-300 font-mono align-top",children:q}),E.jsx("td",{className:"px-3 py-1.5 text-gray-400 font-mono",children:new Date(z*1e3).toLocaleString()}),E.jsx("td",{className:"px-3 py-1.5 text-gray-200 font-mono",children:H})]},`${I}-${X}`))})})]})})]}),!f&&!x&&E.jsxs("div",{className:"text-gray-500 text-sm py-12 text-center",children:[E.jsx(Il,{size:24,className:"mx-auto mb-2 text-gray-600"}),"Select an example query or write your own, then click ",E.jsx("strong",{children:"Execute"}),"."]})]})]})}function or({feature:t}){return E.jsxs("div",{className:"bg-amber-900/20 border border-amber-700/50 rounded-lg p-3 mb-4 flex items-start gap-2",children:[E.jsx(Yq,{size:14,className:"text-amber-400 flex-shrink-0 mt-0.5"}),E.jsxs("p",{className:"text-xs text-amber-300/90",children:[E.jsx("strong",{children:"Playground Mode:"})," ",t," operations are read-only with sample data. To use write/admin features, run the binary with your actual database connection."]})]})}function boe(){const[t,e]=k.useState("dbs");return E.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Database Admin"}),E.jsx(or,{feature:"Create/drop database and user management"}),E.jsx("div",{className:"flex gap-2 mb-4",children:["dbs","cqs","users"].map(n=>E.jsx("button",{onClick:()=>e(n),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${t===n?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:n==="dbs"?"Databases":n==="cqs"?"Continuous Queries":"Users"},n))}),t==="dbs"&&E.jsx("div",{className:"space-y-3",children:Yf.map(n=>{const r=tS[n]||[];return E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:n}),E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Retention Policy"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Duration"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Shard Duration"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Replica"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Default"})]})}),E.jsx("tbody",{children:r.map(i=>E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:i.name}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:i.duration==="0s"?"INF":i.duration}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:i.shardGroupDuration}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:i.replicaN}),E.jsx("td",{className:"px-2 py-1.5",children:i.default?E.jsx(Mf,{size:12,className:"text-green-400"}):E.jsx("span",{className:"text-gray-600",children:"-"})})]},i.name))})]})]},n)})}),t==="cqs"&&E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:lB.map(n=>E.jsxs("div",{className:"mb-3",children:[E.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-1",children:n.name}),n.values.length===0?E.jsx("p",{className:"text-xs text-gray-600",children:"No continuous queries"}):n.values.map((r,i)=>E.jsxs("div",{className:"bg-gray-800 rounded p-2 mb-1",children:[E.jsx("span",{className:"text-xs text-blue-400 font-medium",children:r[0]}),E.jsx("pre",{className:"text-[10px] text-gray-400 font-mono mt-1 whitespace-pre-wrap",children:r[1]})]},i))]},n.name))}),t==="users"&&E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Username"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Admin"})]})}),E.jsx("tbody",{children:sB.map(n=>E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:n.user}),E.jsx("td",{className:"px-2 py-1.5",children:n.admin?E.jsx(Mf,{size:12,className:"text-green-400"}):E.jsx(Vg,{size:12,className:"text-gray-600"})})]},n.user))})]})})]})}function woe(){const[t,e]=k.useState("cpu,host=web-01 usage_user=42.5,usage_system=8.2 1609459200000000000"),[n,r]=k.useState(!1);return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Write Data"}),E.jsx(or,{feature:"Write"}),E.jsxs("div",{className:"space-y-3",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Database"}),E.jsx("select",{className:"bg-gray-800 border border-gray-700 rounded text-xs text-gray-300 px-2 py-1.5",children:Yf.map(i=>E.jsx("option",{children:i},i))})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-xs text-gray-400 block mb-1",children:"Line Protocol Data"}),E.jsx("textarea",{value:t,onChange:i=>e(i.target.value),rows:6,className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm font-mono text-gray-200 focus:outline-none focus:border-blue-500"})]}),E.jsx("button",{onClick:()=>r(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded text-sm font-medium transition-colors",children:"Write (Simulated)"}),n&&E.jsxs("div",{className:"bg-green-900/30 border border-green-700/50 rounded p-3 text-xs text-green-300",children:[E.jsx(Mf,{size:12,className:"inline mr-1"}),"Simulated write accepted. In production, this would write to your actual InfluxDB instance."]})]})]})}function Soe(){return E.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"System Health"}),E.jsx(or,{feature:"System health monitoring"}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Version"}),E.jsx("div",{className:"text-lg font-semibold text-white",children:"1.8.10"})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Uptime"}),E.jsx("div",{className:"text-lg font-semibold text-white",children:"72h 15m"})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),E.jsx("div",{className:"text-lg font-semibold text-white",children:"4,287"})]})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Runtime Stats"}),E.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:"Queries Executed"}),E.jsx("div",{className:"text-white font-mono mt-0.5",children:"47,821"})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:"Points Written"}),E.jsx("div",{className:"text-white font-mono mt-0.5",children:"2,847,193"})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:"Write Requests"}),E.jsx("div",{className:"text-white font-mono mt-0.5",children:"9,481"})]}),E.jsxs("div",{children:[E.jsx("span",{className:"text-gray-500",children:"GOMAXPROCS"}),E.jsx("div",{className:"text-white font-mono mt-0.5",children:"4"})]})]})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("h3",{className:"text-sm font-semibold text-white mb-3",children:"Database Stats"}),E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Database"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Measurements"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Series"})]})}),E.jsxs("tbody",{children:[E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200",children:"telegraf"}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"7"}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"3,142"})]}),E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200",children:"app_metrics"}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"4"}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"847"})]}),E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200",children:"iot_sensors"}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"4"}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:"298"})]})]})]})]})]})}function iD(){const t=ooe.data.activeTargets;return E.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Targets"}),E.jsx(or,{feature:"Target management"}),E.jsx("div",{className:"grid gap-3",children:t.map((e,n)=>E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 flex items-center justify-between",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[e.health==="up"?E.jsx(Mf,{size:16,className:"text-green-400"}):E.jsx(Vg,{size:16,className:"text-red-400"}),E.jsxs("div",{children:[E.jsx("div",{className:"text-sm font-medium text-white",children:e.labels.instance}),E.jsxs("div",{className:"text-xs text-gray-400",children:["Job: ",e.labels.job,"  Pool: ",e.scrapePool]})]})]}),E.jsxs("div",{className:"text-right text-xs",children:[E.jsxs("div",{className:"text-gray-400",children:[e.scrapeInterval," interval"]}),E.jsxs("div",{className:"text-gray-500",children:["Last: ",e.lastScrapeDuration.toFixed(3),"s ago"]}),e.lastError&&E.jsx("div",{className:"text-red-400 mt-0.5",children:e.lastError})]})]},n))})]})}function aD(){const t=coe.data.groups;return E.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Alert Rules"}),E.jsx(or,{feature:"Alert rule management"}),t.map(e=>E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsxs("h3",{className:"text-sm font-semibold text-white mb-2",children:[e.name," ",E.jsx("span",{className:"text-xs text-gray-500 font-normal",children:e.file})]}),E.jsx("div",{className:"space-y-2",children:e.rules.map((n,r)=>E.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[E.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.type==="alerting"&&E.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${n.state==="firing"?"bg-red-600/30 text-red-300":n.state==="pending"?"bg-yellow-600/30 text-yellow-300":"bg-green-600/30 text-green-300"}`,children:n.state?.toUpperCase()||"INACTIVE"}),E.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded font-medium ${n.type==="alerting"?"bg-orange-600/20 text-orange-300":"bg-blue-600/20 text-blue-300"}`,children:n.type}),E.jsx("span",{className:"text-sm font-medium text-white",children:n.name})]}),E.jsx("pre",{className:"text-[11px] text-gray-400 font-mono",children:n.query}),n.alerts&&n.alerts.length>0&&E.jsxs("div",{className:"mt-2 text-xs text-red-300",children:[E.jsx(ac,{size:10,className:"inline mr-1"}),n.alerts.length," active alert(s)"]})]},r))})]},e.name))]})}function sD(){const{backendType:t}=fj(),e=t==="victoriametrics",n=e?X_.data:uoe.data,r=n.headStats;return E.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"TSDB Status"}),E.jsx(or,{feature:"TSDB"}),E.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:e?E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500",children:"Total Series"}),E.jsx("div",{className:"text-xl font-semibold text-white",children:X_.data.totalSeries.toLocaleString()})]}):r?E.jsxs(E.Fragment,{children:[E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500",children:"Head Series"}),E.jsx("div",{className:"text-xl font-semibold text-white",children:r.numSeries.toLocaleString()})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500",children:"Label Pairs"}),E.jsx("div",{className:"text-xl font-semibold text-white",children:r.numLabelPairs.toLocaleString()})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("div",{className:"text-xs text-gray-500",children:"Chunks"}),E.jsx("div",{className:"text-xl font-semibold text-white",children:r.chunkCount.toLocaleString()})]})]}):null}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Top Series by Metric Name"}),E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Metric"}),E.jsx("th",{className:"text-right px-2 py-1 text-gray-400",children:"Series Count"})]})}),E.jsx("tbody",{children:n.seriesCountByMetricName.map(i=>E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:i.name}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300 text-right",children:i.value.toLocaleString()})]},i.name))})]})]}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("h3",{className:"text-sm font-semibold text-white mb-2",children:"Label Value Count by Label"}),E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Label"}),E.jsx("th",{className:"text-right px-2 py-1 text-gray-400",children:"Value Count"})]})}),E.jsx("tbody",{children:n.labelValueCountByLabelName.map(i=>E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:i.name}),E.jsx("td",{className:"px-2 py-1.5 text-gray-300 text-right",children:i.value.toLocaleString()})]},i.name))})]})]})]})}function lD(){const[t,e]=k.useState(""),n=cg.filter(r=>!t||r.toLowerCase().includes(t.toLowerCase()));return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Metrics Explorer"}),E.jsx(or,{feature:"Metrics exploration"}),E.jsx("input",{type:"text",placeholder:"Filter metrics...",value:t,onChange:r=>e(r.target.value),className:"w-full bg-gray-800 border border-gray-700 rounded px-3 py-2 text-sm text-gray-300 focus:outline-none focus:border-blue-500"}),E.jsx("div",{className:"space-y-1",children:n.map(r=>{const i=doe[r];return E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded p-3 flex items-center justify-between",children:[E.jsx("span",{className:"font-mono text-sm text-gray-200",children:r}),i&&E.jsxs("div",{className:"text-xs text-gray-500",children:[E.jsx("span",{className:"bg-gray-800 px-1.5 py-0.5 rounded",children:i[0].type}),i[0].help&&E.jsx("span",{className:"ml-2",children:i[0].help})]})]},r)})}),E.jsxs("p",{className:"text-xs text-gray-500",children:[n.length," of ",cg.length," metrics"]})]})}function oD(){return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Configuration"}),E.jsx(or,{feature:"Configuration viewing"}),E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:E.jsx("pre",{className:"text-xs font-mono text-gray-300 whitespace-pre-wrap",children:foe.data.yaml})})]})}function joe(){const t=hoe.data;return E.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Active Queries"}),E.jsx(or,{feature:"Query management"}),E.jsxs("table",{className:"w-full text-xs",children:[E.jsx("thead",{children:E.jsxs("tr",{className:"border-b border-gray-700",children:[E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"ID"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Query"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Duration"}),E.jsx("th",{className:"text-left px-2 py-1 text-gray-400",children:"Remote"})]})}),E.jsx("tbody",{children:t.map(e=>E.jsxs("tr",{className:"border-b border-gray-800/50",children:[E.jsx("td",{className:"px-2 py-1.5 text-gray-300",children:e.id}),E.jsx("td",{className:"px-2 py-1.5 text-gray-200 font-mono",children:e.query}),E.jsx("td",{className:"px-2 py-1.5 text-gray-400",children:e.duration}),E.jsx("td",{className:"px-2 py-1.5 text-gray-500",children:e.remote_addr})]},e.id))})]}),E.jsx("h2",{className:"text-lg font-semibold text-white mt-6",children:"Top Queries"}),E.jsxs("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:[E.jsx("h3",{className:"text-xs font-semibold text-gray-400 mb-2",children:"By Count"}),moe.data.topByCount.map((e,n)=>E.jsxs("div",{className:"flex items-center justify-between py-1 border-b border-gray-800/50",children:[E.jsx("span",{className:"text-xs font-mono text-gray-300 truncate flex-1",children:e.query}),E.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:[e.count," calls"]})]},n))]})]})}function Noe(){return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Snapshots"}),E.jsx(or,{feature:"Snapshot creation/deletion"}),E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4 space-y-2",children:poe.map(t=>E.jsxs("div",{className:"flex items-center justify-between bg-gray-800 rounded p-3",children:[E.jsx("span",{className:"text-sm font-mono text-gray-200",children:t}),E.jsx("span",{className:"text-xs text-gray-500",children:"Read-only in playground"})]},t))})]})}function Coe(){return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Export / Import"}),E.jsx(or,{feature:"Data export and import"}),E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:E.jsx("p",{className:"text-sm text-gray-400",children:"In production, this page lets you export data in JSON, CSV, or native format and import data from various sources. Connect a real VictoriaMetrics instance to use this feature."})})]})}function koe(){return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Admin Operations"}),E.jsx(or,{feature:"Admin operations (force merge, cache reset, series deletion)"}),E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:E.jsxs("div",{className:"grid gap-3",children:[E.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[E.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:"Force Merge"}),E.jsx("p",{className:"text-xs text-gray-400",children:"Triggers immediate compaction of data files. Disabled in playground."})]}),E.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[E.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:"Reset Rollup Cache"}),E.jsx("p",{className:"text-xs text-gray-400",children:"Clears the rollup result cache. Disabled in playground."})]}),E.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[E.jsx("h3",{className:"text-sm font-medium text-white mb-1",children:"Delete Series"}),E.jsx("p",{className:"text-xs text-gray-400",children:"Deletes time series matching a selector. Disabled in playground."})]})]})})]})}function Ooe(){return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Service Discovery"}),E.jsx(or,{feature:"Service discovery"}),E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:E.jsxs("div",{className:"space-y-2",children:[E.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[E.jsx("h3",{className:"text-sm font-medium text-white",children:"prometheus"}),E.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Static config  1 target: localhost:9090"})]}),E.jsxs("div",{className:"bg-gray-800 rounded p-3",children:[E.jsx("h3",{className:"text-sm font-medium text-white",children:"node"}),E.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Static config  3 targets: web-01:9100, web-02:9100, db-01:9100"})]})]})})]})}function cD(){return E.jsxs("div",{className:"p-6 max-w-4xl mx-auto space-y-4",children:[E.jsx("h1",{className:"text-xl font-bold text-white",children:"Alertmanager"}),E.jsx(or,{feature:"Alertmanager integration"}),E.jsx("div",{className:"bg-gray-900 border border-gray-800 rounded-lg p-4",children:E.jsx("p",{className:"text-sm text-gray-400",children:"No Alertmanager connected in playground mode. In production, this page shows active alerts, silences, and lets you create/manage silences."})})]})}function Aoe(){return m.jsx(PH,{children:m.jsx(vV,{children:m.jsxs(V3,{children:[m.jsx(Te,{path:"/",element:m.jsx(Yo,{to:"/influxdb/query",replace:!0})}),m.jsx(Te,{path:"/influxdb/query",element:m.jsx(xoe,{})}),m.jsx(Te,{path:"/influxdb/admin",element:m.jsx(boe,{})}),m.jsx(Te,{path:"/influxdb/write",element:m.jsx(woe,{})}),m.jsx(Te,{path:"/influxdb/health",element:m.jsx(Soe,{})}),m.jsx(Te,{path:"/prometheus/query",element:m.jsx(rD,{})}),m.jsx(Te,{path:"/prometheus/targets",element:m.jsx(iD,{})}),m.jsx(Te,{path:"/prometheus/alerts",element:m.jsx(aD,{})}),m.jsx(Te,{path:"/prometheus/alertmanager",element:m.jsx(cD,{})}),m.jsx(Te,{path:"/prometheus/tsdb",element:m.jsx(sD,{})}),m.jsx(Te,{path:"/prometheus/metrics",element:m.jsx(lD,{})}),m.jsx(Te,{path:"/prometheus/config",element:m.jsx(oD,{})}),m.jsx(Te,{path:"/prometheus/service-discovery",element:m.jsx(Ooe,{})}),m.jsx(Te,{path:"/victoriametrics/query",element:m.jsx(rD,{})}),m.jsx(Te,{path:"/victoriametrics/targets",element:m.jsx(iD,{})}),m.jsx(Te,{path:"/victoriametrics/alerts",element:m.jsx(aD,{})}),m.jsx(Te,{path:"/victoriametrics/alertmanager",element:m.jsx(cD,{})}),m.jsx(Te,{path:"/victoriametrics/metrics",element:m.jsx(lD,{})}),m.jsx(Te,{path:"/victoriametrics/config",element:m.jsx(oD,{})}),m.jsx(Te,{path:"/victoriametrics/tsdb",element:m.jsx(sD,{})}),m.jsx(Te,{path:"/victoriametrics/active-queries",element:m.jsx(joe,{})}),m.jsx(Te,{path:"/victoriametrics/snapshots",element:m.jsx(Noe,{})}),m.jsx(Te,{path:"/victoriametrics/export-import",element:m.jsx(Coe,{})}),m.jsx(Te,{path:"/victoriametrics/admin",element:m.jsx(koe,{})})]})})})}function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nS.apply(null,arguments)}function Eoe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}let rS=[],oB=[];(()=>{let t="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(e=>e?parseInt(e,36):1);for(let e=0,n=0;e<t.length;e++)(e%2?oB:rS).push(n=n+t[e])})();function Toe(t){if(t<768)return!1;for(let e=0,n=rS.length;;){let r=e+n>>1;if(t<rS[r])n=r;else if(t>=oB[r])e=r+1;else return!0;if(e==n)return!1}}function uD(t){return t>=127462&&t<=127487}const fD=8205;function Moe(t,e,n=!0,r=!0){return(n?cB:_oe)(t,e,r)}function cB(t,e,n){if(e==t.length)return e;e&&uB(t.charCodeAt(e))&&fB(t.charCodeAt(e-1))&&e--;let r=l1(t,e);for(e+=dD(r);e<t.length;){let i=l1(t,e);if(r==fD||i==fD||n&&Toe(i))e+=dD(i),r=i;else if(uD(i)){let a=0,s=e-2;for(;s>=0&&uD(l1(t,s));)a++,s-=2;if(a%2==0)break;e+=2}else break}return e}function _oe(t,e,n){for(;e>0;){let r=cB(t,e-2,n);if(r<e)return r;e--}return 0}function l1(t,e){let n=t.charCodeAt(e);if(!fB(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return uB(r)?(n-55296<<10)+(r-56320)+65536:n}function uB(t){return t>=56320&&t<57344}function fB(t){return t>=55296&&t<56320}function dD(t){return t<65536?1:2}class Xe{lineAt(e){if(e<0||e>this.length)throw new RangeError(`Invalid position ${e} in document of length ${this.length}`);return this.lineInner(e,!1,1,0)}line(e){if(e<1||e>this.lines)throw new RangeError(`Invalid line number ${e} in ${this.lines}-line document`);return this.lineInner(e,!0,1,0)}replace(e,n,r){[e,n]=kc(this,e,n);let i=[];return this.decompose(0,e,i,2),r.length&&r.decompose(0,r.length,i,3),this.decompose(n,this.length,i,1),_i.from(i,this.length-(n-e)+r.length)}append(e){return this.replace(this.length,this.length,e)}slice(e,n=this.length){[e,n]=kc(this,e,n);let r=[];return this.decompose(e,n,r,0),_i.from(r,n-e)}eq(e){if(e==this)return!0;if(e.length!=this.length||e.lines!=this.lines)return!1;let n=this.scanIdentical(e,1),r=this.length-this.scanIdentical(e,-1),i=new wf(this),a=new wf(e);for(let s=n,o=n;;){if(i.next(s),a.next(s),s=0,i.lineBreak!=a.lineBreak||i.done!=a.done||i.value!=a.value)return!1;if(o+=i.value.length,i.done||o>=r)return!0}}iter(e=1){return new wf(this,e)}iterRange(e,n=this.length){return new dB(this,e,n)}iterLines(e,n){let r;if(e==null)r=this.iter();else{n==null&&(n=this.lines+1);let i=this.line(e).from;r=this.iterRange(i,Math.max(i,n==this.lines+1?this.length:n<=1?0:this.line(n-1).to))}return new hB(r)}toString(){return this.sliceString(0)}toJSON(){let e=[];return this.flatten(e),e}constructor(){}static of(e){if(e.length==0)throw new RangeError("A document must have at least one line");return e.length==1&&!e[0]?Xe.empty:e.length<=32?new Pt(e):_i.from(Pt.split(e,[]))}}class Pt extends Xe{constructor(e,n=Doe(e)){super(),this.text=e,this.length=n}get lines(){return this.text.length}get children(){return null}lineInner(e,n,r,i){for(let a=0;;a++){let s=this.text[a],o=i+s.length;if((n?r:o)>=e)return new Poe(i,o,r,s);i=o+1,r++}}decompose(e,n,r,i){let a=e<=0&&n>=this.length?this:new Pt(hD(this.text,e,n),Math.min(n,this.length)-Math.max(0,e));if(i&1){let s=r.pop(),o=ep(a.text,s.text.slice(),0,a.length);if(o.length<=32)r.push(new Pt(o,s.length+a.length));else{let u=o.length>>1;r.push(new Pt(o.slice(0,u)),new Pt(o.slice(u)))}}else r.push(a)}replace(e,n,r){if(!(r instanceof Pt))return super.replace(e,n,r);[e,n]=kc(this,e,n);let i=ep(this.text,ep(r.text,hD(this.text,0,e)),n),a=this.length+r.length-(n-e);return i.length<=32?new Pt(i,a):_i.from(Pt.split(i,[]),a)}sliceString(e,n=this.length,r=`
`){[e,n]=kc(this,e,n);let i="";for(let a=0,s=0;a<=n&&s<this.text.length;s++){let o=this.text[s],u=a+o.length;a>e&&s&&(i+=r),e<u&&n>a&&(i+=o.slice(Math.max(0,e-a),n-a)),a=u+1}return i}flatten(e){for(let n of this.text)e.push(n)}scanIdentical(){return 0}static split(e,n){let r=[],i=-1;for(let a of e)r.push(a),i+=a.length+1,r.length==32&&(n.push(new Pt(r,i)),r=[],i=-1);return i>-1&&n.push(new Pt(r,i)),n}}class _i extends Xe{constructor(e,n){super(),this.children=e,this.length=n,this.lines=0;for(let r of e)this.lines+=r.lines}lineInner(e,n,r,i){for(let a=0;;a++){let s=this.children[a],o=i+s.length,u=r+s.lines-1;if((n?u:o)>=e)return s.lineInner(e,n,r,i);i=o+1,r=u+1}}decompose(e,n,r,i){for(let a=0,s=0;s<=n&&a<this.children.length;a++){let o=this.children[a],u=s+o.length;if(e<=u&&n>=s){let f=i&((s<=e?1:0)|(u>=n?2:0));s>=e&&u<=n&&!f?r.push(o):o.decompose(e-s,n-s,r,f)}s=u+1}}replace(e,n,r){if([e,n]=kc(this,e,n),r.lines<this.lines)for(let i=0,a=0;i<this.children.length;i++){let s=this.children[i],o=a+s.length;if(e>=a&&n<=o){let u=s.replace(e-a,n-a,r),f=this.lines-s.lines+u.lines;if(u.lines<f>>4&&u.lines>f>>6){let h=this.children.slice();return h[i]=u,new _i(h,this.length-(n-e)+r.length)}return super.replace(a,o,u)}a=o+1}return super.replace(e,n,r)}sliceString(e,n=this.length,r=`
`){[e,n]=kc(this,e,n);let i="";for(let a=0,s=0;a<this.children.length&&s<=n;a++){let o=this.children[a],u=s+o.length;s>e&&a&&(i+=r),e<u&&n>s&&(i+=o.sliceString(e-s,n-s,r)),s=u+1}return i}flatten(e){for(let n of this.children)n.flatten(e)}scanIdentical(e,n){if(!(e instanceof _i))return 0;let r=0,[i,a,s,o]=n>0?[0,0,this.children.length,e.children.length]:[this.children.length-1,e.children.length-1,-1,-1];for(;;i+=n,a+=n){if(i==s||a==o)return r;let u=this.children[i],f=e.children[a];if(u!=f)return r+u.scanIdentical(f,n);r+=u.length+1}}static from(e,n=e.reduce((r,i)=>r+i.length+1,-1)){let r=0;for(let x of e)r+=x.lines;if(r<32){let x=[];for(let b of e)b.flatten(x);return new Pt(x,n)}let i=Math.max(32,r>>5),a=i<<1,s=i>>1,o=[],u=0,f=-1,h=[];function p(x){let b;if(x.lines>a&&x instanceof _i)for(let j of x.children)p(j);else x.lines>s&&(u>s||!u)?(y(),o.push(x)):x instanceof Pt&&u&&(b=h[h.length-1])instanceof Pt&&x.lines+b.lines<=32?(u+=x.lines,f+=x.length+1,h[h.length-1]=new Pt(b.text.concat(x.text),b.length+1+x.length)):(u+x.lines>i&&y(),u+=x.lines,f+=x.length+1,h.push(x))}function y(){u!=0&&(o.push(h.length==1?h[0]:_i.from(h,f)),f=-1,u=h.length=0)}for(let x of e)p(x);return y(),o.length==1?o[0]:new _i(o,n)}}Xe.empty=new Pt([""],0);function Doe(t){let e=-1;for(let n of t)e+=n.length+1;return e}function ep(t,e,n=0,r=1e9){for(let i=0,a=0,s=!0;a<t.length&&i<=r;a++){let o=t[a],u=i+o.length;u>=n&&(u>r&&(o=o.slice(0,r-i)),i<n&&(o=o.slice(n-i)),s?(e[e.length-1]+=o,s=!1):e.push(o)),i=u+1}return e}function hD(t,e,n){return ep(t,[""],e,n)}class wf{constructor(e,n=1){this.dir=n,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[e],this.offsets=[n>0?1:(e instanceof Pt?e.text.length:e.children.length)<<1]}nextInner(e,n){for(this.done=this.lineBreak=!1;;){let r=this.nodes.length-1,i=this.nodes[r],a=this.offsets[r],s=a>>1,o=i instanceof Pt?i.text.length:i.children.length;if(s==(n>0?o:0)){if(r==0)return this.done=!0,this.value="",this;n>0&&this.offsets[r-1]++,this.nodes.pop(),this.offsets.pop()}else if((a&1)==(n>0?0:1)){if(this.offsets[r]+=n,e==0)return this.lineBreak=!0,this.value=`
`,this;e--}else if(i instanceof Pt){let u=i.text[s+(n<0?-1:0)];if(this.offsets[r]+=n,u.length>Math.max(0,e))return this.value=e==0?u:n>0?u.slice(e):u.slice(0,u.length-e),this;e-=u.length}else{let u=i.children[s+(n<0?-1:0)];e>u.length?(e-=u.length,this.offsets[r]+=n):(n<0&&this.offsets[r]--,this.nodes.push(u),this.offsets.push(n>0?1:(u instanceof Pt?u.text.length:u.children.length)<<1))}}}next(e=0){return e<0&&(this.nextInner(-e,-this.dir),e=this.value.length),this.nextInner(e,this.dir)}}class dB{constructor(e,n,r){this.value="",this.done=!1,this.cursor=new wf(e,n>r?-1:1),this.pos=n>r?e.length:0,this.from=Math.min(n,r),this.to=Math.max(n,r)}nextInner(e,n){if(n<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;e+=Math.max(0,n<0?this.pos-this.to:this.from-this.pos);let r=n<0?this.pos-this.from:this.to-this.pos;e>r&&(e=r),r-=e;let{value:i}=this.cursor.next(e);return this.pos+=(i.length+e)*n,this.value=i.length<=r?i:n<0?i.slice(i.length-r):i.slice(0,r),this.done=!this.value,this}next(e=0){return e<0?e=Math.max(e,this.from-this.pos):e>0&&(e=Math.min(e,this.to-this.pos)),this.nextInner(e,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class hB{constructor(e){this.inner=e,this.afterBreak=!0,this.value="",this.done=!1}next(e=0){let{done:n,lineBreak:r,value:i}=this.inner.next(e);return n&&this.afterBreak?(this.value="",this.afterBreak=!1):n?(this.done=!0,this.value=""):r?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=i,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Xe.prototype[Symbol.iterator]=function(){return this.iter()},wf.prototype[Symbol.iterator]=dB.prototype[Symbol.iterator]=hB.prototype[Symbol.iterator]=function(){return this});class Poe{constructor(e,n,r,i){this.from=e,this.to=n,this.number=r,this.text=i}get length(){return this.to-this.from}}function kc(t,e,n){return e=Math.max(0,Math.min(t.length,e)),[e,Math.max(e,Math.min(t.length,n))]}function sn(t,e,n=!0,r=!0){return Moe(t,e,n,r)}function Roe(t){return t>=56320&&t<57344}function Loe(t){return t>=55296&&t<56320}function Qn(t,e){let n=t.charCodeAt(e);if(!Loe(n)||e+1==t.length)return n;let r=t.charCodeAt(e+1);return Roe(r)?(n-55296<<10)+(r-56320)+65536:n}function Q2(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}function Di(t){return t<65536?1:2}const iS=/\r\n?|\n/;var Ln=(function(t){return t[t.Simple=0]="Simple",t[t.TrackDel=1]="TrackDel",t[t.TrackBefore=2]="TrackBefore",t[t.TrackAfter=3]="TrackAfter",t})(Ln||(Ln={}));class qi{constructor(e){this.sections=e}get length(){let e=0;for(let n=0;n<this.sections.length;n+=2)e+=this.sections[n];return e}get newLength(){let e=0;for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n+1];e+=r<0?this.sections[n]:r}return e}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(e){for(let n=0,r=0,i=0;n<this.sections.length;){let a=this.sections[n++],s=this.sections[n++];s<0?(e(r,i,a),i+=a):i+=s,r+=a}}iterChangedRanges(e,n=!1){aS(this,e,n)}get invertedDesc(){let e=[];for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];i<0?e.push(r,i):e.push(i,r)}return new qi(e)}composeDesc(e){return this.empty?e:e.empty?this:mB(this,e)}mapDesc(e,n=!1){return e.empty?this:sS(this,e,n)}mapPos(e,n=-1,r=Ln.Simple){let i=0,a=0;for(let s=0;s<this.sections.length;){let o=this.sections[s++],u=this.sections[s++],f=i+o;if(u<0){if(f>e)return a+(e-i);a+=o}else{if(r!=Ln.Simple&&f>=e&&(r==Ln.TrackDel&&i<e&&f>e||r==Ln.TrackBefore&&i<e||r==Ln.TrackAfter&&f>e))return null;if(f>e||f==e&&n<0&&!o)return e==i||n<0?a:a+u;a+=u}i=f}if(e>i)throw new RangeError(`Position ${e} is out of range for changeset of length ${i}`);return a}touchesRange(e,n=e){for(let r=0,i=0;r<this.sections.length&&i<=n;){let a=this.sections[r++],s=this.sections[r++],o=i+a;if(s>=0&&i<=n&&o>=e)return i<e&&o>n?"cover":!0;i=o}return!1}toString(){let e="";for(let n=0;n<this.sections.length;){let r=this.sections[n++],i=this.sections[n++];e+=(e?" ":"")+r+(i>=0?":"+i:"")}return e}toJSON(){return this.sections}static fromJSON(e){if(!Array.isArray(e)||e.length%2||e.some(n=>typeof n!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new qi(e)}static create(e){return new qi(e)}}class Yt extends qi{constructor(e,n){super(e),this.inserted=n}apply(e){if(this.length!=e.length)throw new RangeError("Applying change set to a document with the wrong length");return aS(this,(n,r,i,a,s)=>e=e.replace(i,i+(r-n),s),!1),e}mapDesc(e,n=!1){return sS(this,e,n,!0)}invert(e){let n=this.sections.slice(),r=[];for(let i=0,a=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o>=0){n[i]=o,n[i+1]=s;let u=i>>1;for(;r.length<u;)r.push(Xe.empty);r.push(s?e.slice(a,a+s):Xe.empty)}a+=s}return new Yt(n,r)}compose(e){return this.empty?e:e.empty?this:mB(this,e,!0)}map(e,n=!1){return e.empty?this:sS(this,e,n,!0)}iterChanges(e,n=!1){aS(this,e,n)}get desc(){return qi.create(this.sections)}filter(e){let n=[],r=[],i=[],a=new Qf(this);e:for(let s=0,o=0;;){let u=s==e.length?1e9:e[s++];for(;o<u||o==u&&a.len==0;){if(a.done)break e;let h=Math.min(a.len,u-o);Tn(i,h,-1);let p=a.ins==-1?-1:a.off==0?a.ins:0;Tn(n,h,p),p>0&&ks(r,n,a.text),a.forward(h),o+=h}let f=e[s++];for(;o<f;){if(a.done)break e;let h=Math.min(a.len,f-o);Tn(n,h,-1),Tn(i,h,a.ins==-1?-1:a.off==0?a.ins:0),a.forward(h),o+=h}}return{changes:new Yt(n,r),filtered:qi.create(i)}}toJSON(){let e=[];for(let n=0;n<this.sections.length;n+=2){let r=this.sections[n],i=this.sections[n+1];i<0?e.push(r):i==0?e.push([r]):e.push([r].concat(this.inserted[n>>1].toJSON()))}return e}static of(e,n,r){let i=[],a=[],s=0,o=null;function u(h=!1){if(!h&&!i.length)return;s<n&&Tn(i,n-s,-1);let p=new Yt(i,a);o=o?o.compose(p.map(o)):p,i=[],a=[],s=0}function f(h){if(Array.isArray(h))for(let p of h)f(p);else if(h instanceof Yt){if(h.length!=n)throw new RangeError(`Mismatched change set length (got ${h.length}, expected ${n})`);u(),o=o?o.compose(h.map(o)):h}else{let{from:p,to:y=p,insert:x}=h;if(p>y||p<0||y>n)throw new RangeError(`Invalid change range ${p} to ${y} (in doc of length ${n})`);let b=x?typeof x=="string"?Xe.of(x.split(r||iS)):x:Xe.empty,j=b.length;if(p==y&&j==0)return;p<s&&u(),p>s&&Tn(i,p-s,-1),Tn(i,y-p,j),ks(a,i,b),s=y}}return f(e),u(!o),o}static empty(e){return new Yt(e?[e,-1]:[],[])}static fromJSON(e){if(!Array.isArray(e))throw new RangeError("Invalid JSON representation of ChangeSet");let n=[],r=[];for(let i=0;i<e.length;i++){let a=e[i];if(typeof a=="number")n.push(a,-1);else{if(!Array.isArray(a)||typeof a[0]!="number"||a.some((s,o)=>o&&typeof s!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(a.length==1)n.push(a[0],0);else{for(;r.length<i;)r.push(Xe.empty);r[i]=Xe.of(a.slice(1)),n.push(a[0],r[i].length)}}}return new Yt(n,r)}static createSet(e,n){return new Yt(e,n)}}function Tn(t,e,n,r=!1){if(e==0&&n<=0)return;let i=t.length-2;i>=0&&n<=0&&n==t[i+1]?t[i]+=e:i>=0&&e==0&&t[i]==0?t[i+1]+=n:r?(t[i]+=e,t[i+1]+=n):t.push(e,n)}function ks(t,e,n){if(n.length==0)return;let r=e.length-2>>1;if(r<t.length)t[t.length-1]=t[t.length-1].append(n);else{for(;t.length<r;)t.push(Xe.empty);t.push(n)}}function aS(t,e,n){let r=t.inserted;for(let i=0,a=0,s=0;s<t.sections.length;){let o=t.sections[s++],u=t.sections[s++];if(u<0)i+=o,a+=o;else{let f=i,h=a,p=Xe.empty;for(;f+=o,h+=u,u&&r&&(p=p.append(r[s-2>>1])),!(n||s==t.sections.length||t.sections[s+1]<0);)o=t.sections[s++],u=t.sections[s++];e(i,f,a,h,p),i=f,a=h}}}function sS(t,e,n,r=!1){let i=[],a=r?[]:null,s=new Qf(t),o=new Qf(e);for(let u=-1;;){if(s.done&&o.len||o.done&&s.len)throw new Error("Mismatched change set lengths");if(s.ins==-1&&o.ins==-1){let f=Math.min(s.len,o.len);Tn(i,f,-1),s.forward(f),o.forward(f)}else if(o.ins>=0&&(s.ins<0||u==s.i||s.off==0&&(o.len<s.len||o.len==s.len&&!n))){let f=o.len;for(Tn(i,o.ins,-1);f;){let h=Math.min(s.len,f);s.ins>=0&&u<s.i&&s.len<=h&&(Tn(i,0,s.ins),a&&ks(a,i,s.text),u=s.i),s.forward(h),f-=h}o.next()}else if(s.ins>=0){let f=0,h=s.len;for(;h;)if(o.ins==-1){let p=Math.min(h,o.len);f+=p,h-=p,o.forward(p)}else if(o.ins==0&&o.len<h)h-=o.len,o.next();else break;Tn(i,f,u<s.i?s.ins:0),a&&u<s.i&&ks(a,i,s.text),u=s.i,s.forward(s.len-h)}else{if(s.done&&o.done)return a?Yt.createSet(i,a):qi.create(i);throw new Error("Mismatched change set lengths")}}}function mB(t,e,n=!1){let r=[],i=n?[]:null,a=new Qf(t),s=new Qf(e);for(let o=!1;;){if(a.done&&s.done)return i?Yt.createSet(r,i):qi.create(r);if(a.ins==0)Tn(r,a.len,0,o),a.next();else if(s.len==0&&!s.done)Tn(r,0,s.ins,o),i&&ks(i,r,s.text),s.next();else{if(a.done||s.done)throw new Error("Mismatched change set lengths");{let u=Math.min(a.len2,s.len),f=r.length;if(a.ins==-1){let h=s.ins==-1?-1:s.off?0:s.ins;Tn(r,u,h,o),i&&h&&ks(i,r,s.text)}else s.ins==-1?(Tn(r,a.off?0:a.len,u,o),i&&ks(i,r,a.textBit(u))):(Tn(r,a.off?0:a.len,s.off?0:s.ins,o),i&&!s.off&&ks(i,r,s.text));o=(a.ins>u||s.ins>=0&&s.len>u)&&(o||r.length>f),a.forward2(u),s.forward(u)}}}}class Qf{constructor(e){this.set=e,this.i=0,this.next()}next(){let{sections:e}=this.set;this.i<e.length?(this.len=e[this.i++],this.ins=e[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:e}=this.set,n=this.i-2>>1;return n>=e.length?Xe.empty:e[n]}textBit(e){let{inserted:n}=this.set,r=this.i-2>>1;return r>=n.length&&!e?Xe.empty:n[r].slice(this.off,e==null?void 0:this.off+e)}forward(e){e==this.len?this.next():(this.len-=e,this.off+=e)}forward2(e){this.ins==-1?this.forward(e):e==this.ins?this.next():(this.ins-=e,this.off+=e)}}class El{constructor(e,n,r){this.from=e,this.to=n,this.flags=r}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let e=this.flags&7;return e==7?null:e}get goalColumn(){let e=this.flags>>6;return e==16777215?void 0:e}map(e,n=-1){let r,i;return this.empty?r=i=e.mapPos(this.from,n):(r=e.mapPos(this.from,1),i=e.mapPos(this.to,-1)),r==this.from&&i==this.to?this:new El(r,i,this.flags)}extend(e,n=e){if(e<=this.anchor&&n>=this.anchor)return he.range(e,n);let r=Math.abs(e-this.anchor)>Math.abs(n-this.anchor)?e:n;return he.range(this.anchor,r)}eq(e,n=!1){return this.anchor==e.anchor&&this.head==e.head&&this.goalColumn==e.goalColumn&&(!n||!this.empty||this.assoc==e.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(e){if(!e||typeof e.anchor!="number"||typeof e.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return he.range(e.anchor,e.head)}static create(e,n,r){return new El(e,n,r)}}class he{constructor(e,n){this.ranges=e,this.mainIndex=n}map(e,n=-1){return e.empty?this:he.create(this.ranges.map(r=>r.map(e,n)),this.mainIndex)}eq(e,n=!1){if(this.ranges.length!=e.ranges.length||this.mainIndex!=e.mainIndex)return!1;for(let r=0;r<this.ranges.length;r++)if(!this.ranges[r].eq(e.ranges[r],n))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new he([this.main],0)}addRange(e,n=!0){return he.create([e].concat(this.ranges),n?0:this.mainIndex+1)}replaceRange(e,n=this.mainIndex){let r=this.ranges.slice();return r[n]=e,he.create(r,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(e=>e.toJSON()),main:this.mainIndex}}static fromJSON(e){if(!e||!Array.isArray(e.ranges)||typeof e.main!="number"||e.main>=e.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new he(e.ranges.map(n=>El.fromJSON(n)),e.main)}static single(e,n=e){return new he([he.range(e,n)],0)}static create(e,n=0){if(e.length==0)throw new RangeError("A selection needs at least one range");for(let r=0,i=0;i<e.length;i++){let a=e[i];if(a.empty?a.from<=r:a.from<r)return he.normalized(e.slice(),n);r=a.to}return new he(e,n)}static cursor(e,n=0,r,i){return El.create(e,e,(n==0?0:n<0?8:16)|(r==null?7:Math.min(6,r))|(i??16777215)<<6)}static range(e,n,r,i){let a=(r??16777215)<<6|(i==null?7:Math.min(6,i));return n<e?El.create(n,e,48|a):El.create(e,n,(n>e?8:0)|a)}static normalized(e,n=0){let r=e[n];e.sort((i,a)=>i.from-a.from),n=e.indexOf(r);for(let i=1;i<e.length;i++){let a=e[i],s=e[i-1];if(a.empty?a.from<=s.to:a.from<s.to){let o=s.from,u=Math.max(a.to,s.to);i<=n&&n--,e.splice(--i,2,a.anchor>a.head?he.range(u,o):he.range(o,u))}}return new he(e,n)}}function pB(t,e){for(let n of t.ranges)if(n.to>e)throw new RangeError("Selection points outside of document")}let X2=0;class be{constructor(e,n,r,i,a){this.combine=e,this.compareInput=n,this.compare=r,this.isStatic=i,this.id=X2++,this.default=e([]),this.extensions=typeof a=="function"?a(this):a}get reader(){return this}static define(e={}){return new be(e.combine||(n=>n),e.compareInput||((n,r)=>n===r),e.compare||(e.combine?(n,r)=>n===r:Z2),!!e.static,e.enables)}of(e){return new tp([],this,0,e)}compute(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new tp(e,this,1,n)}computeN(e,n){if(this.isStatic)throw new Error("Can't compute a static facet");return new tp(e,this,2,n)}from(e,n){return n||(n=r=>r),this.compute([e],r=>n(r.field(e)))}}function Z2(t,e){return t==e||t.length==e.length&&t.every((n,r)=>n===e[r])}class tp{constructor(e,n,r,i){this.dependencies=e,this.facet=n,this.type=r,this.value=i,this.id=X2++}dynamicSlot(e){var n;let r=this.value,i=this.facet.compareInput,a=this.id,s=e[a]>>1,o=this.type==2,u=!1,f=!1,h=[];for(let p of this.dependencies)p=="doc"?u=!0:p=="selection"?f=!0:(((n=e[p.id])!==null&&n!==void 0?n:1)&1)==0&&h.push(e[p.id]);return{create(p){return p.values[s]=r(p),1},update(p,y){if(u&&y.docChanged||f&&(y.docChanged||y.selection)||lS(p,h)){let x=r(p);if(o?!mD(x,p.values[s],i):!i(x,p.values[s]))return p.values[s]=x,1}return 0},reconfigure:(p,y)=>{let x,b=y.config.address[a];if(b!=null){let j=fg(y,b);if(this.dependencies.every(S=>S instanceof be?y.facet(S)===p.facet(S):S instanceof On?y.field(S,!1)==p.field(S,!1):!0)||(o?mD(x=r(p),j,i):i(x=r(p),j)))return p.values[s]=j,0}else x=r(p);return p.values[s]=x,1}}}}function mD(t,e,n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!n(t[r],e[r]))return!1;return!0}function lS(t,e){let n=!1;for(let r of e)Sf(t,r)&1&&(n=!0);return n}function Boe(t,e,n){let r=n.map(u=>t[u.id]),i=n.map(u=>u.type),a=r.filter(u=>!(u&1)),s=t[e.id]>>1;function o(u){let f=[];for(let h=0;h<r.length;h++){let p=fg(u,r[h]);if(i[h]==2)for(let y of p)f.push(y);else f.push(p)}return e.combine(f)}return{create(u){for(let f of r)Sf(u,f);return u.values[s]=o(u),1},update(u,f){if(!lS(u,a))return 0;let h=o(u);return e.compare(h,u.values[s])?0:(u.values[s]=h,1)},reconfigure(u,f){let h=lS(u,r),p=f.config.facets[e.id],y=f.facet(e);if(p&&!h&&Z2(n,p))return u.values[s]=y,0;let x=o(u);return e.compare(x,y)?(u.values[s]=y,0):(u.values[s]=x,1)}}}const wm=be.define({static:!0});class On{constructor(e,n,r,i,a){this.id=e,this.createF=n,this.updateF=r,this.compareF=i,this.spec=a,this.provides=void 0}static define(e){let n=new On(X2++,e.create,e.update,e.compare||((r,i)=>r===i),e);return e.provide&&(n.provides=e.provide(n)),n}create(e){let n=e.facet(wm).find(r=>r.field==this);return(n?.create||this.createF)(e)}slot(e){let n=e[this.id]>>1;return{create:r=>(r.values[n]=this.create(r),1),update:(r,i)=>{let a=r.values[n],s=this.updateF(a,i);return this.compareF(a,s)?0:(r.values[n]=s,1)},reconfigure:(r,i)=>{let a=r.facet(wm),s=i.facet(wm),o;return(o=a.find(u=>u.field==this))&&o!=s.find(u=>u.field==this)?(r.values[n]=o.create(r),1):i.config.address[this.id]!=null?(r.values[n]=i.field(this),0):(r.values[n]=this.create(r),1)}}}init(e){return[this,wm.of({field:this,create:e})]}get extension(){return this}}const jl={lowest:4,low:3,default:2,high:1,highest:0};function sf(t){return e=>new gB(e,t)}const io={highest:sf(jl.highest),high:sf(jl.high),default:sf(jl.default),low:sf(jl.low),lowest:sf(jl.lowest)};class gB{constructor(e,n){this.inner=e,this.prec=n}}class I0{of(e){return new oS(this,e)}reconfigure(e){return I0.reconfigure.of({compartment:this,extension:e})}get(e){return e.config.compartments.get(this)}}class oS{constructor(e,n){this.compartment=e,this.inner=n}}class ug{constructor(e,n,r,i,a,s){for(this.base=e,this.compartments=n,this.dynamicSlots=r,this.address=i,this.staticValues=a,this.facets=s,this.statusTemplate=[];this.statusTemplate.length<r.length;)this.statusTemplate.push(0)}staticFacet(e){let n=this.address[e.id];return n==null?e.default:this.staticValues[n>>1]}static resolve(e,n,r){let i=[],a=Object.create(null),s=new Map;for(let y of zoe(e,n,s))y instanceof On?i.push(y):(a[y.facet.id]||(a[y.facet.id]=[])).push(y);let o=Object.create(null),u=[],f=[];for(let y of i)o[y.id]=f.length<<1,f.push(x=>y.slot(x));let h=r?.config.facets;for(let y in a){let x=a[y],b=x[0].facet,j=h&&h[y]||[];if(x.every(S=>S.type==0))if(o[b.id]=u.length<<1|1,Z2(j,x))u.push(r.facet(b));else{let S=b.combine(x.map(N=>N.value));u.push(r&&b.compare(S,r.facet(b))?r.facet(b):S)}else{for(let S of x)S.type==0?(o[S.id]=u.length<<1|1,u.push(S.value)):(o[S.id]=f.length<<1,f.push(N=>S.dynamicSlot(N)));o[b.id]=f.length<<1,f.push(S=>Boe(S,b,x))}}let p=f.map(y=>y(o));return new ug(e,s,p,o,u,a)}}function zoe(t,e,n){let r=[[],[],[],[],[]],i=new Map;function a(s,o){let u=i.get(s);if(u!=null){if(u<=o)return;let f=r[u].indexOf(s);f>-1&&r[u].splice(f,1),s instanceof oS&&n.delete(s.compartment)}if(i.set(s,o),Array.isArray(s))for(let f of s)a(f,o);else if(s instanceof oS){if(n.has(s.compartment))throw new RangeError("Duplicate use of compartment in extensions");let f=e.get(s.compartment)||s.inner;n.set(s.compartment,f),a(f,o)}else if(s instanceof gB)a(s.inner,s.prec);else if(s instanceof On)r[o].push(s),s.provides&&a(s.provides,o);else if(s instanceof tp)r[o].push(s),s.facet.extensions&&a(s.facet.extensions,jl.default);else{let f=s.extension;if(!f)throw new Error(`Unrecognized extension value in extension set (${s}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);a(f,o)}}return a(t,jl.default),r.reduce((s,o)=>s.concat(o))}function Sf(t,e){if(e&1)return 2;let n=e>>1,r=t.status[n];if(r==4)throw new Error("Cyclic dependency between fields and/or facets");if(r&2)return r;t.status[n]=4;let i=t.computeSlot(t,t.config.dynamicSlots[n]);return t.status[n]=2|i}function fg(t,e){return e&1?t.config.staticValues[e>>1]:t.values[e>>1]}const yB=be.define(),cS=be.define({combine:t=>t.some(e=>e),static:!0}),xB=be.define({combine:t=>t.length?t[0]:void 0,static:!0}),vB=be.define(),bB=be.define(),wB=be.define(),SB=be.define({combine:t=>t.length?t[0]:!1});class Yi{constructor(e,n){this.type=e,this.value=n}static define(){return new Ioe}}class Ioe{of(e){return new Yi(this,e)}}class Uoe{constructor(e){this.map=e}of(e){return new Be(this,e)}}class Be{constructor(e,n){this.type=e,this.value=n}map(e){let n=this.type.map(this.value,e);return n===void 0?void 0:n==this.value?this:new Be(this.type,n)}is(e){return this.type==e}static define(e={}){return new Uoe(e.map||(n=>n))}static mapEffects(e,n){if(!e.length)return e;let r=[];for(let i of e){let a=i.map(n);a&&r.push(a)}return r}}Be.reconfigure=Be.define();Be.appendConfig=Be.define();class Qt{constructor(e,n,r,i,a,s){this.startState=e,this.changes=n,this.selection=r,this.effects=i,this.annotations=a,this.scrollIntoView=s,this._doc=null,this._state=null,r&&pB(r,n.newLength),a.some(o=>o.type==Qt.time)||(this.annotations=a.concat(Qt.time.of(Date.now())))}static create(e,n,r,i,a,s){return new Qt(e,n,r,i,a,s)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(e){for(let n of this.annotations)if(n.type==e)return n.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(e){let n=this.annotation(Qt.userEvent);return!!(n&&(n==e||n.length>e.length&&n.slice(0,e.length)==e&&n[e.length]=="."))}}Qt.time=Yi.define();Qt.userEvent=Yi.define();Qt.addToHistory=Yi.define();Qt.remote=Yi.define();function $oe(t,e){let n=[];for(let r=0,i=0;;){let a,s;if(r<t.length&&(i==e.length||e[i]>=t[r]))a=t[r++],s=t[r++];else if(i<e.length)a=e[i++],s=e[i++];else return n;!n.length||n[n.length-1]<a?n.push(a,s):n[n.length-1]<s&&(n[n.length-1]=s)}}function jB(t,e,n){var r;let i,a,s;return n?(i=e.changes,a=Yt.empty(e.changes.length),s=t.changes.compose(e.changes)):(i=e.changes.map(t.changes),a=t.changes.mapDesc(e.changes,!0),s=t.changes.compose(i)),{changes:s,selection:e.selection?e.selection.map(a):(r=t.selection)===null||r===void 0?void 0:r.map(i),effects:Be.mapEffects(t.effects,i).concat(Be.mapEffects(e.effects,a)),annotations:t.annotations.length?t.annotations.concat(e.annotations):e.annotations,scrollIntoView:t.scrollIntoView||e.scrollIntoView}}function uS(t,e,n){let r=e.selection,i=oc(e.annotations);return e.userEvent&&(i=i.concat(Qt.userEvent.of(e.userEvent))),{changes:e.changes instanceof Yt?e.changes:Yt.of(e.changes||[],n,t.facet(xB)),selection:r&&(r instanceof he?r:he.single(r.anchor,r.head)),effects:oc(e.effects),annotations:i,scrollIntoView:!!e.scrollIntoView}}function NB(t,e,n){let r=uS(t,e.length?e[0]:{},t.doc.length);e.length&&e[0].filter===!1&&(n=!1);for(let a=1;a<e.length;a++){e[a].filter===!1&&(n=!1);let s=!!e[a].sequential;r=jB(r,uS(t,e[a],s?r.changes.newLength:t.doc.length),s)}let i=Qt.create(t,r.changes,r.selection,r.effects,r.annotations,r.scrollIntoView);return Hoe(n?qoe(i):i)}function qoe(t){let e=t.startState,n=!0;for(let i of e.facet(vB)){let a=i(t);if(a===!1){n=!1;break}Array.isArray(a)&&(n=n===!0?a:$oe(n,a))}if(n!==!0){let i,a;if(n===!1)a=t.changes.invertedDesc,i=Yt.empty(e.doc.length);else{let s=t.changes.filter(n);i=s.changes,a=s.filtered.mapDesc(s.changes).invertedDesc}t=Qt.create(e,i,t.selection&&t.selection.map(a),Be.mapEffects(t.effects,a),t.annotations,t.scrollIntoView)}let r=e.facet(bB);for(let i=r.length-1;i>=0;i--){let a=r[i](t);a instanceof Qt?t=a:Array.isArray(a)&&a.length==1&&a[0]instanceof Qt?t=a[0]:t=NB(e,oc(a),!1)}return t}function Hoe(t){let e=t.startState,n=e.facet(wB),r=t;for(let i=n.length-1;i>=0;i--){let a=n[i](t);a&&Object.keys(a).length&&(r=jB(r,uS(e,a,t.changes.newLength),!0))}return r==t?t:Qt.create(e,t.changes,t.selection,r.effects,r.annotations,r.scrollIntoView)}const Voe=[];function oc(t){return t==null?Voe:Array.isArray(t)?t:[t]}var wt=(function(t){return t[t.Word=0]="Word",t[t.Space=1]="Space",t[t.Other=2]="Other",t})(wt||(wt={}));const Foe=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let fS;try{fS=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function Woe(t){if(fS)return fS.test(t);for(let e=0;e<t.length;e++){let n=t[e];if(/\w/.test(n)||n>""&&(n.toUpperCase()!=n.toLowerCase()||Foe.test(n)))return!0}return!1}function Goe(t){return e=>{if(!/\S/.test(e))return wt.Space;if(Woe(e))return wt.Word;for(let n=0;n<t.length;n++)if(e.indexOf(t[n])>-1)return wt.Word;return wt.Other}}class Ge{constructor(e,n,r,i,a,s){this.config=e,this.doc=n,this.selection=r,this.values=i,this.status=e.statusTemplate.slice(),this.computeSlot=a,s&&(s._state=this);for(let o=0;o<this.config.dynamicSlots.length;o++)Sf(this,o<<1);this.computeSlot=null}field(e,n=!0){let r=this.config.address[e.id];if(r==null){if(n)throw new RangeError("Field is not present in this state");return}return Sf(this,r),fg(this,r)}update(...e){return NB(this,e,!0)}applyTransaction(e){let n=this.config,{base:r,compartments:i}=n;for(let o of e.effects)o.is(I0.reconfigure)?(n&&(i=new Map,n.compartments.forEach((u,f)=>i.set(f,u)),n=null),i.set(o.value.compartment,o.value.extension)):o.is(Be.reconfigure)?(n=null,r=o.value):o.is(Be.appendConfig)&&(n=null,r=oc(r).concat(o.value));let a;n?a=e.startState.values.slice():(n=ug.resolve(r,i,this),a=new Ge(n,this.doc,this.selection,n.dynamicSlots.map(()=>null),(u,f)=>f.reconfigure(u,this),null).values);let s=e.startState.facet(cS)?e.newSelection:e.newSelection.asSingle();new Ge(n,e.newDoc,s,a,(o,u)=>u.update(o,e),e)}replaceSelection(e){return typeof e=="string"&&(e=this.toText(e)),this.changeByRange(n=>({changes:{from:n.from,to:n.to,insert:e},range:he.cursor(n.from+e.length)}))}changeByRange(e){let n=this.selection,r=e(n.ranges[0]),i=this.changes(r.changes),a=[r.range],s=oc(r.effects);for(let o=1;o<n.ranges.length;o++){let u=e(n.ranges[o]),f=this.changes(u.changes),h=f.map(i);for(let y=0;y<o;y++)a[y]=a[y].map(h);let p=i.mapDesc(f,!0);a.push(u.range.map(p)),i=i.compose(h),s=Be.mapEffects(s,h).concat(Be.mapEffects(oc(u.effects),p))}return{changes:i,selection:he.create(a,n.mainIndex),effects:s}}changes(e=[]){return e instanceof Yt?e:Yt.of(e,this.doc.length,this.facet(Ge.lineSeparator))}toText(e){return Xe.of(e.split(this.facet(Ge.lineSeparator)||iS))}sliceDoc(e=0,n=this.doc.length){return this.doc.sliceString(e,n,this.lineBreak)}facet(e){let n=this.config.address[e.id];return n==null?e.default:(Sf(this,n),fg(this,n))}toJSON(e){let n={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(e)for(let r in e){let i=e[r];i instanceof On&&this.config.address[i.id]!=null&&(n[r]=i.spec.toJSON(this.field(e[r]),this))}return n}static fromJSON(e,n={},r){if(!e||typeof e.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let i=[];if(r){for(let a in r)if(Object.prototype.hasOwnProperty.call(e,a)){let s=r[a],o=e[a];i.push(s.init(u=>s.spec.fromJSON(o,u)))}}return Ge.create({doc:e.doc,selection:he.fromJSON(e.selection),extensions:n.extensions?i.concat([n.extensions]):i})}static create(e={}){let n=ug.resolve(e.extensions||[],new Map),r=e.doc instanceof Xe?e.doc:Xe.of((e.doc||"").split(n.staticFacet(Ge.lineSeparator)||iS)),i=e.selection?e.selection instanceof he?e.selection:he.single(e.selection.anchor,e.selection.head):he.single(0);return pB(i,r.length),n.staticFacet(cS)||(i=i.asSingle()),new Ge(n,r,i,n.dynamicSlots.map(()=>null),(a,s)=>s.create(a),null)}get tabSize(){return this.facet(Ge.tabSize)}get lineBreak(){return this.facet(Ge.lineSeparator)||`
`}get readOnly(){return this.facet(SB)}phrase(e,...n){for(let r of this.facet(Ge.phrases))if(Object.prototype.hasOwnProperty.call(r,e)){e=r[e];break}return n.length&&(e=e.replace(/\$(\$|\d*)/g,(r,i)=>{if(i=="$")return"$";let a=+(i||1);return!a||a>n.length?r:n[a-1]})),e}languageDataAt(e,n,r=-1){let i=[];for(let a of this.facet(yB))for(let s of a(this,n,r))Object.prototype.hasOwnProperty.call(s,e)&&i.push(s[e]);return i}charCategorizer(e){let n=this.languageDataAt("wordChars",e);return Goe(n.length?n[0]:"")}wordAt(e){let{text:n,from:r,length:i}=this.doc.lineAt(e),a=this.charCategorizer(e),s=e-r,o=e-r;for(;s>0;){let u=sn(n,s,!1);if(a(n.slice(u,s))!=wt.Word)break;s=u}for(;o<i;){let u=sn(n,o);if(a(n.slice(o,u))!=wt.Word)break;o=u}return s==o?null:he.range(s+r,o+r)}}Ge.allowMultipleSelections=cS;Ge.tabSize=be.define({combine:t=>t.length?t[0]:4});Ge.lineSeparator=xB;Ge.readOnly=SB;Ge.phrases=be.define({compare(t,e){let n=Object.keys(t),r=Object.keys(e);return n.length==r.length&&n.every(i=>t[i]==e[i])}});Ge.languageData=yB;Ge.changeFilter=vB;Ge.transactionFilter=bB;Ge.transactionExtender=wB;I0.reconfigure=Be.define();function Qi(t,e,n={}){let r={};for(let i of t)for(let a of Object.keys(i)){let s=i[a],o=r[a];if(o===void 0)r[a]=s;else if(!(o===s||s===void 0))if(Object.hasOwnProperty.call(n,a))r[a]=n[a](o,s);else throw new Error("Config merge conflict for field "+a)}for(let i in e)r[i]===void 0&&(r[i]=e[i]);return r}class Bs{eq(e){return this==e}range(e,n=e){return dS.create(e,n,this)}}Bs.prototype.startSide=Bs.prototype.endSide=0;Bs.prototype.point=!1;Bs.prototype.mapMode=Ln.TrackDel;function J2(t,e){return t==e||t.constructor==e.constructor&&t.eq(e)}let dS=class CB{constructor(e,n,r){this.from=e,this.to=n,this.value=r}static create(e,n,r){return new CB(e,n,r)}};function hS(t,e){return t.from-e.from||t.value.startSide-e.value.startSide}class eN{constructor(e,n,r,i){this.from=e,this.to=n,this.value=r,this.maxPoint=i}get length(){return this.to[this.to.length-1]}findIndex(e,n,r,i=0){let a=r?this.to:this.from;for(let s=i,o=a.length;;){if(s==o)return s;let u=s+o>>1,f=a[u]-e||(r?this.value[u].endSide:this.value[u].startSide)-n;if(u==s)return f>=0?s:o;f>=0?o=u:s=u+1}}between(e,n,r,i){for(let a=this.findIndex(n,-1e9,!0),s=this.findIndex(r,1e9,!1,a);a<s;a++)if(i(this.from[a]+e,this.to[a]+e,this.value[a])===!1)return!1}map(e,n){let r=[],i=[],a=[],s=-1,o=-1;for(let u=0;u<this.value.length;u++){let f=this.value[u],h=this.from[u]+e,p=this.to[u]+e,y,x;if(h==p){let b=n.mapPos(h,f.startSide,f.mapMode);if(b==null||(y=x=b,f.startSide!=f.endSide&&(x=n.mapPos(h,f.endSide),x<y)))continue}else if(y=n.mapPos(h,f.startSide),x=n.mapPos(p,f.endSide),y>x||y==x&&f.startSide>0&&f.endSide<=0)continue;(x-y||f.endSide-f.startSide)<0||(s<0&&(s=y),f.point&&(o=Math.max(o,x-y)),r.push(f),i.push(y-s),a.push(x-s))}return{mapped:r.length?new eN(i,a,r,o):null,pos:s}}}class He{constructor(e,n,r,i){this.chunkPos=e,this.chunk=n,this.nextLayer=r,this.maxPoint=i}static create(e,n,r,i){return new He(e,n,r,i)}get length(){let e=this.chunk.length-1;return e<0?0:Math.max(this.chunkEnd(e),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let e=this.nextLayer.size;for(let n of this.chunk)e+=n.value.length;return e}chunkEnd(e){return this.chunkPos[e]+this.chunk[e].length}update(e){let{add:n=[],sort:r=!1,filterFrom:i=0,filterTo:a=this.length}=e,s=e.filter;if(n.length==0&&!s)return this;if(r&&(n=n.slice().sort(hS)),this.isEmpty)return n.length?He.of(n):this;let o=new kB(this,null,-1).goto(0),u=0,f=[],h=new Pa;for(;o.value||u<n.length;)if(u<n.length&&(o.from-n[u].from||o.startSide-n[u].value.startSide)>=0){let p=n[u++];h.addInner(p.from,p.to,p.value)||f.push(p)}else o.rangeIndex==1&&o.chunkIndex<this.chunk.length&&(u==n.length||this.chunkEnd(o.chunkIndex)<n[u].from)&&(!s||i>this.chunkEnd(o.chunkIndex)||a<this.chunkPos[o.chunkIndex])&&h.addChunk(this.chunkPos[o.chunkIndex],this.chunk[o.chunkIndex])?o.nextChunk():((!s||i>o.to||a<o.from||s(o.from,o.to,o.value))&&(h.addInner(o.from,o.to,o.value)||f.push(dS.create(o.from,o.to,o.value))),o.next());return h.finishInner(this.nextLayer.isEmpty&&!f.length?He.empty:this.nextLayer.update({add:f,filter:s,filterFrom:i,filterTo:a}))}map(e){if(e.empty||this.isEmpty)return this;let n=[],r=[],i=-1;for(let s=0;s<this.chunk.length;s++){let o=this.chunkPos[s],u=this.chunk[s],f=e.touchesRange(o,o+u.length);if(f===!1)i=Math.max(i,u.maxPoint),n.push(u),r.push(e.mapPos(o));else if(f===!0){let{mapped:h,pos:p}=u.map(o,e);h&&(i=Math.max(i,h.maxPoint),n.push(h),r.push(p))}}let a=this.nextLayer.map(e);return n.length==0?a:new He(r,n,a||He.empty,i)}between(e,n,r){if(!this.isEmpty){for(let i=0;i<this.chunk.length;i++){let a=this.chunkPos[i],s=this.chunk[i];if(n>=a&&e<=a+s.length&&s.between(a,e-a,n-a,r)===!1)return}this.nextLayer.between(e,n,r)}}iter(e=0){return Xf.from([this]).goto(e)}get isEmpty(){return this.nextLayer==this}static iter(e,n=0){return Xf.from(e).goto(n)}static compare(e,n,r,i,a=-1){let s=e.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),o=n.filter(p=>p.maxPoint>0||!p.isEmpty&&p.maxPoint>=a),u=pD(s,o,r),f=new lf(s,u,a),h=new lf(o,u,a);r.iterGaps((p,y,x)=>gD(f,p,h,y,x,i)),r.empty&&r.length==0&&gD(f,0,h,0,0,i)}static eq(e,n,r=0,i){i==null&&(i=999999999);let a=e.filter(h=>!h.isEmpty&&n.indexOf(h)<0),s=n.filter(h=>!h.isEmpty&&e.indexOf(h)<0);if(a.length!=s.length)return!1;if(!a.length)return!0;let o=pD(a,s),u=new lf(a,o,0).goto(r),f=new lf(s,o,0).goto(r);for(;;){if(u.to!=f.to||!mS(u.active,f.active)||u.point&&(!f.point||!J2(u.point,f.point)))return!1;if(u.to>i)return!0;u.next(),f.next()}}static spans(e,n,r,i,a=-1){let s=new lf(e,null,a).goto(n),o=n,u=s.openStart;for(;;){let f=Math.min(s.to,r);if(s.point){let h=s.activeForPoint(s.to),p=s.pointFrom<n?h.length+1:s.point.startSide<0?h.length:Math.min(h.length,u);i.point(o,f,s.point,h,p,s.pointRank),u=Math.min(s.openEnd(f),h.length)}else f>o&&(i.span(o,f,s.active,u),u=s.openEnd(f));if(s.to>r)return u+(s.point&&s.to>r?1:0);o=s.to,s.next()}}static of(e,n=!1){let r=new Pa;for(let i of e instanceof dS?[e]:n?Koe(e):e)r.add(i.from,i.to,i.value);return r.finish()}static join(e){if(!e.length)return He.empty;let n=e[e.length-1];for(let r=e.length-2;r>=0;r--)for(let i=e[r];i!=He.empty;i=i.nextLayer)n=new He(i.chunkPos,i.chunk,n,Math.max(i.maxPoint,n.maxPoint));return n}}He.empty=new He([],[],null,-1);function Koe(t){if(t.length>1)for(let e=t[0],n=1;n<t.length;n++){let r=t[n];if(hS(e,r)>0)return t.slice().sort(hS);e=r}return t}He.empty.nextLayer=He.empty;class Pa{finishChunk(e){this.chunks.push(new eN(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,e&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(e,n,r){this.addInner(e,n,r)||(this.nextLayer||(this.nextLayer=new Pa)).add(e,n,r)}addInner(e,n,r){let i=e-this.lastTo||r.startSide-this.last.endSide;if(i<=0&&(e-this.lastFrom||r.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return i<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=e),this.from.push(e-this.chunkStart),this.to.push(n-this.chunkStart),this.last=r,this.lastFrom=e,this.lastTo=n,this.value.push(r),r.point&&(this.maxPoint=Math.max(this.maxPoint,n-e)),!0)}addChunk(e,n){if((e-this.lastTo||n.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,n.maxPoint),this.chunks.push(n),this.chunkPos.push(e);let r=n.value.length-1;return this.last=n.value[r],this.lastFrom=n.from[r]+e,this.lastTo=n.to[r]+e,!0}finish(){return this.finishInner(He.empty)}finishInner(e){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return e;let n=He.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(e):e,this.setMaxPoint);return this.from=null,n}}function pD(t,e,n){let r=new Map;for(let a of t)for(let s=0;s<a.chunk.length;s++)a.chunk[s].maxPoint<=0&&r.set(a.chunk[s],a.chunkPos[s]);let i=new Set;for(let a of e)for(let s=0;s<a.chunk.length;s++){let o=r.get(a.chunk[s]);o!=null&&(n?n.mapPos(o):o)==a.chunkPos[s]&&!n?.touchesRange(o,o+a.chunk[s].length)&&i.add(a.chunk[s])}return i}class kB{constructor(e,n,r,i=0){this.layer=e,this.skip=n,this.minPoint=r,this.rank=i}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(e,n=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(e,n,!1),this}gotoInner(e,n,r){for(;this.chunkIndex<this.layer.chunk.length;){let i=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(i)||this.layer.chunkEnd(this.chunkIndex)<e||i.maxPoint<this.minPoint))break;this.chunkIndex++,r=!1}if(this.chunkIndex<this.layer.chunk.length){let i=this.layer.chunk[this.chunkIndex].findIndex(e-this.layer.chunkPos[this.chunkIndex],n,!0);(!r||this.rangeIndex<i)&&this.setRangeIndex(i)}this.next()}forward(e,n){(this.to-e||this.endSide-n)<0&&this.gotoInner(e,n,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let e=this.layer.chunkPos[this.chunkIndex],n=this.layer.chunk[this.chunkIndex],r=e+n.from[this.rangeIndex];if(this.from=r,this.to=e+n.to[this.rangeIndex],this.value=n.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(e){if(e==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=e}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(e){return this.from-e.from||this.startSide-e.startSide||this.rank-e.rank||this.to-e.to||this.endSide-e.endSide}}class Xf{constructor(e){this.heap=e}static from(e,n=null,r=-1){let i=[];for(let a=0;a<e.length;a++)for(let s=e[a];!s.isEmpty;s=s.nextLayer)s.maxPoint>=r&&i.push(new kB(s,n,r,a));return i.length==1?i[0]:new Xf(i)}get startSide(){return this.value?this.value.startSide:0}goto(e,n=-1e9){for(let r of this.heap)r.goto(e,n);for(let r=this.heap.length>>1;r>=0;r--)o1(this.heap,r);return this.next(),this}forward(e,n){for(let r of this.heap)r.forward(e,n);for(let r=this.heap.length>>1;r>=0;r--)o1(this.heap,r);(this.to-e||this.value.endSide-n)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let e=this.heap[0];this.from=e.from,this.to=e.to,this.value=e.value,this.rank=e.rank,e.value&&e.next(),o1(this.heap,0)}}}function o1(t,e){for(let n=t[e];;){let r=(e<<1)+1;if(r>=t.length)break;let i=t[r];if(r+1<t.length&&i.compare(t[r+1])>=0&&(i=t[r+1],r++),n.compare(i)<0)break;t[r]=n,t[e]=i,e=r}}class lf{constructor(e,n,r){this.minPoint=r,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=Xf.from(e,n,r)}goto(e,n=-1e9){return this.cursor.goto(e,n),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=e,this.endSide=n,this.openStart=-1,this.next(),this}forward(e,n){for(;this.minActive>-1&&(this.activeTo[this.minActive]-e||this.active[this.minActive].endSide-n)<0;)this.removeActive(this.minActive);this.cursor.forward(e,n)}removeActive(e){Sm(this.active,e),Sm(this.activeTo,e),Sm(this.activeRank,e),this.minActive=yD(this.active,this.activeTo)}addActive(e){let n=0,{value:r,to:i,rank:a}=this.cursor;for(;n<this.activeRank.length&&(a-this.activeRank[n]||i-this.activeTo[n])>0;)n++;jm(this.active,n,r),jm(this.activeTo,n,i),jm(this.activeRank,n,a),e&&jm(e,n,this.cursor.from),this.minActive=yD(this.active,this.activeTo)}next(){let e=this.to,n=this.point;this.point=null;let r=this.openStart<0?[]:null;for(;;){let i=this.minActive;if(i>-1&&(this.activeTo[i]-this.cursor.from||this.active[i].endSide-this.cursor.startSide)<0){if(this.activeTo[i]>e){this.to=this.activeTo[i],this.endSide=this.active[i].endSide;break}this.removeActive(i),r&&Sm(r,i)}else if(this.cursor.value)if(this.cursor.from>e){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let a=this.cursor.value;if(!a.point)this.addActive(r),this.cursor.next();else if(n&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=a,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=a.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(r){this.openStart=0;for(let i=r.length-1;i>=0&&r[i]<e;i--)this.openStart++}}activeForPoint(e){if(!this.active.length)return this.active;let n=[];for(let r=this.active.length-1;r>=0&&!(this.activeRank[r]<this.pointRank);r--)(this.activeTo[r]>e||this.activeTo[r]==e&&this.active[r].endSide>=this.point.endSide)&&n.push(this.active[r]);return n.reverse()}openEnd(e){let n=0;for(let r=this.activeTo.length-1;r>=0&&this.activeTo[r]>e;r--)n++;return n}}function gD(t,e,n,r,i,a){t.goto(e),n.goto(r);let s=r+i,o=r,u=r-e,f=!!a.boundChange;for(let h=!1;;){let p=t.to+u-n.to,y=p||t.endSide-n.endSide,x=y<0?t.to+u:n.to,b=Math.min(x,s);if(t.point||n.point?(t.point&&n.point&&J2(t.point,n.point)&&mS(t.activeForPoint(t.to),n.activeForPoint(n.to))||a.comparePoint(o,b,t.point,n.point),h=!1):(h&&a.boundChange(o),b>o&&!mS(t.active,n.active)&&a.compareRange(o,b,t.active,n.active),f&&b<s&&(p||t.openEnd(x)!=n.openEnd(x))&&(h=!0)),x>s)break;o=x,y<=0&&t.next(),y>=0&&n.next()}}function mS(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!=e[n]&&!J2(t[n],e[n]))return!1;return!0}function Sm(t,e){for(let n=e,r=t.length-1;n<r;n++)t[n]=t[n+1];t.pop()}function jm(t,e,n){for(let r=t.length-1;r>=e;r--)t[r+1]=t[r];t[e]=n}function yD(t,e){let n=-1,r=1e9;for(let i=0;i<e.length;i++)(e[i]-r||t[i].endSide-t[n].endSide)<0&&(n=i,r=e[i]);return n}function Yc(t,e,n=t.length){let r=0;for(let i=0;i<n&&i<t.length;)t.charCodeAt(i)==9?(r+=e-r%e,i++):(r++,i=sn(t,i));return r}function pS(t,e,n,r){for(let i=0,a=0;;){if(a>=e)return i;if(i==t.length)break;a+=t.charCodeAt(i)==9?n-a%n:1,i=sn(t,i)}return r===!0?-1:t.length}const gS="",xD=typeof Symbol>"u"?"__"+gS:Symbol.for(gS),yS=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),vD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class zs{constructor(e,n){this.rules=[];let{finish:r}=n||{};function i(s){return/^@/.test(s)?[s]:s.split(/,\s*/)}function a(s,o,u,f){let h=[],p=/^@(\w+)\b/.exec(s[0]),y=p&&p[1]=="keyframes";if(p&&o==null)return u.push(s[0]+";");for(let x in o){let b=o[x];if(/&/.test(x))a(x.split(/,\s*/).map(j=>s.map(S=>j.replace(/&/,S))).reduce((j,S)=>j.concat(S)),b,u);else if(b&&typeof b=="object"){if(!p)throw new RangeError("The value of a property ("+x+") should be a primitive value.");a(i(x),b,h,y)}else b!=null&&h.push(x.replace(/_.*/,"").replace(/[A-Z]/g,j=>"-"+j.toLowerCase())+": "+b+";")}(h.length||y)&&u.push((r&&!p&&!f?s.map(r):s).join(", ")+" {"+h.join(" ")+"}")}for(let s in e)a(i(s),e[s],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let e=vD[xD]||1;return vD[xD]=e+1,gS+e.toString(36)}static mount(e,n,r){let i=e[yS],a=r&&r.nonce;i?a&&i.setNonce(a):i=new Yoe(e,a),i.mount(Array.isArray(n)?n:[n],e)}}let bD=new Map;class Yoe{constructor(e,n){let r=e.ownerDocument||e,i=r.defaultView;if(!e.head&&e.adoptedStyleSheets&&i.CSSStyleSheet){let a=bD.get(r);if(a)return e[yS]=a;this.sheet=new i.CSSStyleSheet,bD.set(r,this)}else this.styleTag=r.createElement("style"),n&&this.styleTag.setAttribute("nonce",n);this.modules=[],e[yS]=this}mount(e,n){let r=this.sheet,i=0,a=0;for(let s=0;s<e.length;s++){let o=e[s],u=this.modules.indexOf(o);if(u<a&&u>-1&&(this.modules.splice(u,1),a--,u=-1),u==-1){if(this.modules.splice(a++,0,o),r)for(let f=0;f<o.rules.length;f++)r.insertRule(o.rules[f],i++)}else{for(;a<u;)i+=this.modules[a++].rules.length;i+=o.rules.length,a++}}if(r)n.adoptedStyleSheets.indexOf(this.sheet)<0&&(n.adoptedStyleSheets=[this.sheet,...n.adoptedStyleSheets]);else{let s="";for(let u=0;u<this.modules.length;u++)s+=this.modules[u].getRules()+`
`;this.styleTag.textContent=s;let o=n.head||n;this.styleTag.parentNode!=o&&o.insertBefore(this.styleTag,o.firstChild)}}setNonce(e){this.styleTag&&this.styleTag.getAttribute("nonce")!=e&&this.styleTag.setAttribute("nonce",e)}}var Is={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Zf={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},Qoe=typeof navigator<"u"&&/Mac/.test(navigator.platform),Xoe=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var wn=0;wn<10;wn++)Is[48+wn]=Is[96+wn]=String(wn);for(var wn=1;wn<=24;wn++)Is[wn+111]="F"+wn;for(var wn=65;wn<=90;wn++)Is[wn]=String.fromCharCode(wn+32),Zf[wn]=String.fromCharCode(wn);for(var c1 in Is)Zf.hasOwnProperty(c1)||(Zf[c1]=Is[c1]);function Zoe(t){var e=Qoe&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||Xoe&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Zf:Is)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}function lt(){var t=arguments[0];typeof t=="string"&&(t=document.createElement(t));var e=1,n=arguments[1];if(n&&typeof n=="object"&&n.nodeType==null&&!Array.isArray(n)){for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){var i=n[r];typeof i=="string"?t.setAttribute(r,i):i!=null&&(t[r]=i)}e++}for(;e<arguments.length;e++)OB(t,arguments[e]);return t}function OB(t,e){if(typeof e=="string")t.appendChild(document.createTextNode(e));else if(e!=null)if(e.nodeType!=null)t.appendChild(e);else if(Array.isArray(e))for(var n=0;n<e.length;n++)OB(t,e[n]);else throw new RangeError("Unsupported child node: "+e)}let Rn=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},xS=typeof document<"u"?document:{documentElement:{style:{}}};const vS=/Edge\/(\d+)/.exec(Rn.userAgent),AB=/MSIE \d/.test(Rn.userAgent),bS=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Rn.userAgent),U0=!!(AB||bS||vS),wD=!U0&&/gecko\/(\d+)/i.test(Rn.userAgent),u1=!U0&&/Chrome\/(\d+)/.exec(Rn.userAgent),Joe="webkitFontSmoothing"in xS.documentElement.style,wS=!U0&&/Apple Computer/.test(Rn.vendor),SD=wS&&(/Mobile\/\w+/.test(Rn.userAgent)||Rn.maxTouchPoints>2);var ve={mac:SD||/Mac/.test(Rn.platform),windows:/Win/.test(Rn.platform),linux:/Linux|X11/.test(Rn.platform),ie:U0,ie_version:AB?xS.documentMode||6:bS?+bS[1]:vS?+vS[1]:0,gecko:wD,gecko_version:wD?+(/Firefox\/(\d+)/.exec(Rn.userAgent)||[0,0])[1]:0,chrome:!!u1,chrome_version:u1?+u1[1]:0,ios:SD,android:/Android\b/.test(Rn.userAgent),webkit_version:Joe?+(/\bAppleWebKit\/(\d+)/.exec(Rn.userAgent)||[0,0])[1]:0,safari:wS,safari_version:wS?+(/\bVersion\/(\d+(\.\d+)?)/.exec(Rn.userAgent)||[0,0])[1]:0,tabSize:xS.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function tN(t,e){for(let n in t)n=="class"&&e.class?e.class+=" "+t.class:n=="style"&&e.style?e.style+=";"+t.style:e[n]=t[n];return e}const dg=Object.create(null);function nN(t,e,n){if(t==e)return!0;t||(t=dg),e||(e=dg);let r=Object.keys(t),i=Object.keys(e);if(r.length-0!=i.length-0)return!1;for(let a of r)if(a!=n&&(i.indexOf(a)==-1||t[a]!==e[a]))return!1;return!0}function ece(t,e){for(let n=t.attributes.length-1;n>=0;n--){let r=t.attributes[n].name;e[r]==null&&t.removeAttribute(r)}for(let n in e){let r=e[n];n=="style"?t.style.cssText=r:t.getAttribute(n)!=r&&t.setAttribute(n,r)}}function jD(t,e,n){let r=!1;if(e)for(let i in e)n&&i in n||(r=!0,i=="style"?t.style.cssText="":t.removeAttribute(i));if(n)for(let i in n)e&&e[i]==n[i]||(r=!0,i=="style"?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r}function tce(t){let e=Object.create(null);for(let n=0;n<t.attributes.length;n++){let r=t.attributes[n];e[r.name]=r.value}return e}class Xi{eq(e){return!1}updateDOM(e,n){return!1}compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(e){return!0}coordsAt(e,n,r){return null}get isHidden(){return!1}get editable(){return!1}destroy(e){}}var Nn=(function(t){return t[t.Text=0]="Text",t[t.WidgetBefore=1]="WidgetBefore",t[t.WidgetAfter=2]="WidgetAfter",t[t.WidgetRange=3]="WidgetRange",t})(Nn||(Nn={}));class Me extends Bs{constructor(e,n,r,i){super(),this.startSide=e,this.endSide=n,this.widget=r,this.spec=i}get heightRelevant(){return!1}static mark(e){return new Dd(e)}static widget(e){let n=Math.max(-1e4,Math.min(1e4,e.side||0)),r=!!e.block;return n+=r&&!e.inlineOrder?n>0?3e8:-4e8:n>0?1e8:-1e8,new Xl(e,n,n,r,e.widget||null,!1)}static replace(e){let n=!!e.block,r,i;if(e.isBlockGap)r=-5e8,i=4e8;else{let{start:a,end:s}=EB(e,n);r=(a?n?-3e8:-1:5e8)-1,i=(s?n?2e8:1:-6e8)+1}return new Xl(e,r,i,n,e.widget||null,!0)}static line(e){return new Pd(e)}static set(e,n=!1){return He.of(e,n)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Me.none=He.empty;class Dd extends Me{constructor(e){let{start:n,end:r}=EB(e);super(n?-1:5e8,r?1:-6e8,null,e),this.tagName=e.tagName||"span",this.attrs=e.class&&e.attributes?tN(e.attributes,{class:e.class}):e.class?{class:e.class}:e.attributes||dg}eq(e){return this==e||e instanceof Dd&&this.tagName==e.tagName&&nN(this.attrs,e.attrs)}range(e,n=e){if(e>=n)throw new RangeError("Mark decorations may not be empty");return super.range(e,n)}}Dd.prototype.point=!1;class Pd extends Me{constructor(e){super(-2e8,-2e8,null,e)}eq(e){return e instanceof Pd&&this.spec.class==e.spec.class&&nN(this.spec.attributes,e.spec.attributes)}range(e,n=e){if(n!=e)throw new RangeError("Line decoration ranges must be zero-length");return super.range(e,n)}}Pd.prototype.mapMode=Ln.TrackBefore;Pd.prototype.point=!0;class Xl extends Me{constructor(e,n,r,i,a,s){super(n,r,a,e),this.block=i,this.isReplace=s,this.mapMode=i?n<=0?Ln.TrackBefore:Ln.TrackAfter:Ln.TrackDel}get type(){return this.startSide!=this.endSide?Nn.WidgetRange:this.startSide<=0?Nn.WidgetBefore:Nn.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(e){return e instanceof Xl&&nce(this.widget,e.widget)&&this.block==e.block&&this.startSide==e.startSide&&this.endSide==e.endSide}range(e,n=e){if(this.isReplace&&(e>n||e==n&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&n!=e)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(e,n)}}Xl.prototype.point=!0;function EB(t,e=!1){let{inclusiveStart:n,inclusiveEnd:r}=t;return n==null&&(n=t.inclusive),r==null&&(r=t.inclusive),{start:n??e,end:r??e}}function nce(t,e){return t==e||!!(t&&e&&t.compare(e))}function cc(t,e,n,r=0){let i=n.length-1;i>=0&&n[i]+r>=t?n[i]=Math.max(n[i],e):n.push(t,e)}class Jf extends Bs{constructor(e,n){super(),this.tagName=e,this.attributes=n}eq(e){return e==this||e instanceof Jf&&this.tagName==e.tagName&&nN(this.attributes,e.attributes)}static create(e){return new Jf(e.tagName,e.attributes||dg)}static set(e,n=!1){return He.of(e,n)}}Jf.prototype.startSide=Jf.prototype.endSide=-1;function ed(t){let e;return t.nodeType==11?e=t.getSelection?t:t.ownerDocument:e=t,e.getSelection()}function SS(t,e){return e?t==e||t.contains(e.nodeType!=1?e.parentNode:e):!1}function jf(t,e){if(!e.anchorNode)return!1;try{return SS(t,e.anchorNode)}catch{return!1}}function Nf(t){return t.nodeType==3?nd(t,0,t.nodeValue.length).getClientRects():t.nodeType==1?t.getClientRects():[]}function Cf(t,e,n,r){return n?ND(t,e,n,r,-1)||ND(t,e,n,r,1):!1}function Us(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e}function hg(t){return t.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(t.nodeName)}function ND(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Ra(t))){if(t.nodeName=="DIV")return!1;let a=t.parentNode;if(!a||a.nodeType!=1)return!1;e=Us(t)+(i<0?0:1),t=a}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.nodeType==1&&t.contentEditable=="false")return!1;e=i<0?Ra(t):0}else return!1}}function Ra(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function td(t,e){let n=e?t.left:t.right;return{left:n,right:n,top:t.top,bottom:t.bottom}}function rce(t){let e=t.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.innerWidth,top:0,bottom:t.innerHeight}}function TB(t,e){let n=e.width/t.offsetWidth,r=e.height/t.offsetHeight;return(n>.995&&n<1.005||!isFinite(n)||Math.abs(e.width-t.offsetWidth)<1)&&(n=1),(r>.995&&r<1.005||!isFinite(r)||Math.abs(e.height-t.offsetHeight)<1)&&(r=1),{scaleX:n,scaleY:r}}function ice(t,e,n,r,i,a,s,o){let u=t.ownerDocument,f=u.defaultView||window;for(let h=t,p=!1;h&&!p;)if(h.nodeType==1){let y,x=h==u.body,b=1,j=1;if(x)y=rce(f);else{if(/^(fixed|sticky)$/.test(getComputedStyle(h).position)&&(p=!0),h.scrollHeight<=h.clientHeight&&h.scrollWidth<=h.clientWidth){h=h.assignedSlot||h.parentNode;continue}let O=h.getBoundingClientRect();({scaleX:b,scaleY:j}=TB(h,O)),y={left:O.left,right:O.left+h.clientWidth*b,top:O.top,bottom:O.top+h.clientHeight*j}}let S=0,N=0;if(i=="nearest")e.top<y.top?(N=e.top-(y.top+s),n>0&&e.bottom>y.bottom+N&&(N=e.bottom-y.bottom+s)):e.bottom>y.bottom&&(N=e.bottom-y.bottom+s,n<0&&e.top-N<y.top&&(N=e.top-(y.top+s)));else{let O=e.bottom-e.top,C=y.bottom-y.top;N=(i=="center"&&O<=C?e.top+O/2-C/2:i=="start"||i=="center"&&n<0?e.top-s:e.bottom-C+s)-y.top}if(r=="nearest"?e.left<y.left?(S=e.left-(y.left+a),n>0&&e.right>y.right+S&&(S=e.right-y.right+a)):e.right>y.right&&(S=e.right-y.right+a,n<0&&e.left<y.left+S&&(S=e.left-(y.left+a))):S=(r=="center"?e.left+(e.right-e.left)/2-(y.right-y.left)/2:r=="start"==o?e.left-a:e.right-(y.right-y.left)+a)-y.left,S||N)if(x)f.scrollBy(S,N);else{let O=0,C=0;if(N){let _=h.scrollTop;h.scrollTop+=N/j,C=(h.scrollTop-_)*j}if(S){let _=h.scrollLeft;h.scrollLeft+=S/b,O=(h.scrollLeft-_)*b}e={left:e.left-O,top:e.top-C,right:e.right-O,bottom:e.bottom-C},O&&Math.abs(O-S)<1&&(r="nearest"),C&&Math.abs(C-N)<1&&(i="nearest")}if(x)break;(e.top<y.top||e.bottom>y.bottom||e.left<y.left||e.right>y.right)&&(e={left:Math.max(e.left,y.left),right:Math.min(e.right,y.right),top:Math.max(e.top,y.top),bottom:Math.min(e.bottom,y.bottom)}),h=h.assignedSlot||h.parentNode}else if(h.nodeType==11)h=h.host;else break}function ace(t){let e=t.ownerDocument,n,r;for(let i=t.parentNode;i&&!(i==e.body||n&&r);)if(i.nodeType==1)!r&&i.scrollHeight>i.clientHeight&&(r=i),!n&&i.scrollWidth>i.clientWidth&&(n=i),i=i.assignedSlot||i.parentNode;else if(i.nodeType==11)i=i.host;else break;return{x:n,y:r}}class sce{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(e){return this.anchorNode==e.anchorNode&&this.anchorOffset==e.anchorOffset&&this.focusNode==e.focusNode&&this.focusOffset==e.focusOffset}setRange(e){let{anchorNode:n,focusNode:r}=e;this.set(n,Math.min(e.anchorOffset,n?Ra(n):0),r,Math.min(e.focusOffset,r?Ra(r):0))}set(e,n,r,i){this.anchorNode=e,this.anchorOffset=n,this.focusNode=r,this.focusOffset=i}}let wl=null;ve.safari&&ve.safari_version>=26&&(wl=!1);function MB(t){if(t.setActive)return t.setActive();if(wl)return t.focus(wl);let e=[];for(let n=t;n&&(e.push(n,n.scrollTop,n.scrollLeft),n!=n.ownerDocument);n=n.parentNode);if(t.focus(wl==null?{get preventScroll(){return wl={preventScroll:!0},!0}}:void 0),!wl){wl=!1;for(let n=0;n<e.length;){let r=e[n++],i=e[n++],a=e[n++];r.scrollTop!=i&&(r.scrollTop=i),r.scrollLeft!=a&&(r.scrollLeft=a)}}}let CD;function nd(t,e,n=e){let r=CD||(CD=document.createRange());return r.setEnd(t,n),r.setStart(t,e),r}function uc(t,e,n,r){let i={key:e,code:e,keyCode:n,which:n,cancelable:!0};r&&({altKey:i.altKey,ctrlKey:i.ctrlKey,shiftKey:i.shiftKey,metaKey:i.metaKey}=r);let a=new KeyboardEvent("keydown",i);a.synthetic=!0,t.dispatchEvent(a);let s=new KeyboardEvent("keyup",i);return s.synthetic=!0,t.dispatchEvent(s),a.defaultPrevented||s.defaultPrevented}function lce(t){for(;t;){if(t&&(t.nodeType==9||t.nodeType==11&&t.host))return t;t=t.assignedSlot||t.parentNode}return null}function oce(t,e){let n=e.focusNode,r=e.focusOffset;if(!n||e.anchorNode!=n||e.anchorOffset!=r)return!1;for(r=Math.min(r,Ra(n));;)if(r){if(n.nodeType!=1)return!1;let i=n.childNodes[r-1];i.contentEditable=="false"?r--:(n=i,r=Ra(n))}else{if(n==t)return!0;r=Us(n),n=n.parentNode}}function _B(t){return t.scrollTop>Math.max(1,t.scrollHeight-t.clientHeight-4)}function DB(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r>0)return{node:n,offset:r};if(n.nodeType==1&&r>0){if(n.contentEditable=="false")return null;n=n.childNodes[r-1],r=Ra(n)}else if(n.parentNode&&!hg(n))r=Us(n),n=n.parentNode;else return null}}function PB(t,e){for(let n=t,r=e;;){if(n.nodeType==3&&r<n.nodeValue.length)return{node:n,offset:r};if(n.nodeType==1&&r<n.childNodes.length){if(n.contentEditable=="false")return null;n=n.childNodes[r],r=0}else if(n.parentNode&&!hg(n))r=Us(n)+1,n=n.parentNode;else return null}}class ci{constructor(e,n,r=!0){this.node=e,this.offset=n,this.precise=r}static before(e,n){return new ci(e.parentNode,Us(e),n)}static after(e,n){return new ci(e.parentNode,Us(e)+1,n)}}var dt=(function(t){return t[t.LTR=0]="LTR",t[t.RTL=1]="RTL",t})(dt||(dt={}));const Zl=dt.LTR,rN=dt.RTL;function RB(t){let e=[];for(let n=0;n<t.length;n++)e.push(1<<+t[n]);return e}const cce=RB("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),uce=RB("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),jS=Object.create(null),Oi=[];for(let t of["()","[]","{}"]){let e=t.charCodeAt(0),n=t.charCodeAt(1);jS[e]=n,jS[n]=-e}function LB(t){return t<=247?cce[t]:1424<=t&&t<=1524?2:1536<=t&&t<=1785?uce[t-1536]:1774<=t&&t<=2220?4:8192<=t&&t<=8204?256:64336<=t&&t<=65023?4:1}const fce=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class Bi{get dir(){return this.level%2?rN:Zl}constructor(e,n,r){this.from=e,this.to=n,this.level=r}side(e,n){return this.dir==n==e?this.to:this.from}forward(e,n){return e==(this.dir==n)}static find(e,n,r,i){let a=-1;for(let s=0;s<e.length;s++){let o=e[s];if(o.from<=n&&o.to>=n){if(o.level==r)return s;(a<0||(i!=0?i<0?o.from<n:o.to>n:e[a].level>o.level))&&(a=s)}}if(a<0)throw new RangeError("Index out of range");return a}}function BB(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r.from!=i.from||r.to!=i.to||r.direction!=i.direction||!BB(r.inner,i.inner))return!1}return!0}const ut=[];function dce(t,e,n,r,i){for(let a=0;a<=r.length;a++){let s=a?r[a-1].to:e,o=a<r.length?r[a].from:n,u=a?256:i;for(let f=s,h=u,p=u;f<o;f++){let y=LB(t.charCodeAt(f));y==512?y=h:y==8&&p==4&&(y=16),ut[f]=y==4?2:y,y&7&&(p=y),h=y}for(let f=s,h=u,p=u;f<o;f++){let y=ut[f];if(y==128)f<o-1&&h==ut[f+1]&&h&24?y=ut[f]=h:ut[f]=256;else if(y==64){let x=f+1;for(;x<o&&ut[x]==64;)x++;let b=f&&h==8||x<n&&ut[x]==8?p==1?1:8:256;for(let j=f;j<x;j++)ut[j]=b;f=x-1}else y==8&&p==1&&(ut[f]=1);h=y,y&7&&(p=y)}}}function hce(t,e,n,r,i){let a=i==1?2:1;for(let s=0,o=0,u=0;s<=r.length;s++){let f=s?r[s-1].to:e,h=s<r.length?r[s].from:n;for(let p=f,y,x,b;p<h;p++)if(x=jS[y=t.charCodeAt(p)])if(x<0){for(let j=o-3;j>=0;j-=3)if(Oi[j+1]==-x){let S=Oi[j+2],N=S&2?i:S&4?S&1?a:i:0;N&&(ut[p]=ut[Oi[j]]=N),o=j;break}}else{if(Oi.length==189)break;Oi[o++]=p,Oi[o++]=y,Oi[o++]=u}else if((b=ut[p])==2||b==1){let j=b==i;u=j?0:1;for(let S=o-3;S>=0;S-=3){let N=Oi[S+2];if(N&2)break;if(j)Oi[S+2]|=2;else{if(N&4)break;Oi[S+2]|=4}}}}}function mce(t,e,n,r){for(let i=0,a=r;i<=n.length;i++){let s=i?n[i-1].to:t,o=i<n.length?n[i].from:e;for(let u=s;u<o;){let f=ut[u];if(f==256){let h=u+1;for(;;)if(h==o){if(i==n.length)break;h=n[i++].to,o=i<n.length?n[i].from:e}else if(ut[h]==256)h++;else break;let p=a==1,y=(h<e?ut[h]:r)==1,x=p==y?p?1:2:r;for(let b=h,j=i,S=j?n[j-1].to:t;b>u;)b==S&&(b=n[--j].from,S=j?n[j-1].to:t),ut[--b]=x;u=h}else a=f,u++}}}function NS(t,e,n,r,i,a,s){let o=r%2?2:1;if(r%2==i%2)for(let u=e,f=0;u<n;){let h=!0,p=!1;if(f==a.length||u<a[f].from){let j=ut[u];j!=o&&(h=!1,p=j==16)}let y=!h&&o==1?[]:null,x=h?r:r+1,b=u;e:for(;;)if(f<a.length&&b==a[f].from){if(p)break e;let j=a[f];if(!h)for(let S=j.to,N=f+1;;){if(S==n)break e;if(N<a.length&&a[N].from==S)S=a[N++].to;else{if(ut[S]==o)break e;break}}if(f++,y)y.push(j);else{j.from>u&&s.push(new Bi(u,j.from,x));let S=j.direction==Zl!=!(x%2);CS(t,S?r+1:r,i,j.inner,j.from,j.to,s),u=j.to}b=j.to}else{if(b==n||(h?ut[b]!=o:ut[b]==o))break;b++}y?NS(t,u,b,r+1,i,y,s):u<b&&s.push(new Bi(u,b,x)),u=b}else for(let u=n,f=a.length;u>e;){let h=!0,p=!1;if(!f||u>a[f-1].to){let j=ut[u-1];j!=o&&(h=!1,p=j==16)}let y=!h&&o==1?[]:null,x=h?r:r+1,b=u;e:for(;;)if(f&&b==a[f-1].to){if(p)break e;let j=a[--f];if(!h)for(let S=j.from,N=f;;){if(S==e)break e;if(N&&a[N-1].to==S)S=a[--N].from;else{if(ut[S-1]==o)break e;break}}if(y)y.push(j);else{j.to<u&&s.push(new Bi(j.to,u,x));let S=j.direction==Zl!=!(x%2);CS(t,S?r+1:r,i,j.inner,j.from,j.to,s),u=j.from}b=j.from}else{if(b==e||(h?ut[b-1]!=o:ut[b-1]==o))break;b--}y?NS(t,b,u,r+1,i,y,s):b<u&&s.push(new Bi(b,u,x)),u=b}}function CS(t,e,n,r,i,a,s){let o=e%2?2:1;dce(t,i,a,r,o),hce(t,i,a,r,o),mce(i,a,r,o),NS(t,i,a,e,n,r,s)}function pce(t,e,n){if(!t)return[new Bi(0,0,e==rN?1:0)];if(e==Zl&&!n.length&&!fce.test(t))return zB(t.length);if(n.length)for(;t.length>ut.length;)ut[ut.length]=256;let r=[],i=e==Zl?0:1;return CS(t,i,i,n,0,t.length,r),r}function zB(t){return[new Bi(0,t,0)]}let IB="";function gce(t,e,n,r,i){var a;let s=r.head-t.from,o=Bi.find(e,s,(a=r.bidiLevel)!==null&&a!==void 0?a:-1,r.assoc),u=e[o],f=u.side(i,n);if(s==f){let y=o+=i?1:-1;if(y<0||y>=e.length)return null;u=e[o=y],s=u.side(!i,n),f=u.side(i,n)}let h=sn(t.text,s,u.forward(i,n));(h<u.from||h>u.to)&&(h=f),IB=t.text.slice(Math.min(s,h),Math.max(s,h));let p=o==(i?e.length-1:0)?null:e[o+(i?1:-1)];return p&&h==f&&p.level+(i?0:1)<u.level?he.cursor(p.side(!i,n)+t.from,p.forward(i,n)?1:-1,p.level):he.cursor(h+t.from,u.forward(i,n)?-1:1,u.level)}function yce(t,e,n){for(let r=e;r<n;r++){let i=LB(t.charCodeAt(r));if(i==1)return Zl;if(i==2||i==4)return rN}return Zl}const UB=be.define(),$B=be.define(),qB=be.define(),HB=be.define(),kS=be.define(),VB=be.define(),FB=be.define(),iN=be.define(),aN=be.define(),WB=be.define({combine:t=>t.some(e=>e)}),GB=be.define({combine:t=>t.some(e=>e)}),KB=be.define();class fc{constructor(e,n="nearest",r="nearest",i=5,a=5,s=!1){this.range=e,this.y=n,this.x=r,this.yMargin=i,this.xMargin=a,this.isSnapshot=s}map(e){return e.empty?this:new fc(this.range.map(e),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(e){return this.range.to<=e.doc.length?this:new fc(he.cursor(e.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const Nm=Be.define({map:(t,e)=>t.map(e)}),YB=Be.define();function nr(t,e,n){let r=t.facet(HB);r.length?r[0](e):window.onerror&&window.onerror(String(e),n,void 0,void 0,e)||(n?console.error(n+":",e):console.error(e))}const ba=be.define({combine:t=>t.length?t[0]:!0});let xce=0;const tc=be.define({combine(t){return t.filter((e,n)=>{for(let r=0;r<n;r++)if(t[r].plugin==e.plugin)return!1;return!0})}});class Bt{constructor(e,n,r,i,a){this.id=e,this.create=n,this.domEventHandlers=r,this.domEventObservers=i,this.baseExtensions=a(this),this.extension=this.baseExtensions.concat(tc.of({plugin:this,arg:void 0}))}of(e){return this.baseExtensions.concat(tc.of({plugin:this,arg:e}))}static define(e,n){const{eventHandlers:r,eventObservers:i,provide:a,decorations:s}=n||{};return new Bt(xce++,e,r,i,o=>{let u=[];return s&&u.push($0.of(f=>{let h=f.plugin(o);return h?s(h):Me.none})),a&&u.push(a(o)),u})}static fromClass(e,n){return Bt.define((r,i)=>new e(r,i),n)}}class f1{constructor(e){this.spec=e,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(e){if(this.value){if(this.mustUpdate){let n=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(n)}catch(r){if(nr(n.state,r,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(e,this.spec.arg)}catch(n){nr(e.state,n,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(e){var n;if(!((n=this.value)===null||n===void 0)&&n.destroy)try{this.value.destroy()}catch(r){nr(e.state,r,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const QB=be.define(),sN=be.define(),$0=be.define(),XB=be.define(),lN=be.define(),Rd=be.define(),ZB=be.define();function kD(t,e){let n=t.state.facet(ZB);if(!n.length)return n;let r=n.map(a=>a instanceof Function?a(t):a),i=[];return He.spans(r,e.from,e.to,{point(){},span(a,s,o,u){let f=a-e.from,h=s-e.from,p=i;for(let y=o.length-1;y>=0;y--,u--){let x=o[y].spec.bidiIsolate,b;if(x==null&&(x=yce(e.text,f,h)),u>0&&p.length&&(b=p[p.length-1]).to==f&&b.direction==x)b.to=h,p=b.inner;else{let j={from:f,to:h,direction:x,inner:[]};p.push(j),p=j.inner}}}}),i}const JB=be.define();function oN(t){let e=0,n=0,r=0,i=0;for(let a of t.state.facet(JB)){let s=a(t);s&&(s.left!=null&&(e=Math.max(e,s.left)),s.right!=null&&(n=Math.max(n,s.right)),s.top!=null&&(r=Math.max(r,s.top)),s.bottom!=null&&(i=Math.max(i,s.bottom)))}return{left:e,right:n,top:r,bottom:i}}const gf=be.define();class Gr{constructor(e,n,r,i){this.fromA=e,this.toA=n,this.fromB=r,this.toB=i}join(e){return new Gr(Math.min(this.fromA,e.fromA),Math.max(this.toA,e.toA),Math.min(this.fromB,e.fromB),Math.max(this.toB,e.toB))}addToSet(e){let n=e.length,r=this;for(;n>0;n--){let i=e[n-1];if(!(i.fromA>r.toA)){if(i.toA<r.fromA)break;r=r.join(i),e.splice(n-1,1)}}return e.splice(n,0,r),e}static extendWithRanges(e,n){if(n.length==0)return e;let r=[];for(let i=0,a=0,s=0;;){let o=i<e.length?e[i].fromB:1e9,u=a<n.length?n[a]:1e9,f=Math.min(o,u);if(f==1e9)break;let h=f+s,p=f,y=h;for(;;)if(a<n.length&&n[a]<=p){let x=n[a+1];a+=2,p=Math.max(p,x);for(let b=i;b<e.length&&e[b].fromB<=p;b++)s=e[b].toA-e[b].toB;y=Math.max(y,x+s)}else if(i<e.length&&e[i].fromB<=p){let x=e[i++];p=Math.max(p,x.toB),y=Math.max(y,x.toA),s=x.toA-x.toB}else break;r.push(new Gr(h,y,f,p))}return r}}class mg{constructor(e,n,r){this.view=e,this.state=n,this.transactions=r,this.flags=0,this.startState=e.state,this.changes=Yt.empty(this.startState.doc.length);for(let a of r)this.changes=this.changes.compose(a.changes);let i=[];this.changes.iterChangedRanges((a,s,o,u)=>i.push(new Gr(a,s,o,u))),this.changedRanges=i}static create(e,n,r){return new mg(e,n,r)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(e=>e.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const vce=[];class Ht{constructor(e,n,r=0){this.dom=e,this.length=n,this.flags=r,this.parent=null,e.cmTile=this}get breakAfter(){return this.flags&1}get children(){return vce}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(e){if(this.flags|=2,this.flags&4){this.flags&=-5;let n=this.domAttrs;n&&ece(this.dom,n)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(e){this.dom=e,e.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(e,n=this.posAtStart){let r=n;for(let i of this.children){if(i==e)return r;r+=i.length+i.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(e){return this.posBefore(e)+e.length}covers(e){return!0}coordsIn(e,n){return null}domPosFor(e,n){let r=Us(this.dom),i=this.length?e>0:n>0;return new ci(this.parent.dom,r+(i?1:0),e==0||e==this.length)}markDirty(e){this.flags&=-3,e&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let e=this;e;e=e.parent)if(e instanceof H0)return e;return null}static get(e){return e.cmTile}}class q0 extends Ht{constructor(e){super(e,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(e){this.children.push(e),e.parent=this}sync(e){if(this.flags&2)return;super.sync(e);let n=this.dom,r=null,i,a=e?.node==n?e:null,s=0;for(let o of this.children){if(o.sync(e),s+=o.length+o.breakAfter,i=r?r.nextSibling:n.firstChild,a&&i!=o.dom&&(a.written=!0),o.dom.parentNode==n)for(;i&&i!=o.dom;)i=OD(i);else n.insertBefore(o.dom,i);r=o.dom}for(i=r?r.nextSibling:n.firstChild,a&&i&&(a.written=!0);i;)i=OD(i);this.length=s}}function OD(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class H0 extends q0{constructor(e,n){super(n),this.view=e}owns(e){for(;e;e=e.parent)if(e==this)return!0;return!1}isBlock(){return!0}nearest(e){for(;;){if(!e)return null;let n=Ht.get(e);if(n&&this.owns(n))return n;e=e.parentNode}}blockTiles(e){for(let n=[],r=this,i=0,a=0;;)if(i==r.children.length){if(!n.length)return;r=r.parent,r.breakAfter&&a++,i=n.pop()}else{let s=r.children[i++];if(s instanceof Ms)n.push(i),r=s,i=0;else{let o=a+s.length,u=e(s,a);if(u!==void 0)return u;a=o+s.breakAfter}}}resolveBlock(e,n){let r,i=-1,a,s=-1;if(this.blockTiles((o,u)=>{let f=u+o.length;if(e>=u&&e<=f){if(o.isWidget()&&n>=-1&&n<=1){if(o.flags&32)return!0;o.flags&16&&(r=void 0)}(u<e||e==f&&(n<-1?o.length:o.covers(1)))&&(!r||!o.isWidget()&&r.isWidget())&&(r=o,i=e-u),(f>e||e==u&&(n>1?o.length:o.covers(-1)))&&(!a||!o.isWidget()&&a.isWidget())&&(a=o,s=e-u)}}),!r&&!a)throw new Error("No tile at position "+e);return r&&n<0||!a?{tile:r,offset:i}:{tile:a,offset:s}}}class Ms extends q0{constructor(e,n){super(e),this.wrapper=n}isBlock(){return!0}covers(e){return this.children.length?e<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(e,n){let r=new Ms(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Oc extends q0{constructor(e,n){super(e),this.attrs=n}isLine(){return!0}static start(e,n,r){let i=new Oc(n||document.createElement("div"),e);return(!n||!r)&&(i.flags|=4),i}get domAttrs(){return this.attrs}resolveInline(e,n,r){let i=null,a=-1,s=null,o=-1;function u(h,p){for(let y=0,x=0;y<h.children.length&&x<=p;y++){let b=h.children[y],j=x+b.length;j>=p&&(b.isComposite()?u(b,p-x):(!s||s.isHidden&&(n>0||r&&wce(s,b)))&&(j>p||b.flags&32)?(s=b,o=p-x):(x<p||b.flags&16&&!b.isHidden)&&(i=b,a=p-x)),x=j}}u(this,e);let f=(n<0?i:s)||i||s;return f?{tile:f,offset:f==i?a:o}:null}coordsIn(e,n){let r=this.resolveInline(e,n,!0);return r?r.tile.coordsIn(Math.max(0,r.offset),n):bce(this)}domIn(e,n){let r=this.resolveInline(e,n);if(r){let{tile:i,offset:a}=r;if(this.dom.contains(i.dom))return i.isText()?new ci(i.dom,Math.min(i.dom.nodeValue.length,a)):i.domPosFor(a,i.flags&16?1:i.flags&32?-1:n);let s=r.tile.parent,o=!1;for(let u of s.children){if(o)return new ci(u.dom,0);u==r.tile&&(o=!0)}}return new ci(this.dom,0)}}function bce(t){let e=t.dom.lastChild;if(!e)return t.dom.getBoundingClientRect();let n=Nf(e);return n[n.length-1]||null}function wce(t,e){let n=t.coordsIn(0,1),r=e.coordsIn(0,1);return n&&r&&r.top<n.bottom}class Jn extends q0{constructor(e,n){super(e),this.mark=n}get domAttrs(){return this.mark.attrs}static of(e,n){let r=new Jn(n||document.createElement(e.tagName),e);return n||(r.flags|=4),r}}class Tl extends Ht{constructor(e,n){super(e,n.length),this.text=n}sync(e){this.flags&2||(super.sync(e),this.dom.nodeValue!=this.text&&(e&&e.node==this.dom&&(e.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(e,n){let r=this.dom.nodeValue.length;e>r&&(e=r);let i=e,a=e,s=0;e==0&&n<0||e==r&&n>=0?ve.chrome||ve.gecko||(e?(i--,s=1):a<r&&(a++,s=-1)):n<0?i--:a<r&&a++;let o=nd(this.dom,i,a).getClientRects();if(!o.length)return null;let u=o[(s?s<0:n>=0)?0:o.length-1];return ve.safari&&!s&&u.width==0&&(u=Array.prototype.find.call(o,f=>f.width)||u),s?td(u,s<0):u||null}static of(e,n){let r=new Tl(n||document.createTextNode(e),e);return n||(r.flags|=2),r}}class Jl extends Ht{constructor(e,n,r,i){super(e,n,i),this.widget=r}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(e){return this.flags&48?!1:(this.flags&(e<0?64:128))>0}coordsIn(e,n){return this.coordsInWidget(e,n,!1)}coordsInWidget(e,n,r){let i=this.widget.coordsAt(this.dom,e,n);if(i)return i;if(r)return td(this.dom.getBoundingClientRect(),this.length?e==0:n<=0);{let a=this.dom.getClientRects(),s=null;if(!a.length)return null;let o=this.flags&16?!0:this.flags&32?!1:e>0;for(let u=o?a.length-1:0;s=a[u],!(e>0?u==0:u==a.length-1||s.top<s.bottom);u+=o?-1:1);return td(s,!o)}}get overrideDOMText(){if(!this.length)return Xe.empty;let{root:e}=this;if(!e)return Xe.empty;let n=this.posAtStart;return e.view.state.doc.slice(n,n+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(e,n,r,i,a){return a||(a=e.toDOM(n),e.editable||(a.contentEditable="false")),new Jl(a,r,e,i)}}class pg extends Ht{constructor(e){let n=document.createElement("img");n.className="cm-widgetBuffer",n.setAttribute("aria-hidden","true"),super(n,0,e)}get isHidden(){return!0}get overrideDOMText(){return Xe.empty}coordsIn(e){return this.dom.getBoundingClientRect()}}class Sce{constructor(e){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=e}advance(e,n,r){let{tile:i,index:a,beforeBreak:s,parents:o}=this;for(;e||n>0;)if(i.isComposite())if(s){if(!e)break;r&&r.break(),e--,s=!1}else if(a==i.children.length){if(!e&&!o.length)break;r&&r.leave(i),s=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++}else{let u=i.children[a],f=u.breakAfter;(n>0?u.length<=e:u.length<e)&&(!r||r.skip(u,0,u.length)!==!1||!u.isComposite)?(s=!!f,a++,e-=u.length):(o.push({tile:i,index:a}),i=u,a=0,r&&u.isComposite()&&r.enter(u))}else if(a==i.length)s=!!i.breakAfter,{tile:i,index:a}=o.pop(),a++;else if(e){let u=Math.min(e,i.length-a);r&&r.skip(i,a,a+u),e-=u,a+=u}else break;return this.tile=i,this.index=a,this.beforeBreak=s,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class jce{constructor(e,n,r,i){this.from=e,this.to=n,this.wrapper=r,this.rank=i}}class Nce{constructor(e,n,r){this.cache=e,this.root=n,this.blockWrappers=r,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(e,n,r,i){var a;this.flushBuffer();let s=this.ensureMarks(n,r),o=s.lastChild;if(o&&o.isText()&&!(o.flags&8)&&o.length+e.length<512){this.cache.reused.set(o,2);let u=s.children[s.children.length-1]=new Tl(o.dom,o.text+e);u.parent=s}else s.append(i||Tl.of(e,(a=this.cache.find(Tl))===null||a===void 0?void 0:a.dom));this.pos+=e.length,this.afterWidget=null}addComposition(e,n){let r=this.curLine;r.dom!=n.line.dom&&(r.setDOM(this.cache.reused.has(n.line)?d1(n.line.dom):n.line.dom),this.cache.reused.set(n.line,2));let i=r;for(let o=n.marks.length-1;o>=0;o--){let u=n.marks[o],f=i.lastChild;if(f instanceof Jn&&f.mark.eq(u.mark))f.dom!=u.dom&&f.setDOM(d1(u.dom)),i=f;else{if(this.cache.reused.get(u)){let p=Ht.get(u.dom);p&&p.setDOM(d1(u.dom))}let h=Jn.of(u.mark,u.dom);i.append(h),i=h}this.cache.reused.set(u,2)}let a=Ht.get(e.text);a&&this.cache.reused.set(a,2);let s=new Tl(e.text,e.text.nodeValue);s.flags|=8,i.append(s)}addInlineWidget(e,n,r){let i=this.afterWidget&&e.flags&48&&(this.afterWidget.flags&48)==(e.flags&48);i||this.flushBuffer();let a=this.ensureMarks(n,r);!i&&!(e.flags&16)&&a.append(this.getBuffer(1)),a.append(e),this.pos+=e.length,this.afterWidget=e}addMark(e,n,r){this.flushBuffer(),this.ensureMarks(n,r).append(e),this.pos+=e.length,this.afterWidget=null}addBlockWidget(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}continueWidget(e){let n=this.afterWidget||this.lastBlock;n.length+=e,this.pos+=e}addLineStart(e,n){var r;e||(e=ez);let i=Oc.start(e,n||((r=this.cache.find(Oc))===null||r===void 0?void 0:r.dom),!!n);this.getBlockPos().append(this.lastBlock=this.curLine=i)}addLine(e){this.getBlockPos().append(e),this.pos+=e.length,this.lastBlock=e,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(e){this.blockPosCovered()||this.addLineStart(e)}ensureLine(e){this.curLine||this.addLineStart(e)}ensureMarks(e,n){var r;let i=this.curLine;for(let a=e.length-1;a>=0;a--){let s=e[a],o;if(n>0&&(o=i.lastChild)&&o instanceof Jn&&o.mark.eq(s))i=o,n--;else{let u=Jn.of(s,(r=this.cache.find(Jn,f=>f.mark.eq(s)))===null||r===void 0?void 0:r.dom);i.append(u),i=u,n=0}}return i}endLine(){if(this.curLine){this.flushBuffer();let e=this.curLine.lastChild;(!e||!AD(this.curLine,!1)||e.dom.nodeName!="BR"&&e.isWidget()&&!(ve.ios&&AD(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(h1,0,32)||new Jl(h1.toDOM(),0,h1,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let e=this.wrappers.length-1;e>=0;e--)this.wrappers[e].to<this.pos&&this.wrappers.splice(e,1);for(let e=this.blockWrappers;e.value&&e.from<=this.pos;e.next())if(e.to>=this.pos){let n=new jce(e.from,e.to,e.value,e.rank),r=this.wrappers.length;for(;r>0&&(this.wrappers[r-1].rank-n.rank||this.wrappers[r-1].to-n.to)<0;)r--;this.wrappers.splice(r,0,n)}this.wrapperPos=this.pos}getBlockPos(){var e;this.updateBlockWrappers();let n=this.root;for(let r of this.wrappers){let i=n.lastChild;if(r.from<this.pos&&i instanceof Ms&&i.wrapper.eq(r.wrapper))n=i;else{let a=Ms.of(r.wrapper,(e=this.cache.find(Ms,s=>s.wrapper.eq(r.wrapper)))===null||e===void 0?void 0:e.dom);n.append(a),n=a}}return n}blockPosCovered(){let e=this.lastBlock;return e!=null&&!e.breakAfter&&(!e.isWidget()||(e.flags&160)>0)}getBuffer(e){let n=2|(e<0?16:32),r=this.cache.find(pg,void 0,1);return r&&(r.flags=n),r||new pg(n)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class Cce{constructor(e){this.skipCount=0,this.text="",this.textOff=0,this.cursor=e.iter()}skip(e){this.textOff+e<=this.text.length?this.textOff+=e:(this.skipCount+=e-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(e){if(this.textOff==this.text.length){let{value:i,lineBreak:a,done:s}=this.cursor.next(this.skipCount);if(this.skipCount=0,s)throw new Error("Ran out of text content when drawing inline views");this.text=i;let o=this.textOff=Math.min(e,i.length);return a?null:i.slice(0,o)}let n=Math.min(this.text.length,this.textOff+e),r=this.text.slice(this.textOff,n);return this.textOff=n,r}}const gg=[Jl,Oc,Tl,Jn,pg,Ms,H0];for(let t=0;t<gg.length;t++)gg[t].bucket=t;class kce{constructor(e){this.view=e,this.buckets=gg.map(()=>[]),this.index=gg.map(()=>0),this.reused=new Map}add(e){let n=e.constructor.bucket,r=this.buckets[n];r.length<6?r.push(e):r[this.index[n]=(this.index[n]+1)%6]=e}find(e,n,r=2){let i=e.bucket,a=this.buckets[i],s=this.index[i];for(let o=a.length-1;o>=0;o--){let u=(o+s)%a.length,f=a[u];if((!n||n(f))&&!this.reused.has(f))return a.splice(u,1),u<s&&this.index[i]--,this.reused.set(f,r),f}return null}findWidget(e,n,r){let i=this.buckets[0];if(i.length)for(let a=0,s=0;;a++){if(a==i.length){if(s)return null;s=1,a=0}let o=i[a];if(!this.reused.has(o)&&(s==0?o.widget.compare(e):o.widget.constructor==e.constructor&&e.updateDOM(o.dom,this.view)))return i.splice(a,1),a<this.index[0]&&this.index[0]--,o.widget==e&&o.length==n&&(o.flags&497)==r?(this.reused.set(o,1),o):(this.reused.set(o,2),new Jl(o.dom,n,e,o.flags&-498|r))}}reuse(e){return this.reused.set(e,1),e}maybeReuse(e,n=2){if(!this.reused.has(e))return this.reused.set(e,n),e.dom}clear(){for(let e=0;e<this.buckets.length;e++)this.buckets[e].length=this.index[e]=0}}class Oce{constructor(e,n,r,i,a){this.view=e,this.decorations=i,this.disallowBlockEffectsFor=a,this.openWidget=!1,this.openMarks=0,this.cache=new kce(e),this.text=new Cce(e.state.doc),this.builder=new Nce(this.cache,new H0(e,e.contentDOM),He.iter(r)),this.cache.reused.set(n,2),this.old=new Sce(n),this.reuseWalker={skip:(s,o,u)=>{if(this.cache.add(s),s.isComposite())return!1},enter:s=>this.cache.add(s),leave:()=>{},break:()=>{}}}run(e,n){let r=n&&this.getCompositionContext(n.text);for(let i=0,a=0,s=0;;){let o=s<e.length?e[s++]:null,u=o?o.fromA:this.old.root.length;if(u>i){let f=u-i;this.preserve(f,!s,!o),i=u,a+=f}if(!o)break;n&&o.fromA<=n.range.fromA&&o.toA>=n.range.toA?(this.forward(o.fromA,n.range.fromA,n.range.fromA<n.range.toA?1:-1),this.emit(a,n.range.fromB),this.cache.clear(),this.builder.addComposition(n,r),this.text.skip(n.range.toB-n.range.fromB),this.forward(n.range.fromA,o.toA),this.emit(n.range.toB,o.toB)):(this.forward(o.fromA,o.toA),this.emit(a,o.toB)),a=o.toB,i=o.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(e,n,r){let i=Tce(this.old),a=this.openMarks;this.old.advance(e,r?1:-1,{skip:(s,o,u)=>{if(s.isWidget())if(this.openWidget)this.builder.continueWidget(u-o);else{let f=u>0||o<s.length?Jl.of(s.widget,this.view,u-o,s.flags&496,this.cache.maybeReuse(s)):this.cache.reuse(s);f.flags&256?(f.flags&=-2,this.builder.addBlockWidget(f)):(this.builder.ensureLine(null),this.builder.addInlineWidget(f,i,a),a=i.length)}else if(s.isText())this.builder.ensureLine(null),!o&&u==s.length?this.builder.addText(s.text,i,a,this.cache.reuse(s)):(this.cache.add(s),this.builder.addText(s.text.slice(o,u),i,a)),a=i.length;else if(s.isLine())s.flags&=-2,this.cache.reused.set(s,1),this.builder.addLine(s);else if(s instanceof pg)this.cache.add(s);else if(s instanceof Jn)this.builder.ensureLine(null),this.builder.addMark(s,i,a),this.cache.reused.set(s,1),a=i.length;else return!1;this.openWidget=!1},enter:s=>{s.isLine()?this.builder.addLineStart(s.attrs,this.cache.maybeReuse(s)):(this.cache.add(s),s instanceof Jn&&i.unshift(s.mark)),this.openWidget=!1},leave:s=>{s.isLine()?i.length&&(i.length=a=0):s instanceof Jn&&(i.shift(),a=Math.min(a,i.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(e)}emit(e,n){let r=null,i=this.builder,a=0,s=He.spans(this.decorations,e,n,{point:(o,u,f,h,p,y)=>{if(f instanceof Xl){if(this.disallowBlockEffectsFor[y]){if(f.block)throw new RangeError("Block decorations may not be specified via plugins");if(u>this.view.state.doc.lineAt(o).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(a=h.length,p>h.length)i.continueWidget(u-o);else{let x=f.widget||(f.block?Ac.block:Ac.inline),b=Ace(f),j=this.cache.findWidget(x,u-o,b)||Jl.of(x,this.view,u-o,b);f.block?(f.startSide>0&&i.addLineStartIfNotCovered(r),i.addBlockWidget(j)):(i.ensureLine(r),i.addInlineWidget(j,h,p))}r=null}else r=Ece(r,f);u>o&&this.text.skip(u-o)},span:(o,u,f,h)=>{for(let p=o;p<u;){let y=this.text.next(Math.min(512,u-p));y==null?(i.addLineStartIfNotCovered(r),i.addBreak(),p++):(i.ensureLine(r),i.addText(y,f,p==o?h:f.length),p+=y.length),r=null}}});i.addLineStartIfNotCovered(r),this.openWidget=s>a,this.openMarks=s}forward(e,n,r=1){n-e<=10?this.old.advance(n-e,r,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(n-e-10,-1),this.old.advance(5,r,this.reuseWalker))}getCompositionContext(e){let n=[],r=null;for(let i=e.parentNode;;i=i.parentNode){let a=Ht.get(i);if(i==this.view.contentDOM)break;a instanceof Jn?n.push(a):a?.isLine()?r=a:i.nodeName=="DIV"&&!r&&i!=this.view.contentDOM?r=new Oc(i,ez):n.push(Jn.of(new Dd({tagName:i.nodeName.toLowerCase(),attributes:tce(i)}),i))}return{line:r,marks:n}}}function AD(t,e){let n=r=>{for(let i of r.children)if((e?i.isText():i.length)||n(i))return!0;return!1};return n(t)}function Ace(t){let e=t.isReplace?(t.startSide<0?64:0)|(t.endSide>0?128:0):t.startSide>0?32:16;return t.block&&(e|=256),e}const ez={class:"cm-line"};function Ece(t,e){let n=e.spec.attributes,r=e.spec.class;return!n&&!r||(t||(t={class:"cm-line"}),n&&tN(n,t),r&&(t.class+=" "+r)),t}function Tce(t){let e=[];for(let n=t.parents.length;n>1;n--){let r=n==t.parents.length?t.tile:t.parents[n].tile;r instanceof Jn&&e.push(r.mark)}return e}function d1(t){let e=Ht.get(t);return e&&e.setDOM(t.cloneNode()),t}class Ac extends Xi{constructor(e){super(),this.tag=e}eq(e){return e.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(e){return e.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}Ac.inline=new Ac("span");Ac.block=new Ac("div");const h1=new class extends Xi{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class ED{constructor(e){this.view=e,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Me.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new H0(e,e.contentDOM),this.updateInner([new Gr(0,0,0,e.state.doc.length)],null)}update(e){var n;let r=e.changedRanges;this.minWidth>0&&r.length&&(r.every(({fromA:h,toA:p})=>p<this.minWidthFrom||h>this.minWidthTo)?(this.minWidthFrom=e.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=e.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(e);let i=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((n=this.domChanged)===null||n===void 0)&&n.newSel?i=this.domChanged.newSel.head:!Ice(e.changes,this.hasComposition)&&!e.selectionSet&&(i=e.state.selection.main.head));let a=i>-1?_ce(this.view,e.changes,i):null;if(this.domChanged=null,this.hasComposition){let{from:h,to:p}=this.hasComposition;r=new Gr(h,p,e.changes.mapPos(h,-1),e.changes.mapPos(p,1)).addToSet(r.slice())}this.hasComposition=a?{from:a.range.fromB,to:a.range.toB}:null,(ve.ie||ve.chrome)&&!a&&e&&e.state.doc.lines!=e.startState.doc.lines&&(this.forceSelection=!0);let s=this.decorations,o=this.blockWrappers;this.updateDeco();let u=Rce(s,this.decorations,e.changes);u.length&&(r=Gr.extendWithRanges(r,u));let f=Bce(o,this.blockWrappers,e.changes);return f.length&&(r=Gr.extendWithRanges(r,f)),a&&!r.some(h=>h.fromA<=a.range.fromA&&h.toA>=a.range.toA)&&(r=a.range.addToSet(r.slice())),this.tile.flags&2&&r.length==0?!1:(this.updateInner(r,a),e.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(e,n){this.view.viewState.mustMeasureContent=!0;let{observer:r}=this.view;r.ignore(()=>{if(n||e.length){let s=this.tile,o=new Oce(this.view,s,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=o.run(e,n),OS(s,o.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let a=ve.chrome||ve.ios?{node:r.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(a),a&&(a.written||r.selectionRange.focusNode!=a.node||!this.tile.dom.contains(a.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let i=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let a of this.tile.children)a.isWidget()&&a.widget instanceof m1&&i.push(a.dom);r.updateGaps(i)}updateEditContextFormatting(e){this.editContextFormatting=this.editContextFormatting.map(e.changes);for(let n of e.transactions)for(let r of n.effects)r.is(YB)&&(this.editContextFormatting=r.value)}updateSelection(e=!1,n=!1){(e||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:r}=this.tile,i=this.view.root.activeElement,a=i==r,s=!a&&!(this.view.state.facet(ba)||r.tabIndex>-1)&&jf(r,this.view.observer.selectionRange)&&!(i&&r.contains(i));if(!(a||n||s))return;let o=this.forceSelection;this.forceSelection=!1;let u=this.view.state.selection.main,f,h;if(u.empty?h=f=this.inlineDOMNearPos(u.anchor,u.assoc||1):(h=this.inlineDOMNearPos(u.head,u.head==u.from?1:-1),f=this.inlineDOMNearPos(u.anchor,u.anchor==u.from?1:-1)),ve.gecko&&u.empty&&!this.hasComposition&&Mce(f)){let y=document.createTextNode("");this.view.observer.ignore(()=>f.node.insertBefore(y,f.node.childNodes[f.offset]||null)),f=h=new ci(y,0),o=!0}let p=this.view.observer.selectionRange;(o||!p.focusNode||(!Cf(f.node,f.offset,p.anchorNode,p.anchorOffset)||!Cf(h.node,h.offset,p.focusNode,p.focusOffset))&&!this.suppressWidgetCursorChange(p,u))&&(this.view.observer.ignore(()=>{ve.android&&ve.chrome&&r.contains(p.focusNode)&&zce(p.focusNode,r)&&(r.blur(),r.focus({preventScroll:!0}));let y=ed(this.view.root);if(y)if(u.empty){if(ve.gecko){let x=Dce(f.node,f.offset);if(x&&x!=3){let b=(x==1?DB:PB)(f.node,f.offset);b&&(f=new ci(b.node,b.offset))}}y.collapse(f.node,f.offset),u.bidiLevel!=null&&y.caretBidiLevel!==void 0&&(y.caretBidiLevel=u.bidiLevel)}else if(y.extend){y.collapse(f.node,f.offset);try{y.extend(h.node,h.offset)}catch{}}else{let x=document.createRange();u.anchor>u.head&&([f,h]=[h,f]),x.setEnd(h.node,h.offset),x.setStart(f.node,f.offset),y.removeAllRanges(),y.addRange(x)}s&&this.view.root.activeElement==r&&(r.blur(),i&&i.focus())}),this.view.observer.setSelectionRange(f,h)),this.impreciseAnchor=f.precise?null:new ci(p.anchorNode,p.anchorOffset),this.impreciseHead=h.precise?null:new ci(p.focusNode,p.focusOffset)}suppressWidgetCursorChange(e,n){return this.hasComposition&&n.empty&&Cf(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset)&&this.posFromDOM(e.focusNode,e.focusOffset)==n.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:e}=this,n=e.state.selection.main,r=ed(e.root),{anchorNode:i,anchorOffset:a}=e.observer.selectionRange;if(!r||!n.empty||!n.assoc||!r.modify)return;let s=this.lineAt(n.head,n.assoc);if(!s)return;let o=s.posAtStart;if(n.head==o||n.head==o+s.length)return;let u=this.coordsAt(n.head,-1),f=this.coordsAt(n.head,1);if(!u||!f||u.bottom>f.top)return;let h=this.domAtPos(n.head+n.assoc,n.assoc);r.collapse(h.node,h.offset),r.modify("move",n.assoc<0?"forward":"backward","lineboundary"),e.observer.readSelectionRange();let p=e.observer.selectionRange;e.docView.posFromDOM(p.anchorNode,p.anchorOffset)!=n.from&&r.collapse(i,a)}posFromDOM(e,n){let r=this.tile.nearest(e);if(!r)return this.tile.dom.compareDocumentPosition(e)&2?0:this.view.state.doc.length;let i=r.posAtStart;if(r.isComposite()){let a;if(e==r.dom)a=r.dom.childNodes[n];else{let s=Ra(e)==0?0:n==0?-1:1;for(;;){let o=e.parentNode;if(o==r.dom)break;s==0&&o.firstChild!=o.lastChild&&(e==o.firstChild?s=-1:s=1),e=o}s<0?a=e:a=e.nextSibling}if(a==r.dom.firstChild)return i;for(;a&&!Ht.get(a);)a=a.nextSibling;if(!a)return i+r.length;for(let s=0,o=i;;s++){let u=r.children[s];if(u.dom==a)return o;o+=u.length+u.breakAfter}}else return r.isText()?e==r.dom?i+n:i+(n?r.length:0):i}domAtPos(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.domPosFor(e,n):r.domIn(i,n)}inlineDOMNearPos(e,n){let r,i=-1,a=!1,s,o=-1,u=!1;return this.tile.blockTiles((f,h)=>{if(f.isWidget()){if(f.flags&32&&h>=e)return!0;f.flags&16&&(a=!0)}else{let p=h+f.length;if(h<=e&&(r=f,i=e-h,a=p<e),p>=e&&!s&&(s=f,o=e-h,u=h>e),h>e&&s)return!0}}),!r&&!s?this.domAtPos(e,n):(a&&s?r=null:u&&r&&(s=null),r&&n<0||!s?r.domIn(i,n):s.domIn(o,n))}coordsAt(e,n){let{tile:r,offset:i}=this.tile.resolveBlock(e,n);return r.isWidget()?r.widget instanceof m1?null:r.coordsInWidget(i,n,!0):r.coordsIn(i,n)}lineAt(e,n){let{tile:r}=this.tile.resolveBlock(e,n);return r.isLine()?r:null}coordsForChar(e){let{tile:n,offset:r}=this.tile.resolveBlock(e,1);if(!n.isLine())return null;function i(a,s){if(a.isComposite())for(let o of a.children){if(o.length>=s){let u=i(o,s);if(u)return u}if(s-=o.length,s<0)break}else if(a.isText()&&s<a.length){let o=sn(a.text,s);if(o==s)return null;let u=nd(a.dom,s,o).getClientRects();for(let f=0;f<u.length;f++){let h=u[f];if(f==u.length-1||h.top<h.bottom&&h.left<h.right)return h}}return null}return i(n,r)}measureVisibleLineHeights(e){let n=[],{from:r,to:i}=e,a=this.view.contentDOM.clientWidth,s=a>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,o=-1,u=this.view.textDirection==dt.LTR,f=0,h=(p,y,x)=>{for(let b=0;b<p.children.length&&!(y>i);b++){let j=p.children[b],S=y+j.length,N=j.dom.getBoundingClientRect(),{height:O}=N;if(x&&!b&&(f+=N.top-x.top),j instanceof Ms)S>r&&h(j,y,N);else if(y>=r&&(f>0&&n.push(-f),n.push(O+f),f=0,s)){let C=j.dom.lastChild,_=C?Nf(C):[];if(_.length){let P=_[_.length-1],D=u?P.right-N.left:N.right-P.left;D>o&&(o=D,this.minWidth=a,this.minWidthFrom=y,this.minWidthTo=S)}}x&&b==p.children.length-1&&(f+=x.bottom-N.bottom),y=S+j.breakAfter}};return h(this.tile,0,null),n}textDirectionAt(e){let{tile:n}=this.tile.resolveBlock(e,1);return getComputedStyle(n.dom).direction=="rtl"?dt.RTL:dt.LTR}measureTextSize(){let e=this.tile.blockTiles(s=>{if(s.isLine()&&s.children.length&&s.length<=20){let o=0,u;for(let f of s.children){if(!f.isText()||/[^ -~]/.test(f.text))return;let h=Nf(f.dom);if(h.length!=1)return;o+=h[0].width,u=h[0].height}if(o)return{lineHeight:s.dom.getBoundingClientRect().height,charWidth:o/s.length,textHeight:u}}});if(e)return e;let n=document.createElement("div"),r,i,a;return n.className="cm-line",n.style.width="99999px",n.style.position="absolute",n.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(n);let s=Nf(n.firstChild)[0];r=n.getBoundingClientRect().height,i=s&&s.width?s.width/27:7,a=s&&s.height?s.height:r,n.remove()}),{lineHeight:r,charWidth:i,textHeight:a}}computeBlockGapDeco(){let e=[],n=this.view.viewState;for(let r=0,i=0;;i++){let a=i==n.viewports.length?null:n.viewports[i],s=a?a.from-1:this.view.state.doc.length;if(s>r){let o=(n.lineBlockAt(s).bottom-n.lineBlockAt(r).top)/this.view.scaleY;e.push(Me.replace({widget:new m1(o),block:!0,inclusive:!0,isBlockGap:!0}).range(r,s))}if(!a)break;r=a.to+1}return Me.set(e)}updateDeco(){let e=1,n=this.view.state.facet($0).map(a=>(this.dynamicDecorationMap[e++]=typeof a=="function")?a(this.view):a),r=!1,i=this.view.state.facet(lN).map((a,s)=>{let o=typeof a=="function";return o&&(r=!0),o?a(this.view):a});for(i.length&&(this.dynamicDecorationMap[e++]=r,n.push(He.join(i))),this.decorations=[this.editContextFormatting,...n,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];e<this.decorations.length;)this.dynamicDecorationMap[e++]=!1;this.blockWrappers=this.view.state.facet(XB).map(a=>typeof a=="function"?a(this.view):a)}scrollIntoView(e){if(e.isSnapshot){let f=this.view.viewState.lineBlockAt(e.range.head);this.view.scrollDOM.scrollTop=f.top-e.yMargin,this.view.scrollDOM.scrollLeft=e.xMargin;return}for(let f of this.view.state.facet(KB))try{if(f(this.view,e.range,e))return!0}catch(h){nr(this.view.state,h,"scroll handler")}let{range:n}=e,r=this.coordsAt(n.head,n.empty?n.assoc:n.head>n.anchor?-1:1),i;if(!r)return;!n.empty&&(i=this.coordsAt(n.anchor,n.anchor>n.head?-1:1))&&(r={left:Math.min(r.left,i.left),top:Math.min(r.top,i.top),right:Math.max(r.right,i.right),bottom:Math.max(r.bottom,i.bottom)});let a=oN(this.view),s={left:r.left-a.left,top:r.top-a.top,right:r.right+a.right,bottom:r.bottom+a.bottom},{offsetWidth:o,offsetHeight:u}=this.view.scrollDOM;ice(this.view.scrollDOM,s,n.head<n.anchor?-1:1,e.x,e.y,Math.max(Math.min(e.xMargin,o),-o),Math.max(Math.min(e.yMargin,u),-u),this.view.textDirection==dt.LTR)}lineHasWidget(e){let n=r=>r.isWidget()||r.children.some(n);return n(this.tile.resolveBlock(e,1).tile)}destroy(){OS(this.tile)}}function OS(t,e){let n=e?.get(t);if(n!=1){n==null&&t.destroy();for(let r of t.children)OS(r,e)}}function Mce(t){return t.node.nodeType==1&&t.node.firstChild&&(t.offset==0||t.node.childNodes[t.offset-1].contentEditable=="false")&&(t.offset==t.node.childNodes.length||t.node.childNodes[t.offset].contentEditable=="false")}function tz(t,e){let n=t.observer.selectionRange;if(!n.focusNode)return null;let r=DB(n.focusNode,n.focusOffset),i=PB(n.focusNode,n.focusOffset),a=r||i;if(i&&r&&i.node!=r.node){let o=Ht.get(i.node);if(!o||o.isText()&&o.text!=i.node.nodeValue)a=i;else if(t.docView.lastCompositionAfterCursor){let u=Ht.get(r.node);!u||u.isText()&&u.text!=r.node.nodeValue||(a=i)}}if(t.docView.lastCompositionAfterCursor=a!=r,!a)return null;let s=e-a.offset;return{from:s,to:s+a.node.nodeValue.length,node:a.node}}function _ce(t,e,n){let r=tz(t,n);if(!r)return null;let{node:i,from:a,to:s}=r,o=i.nodeValue;if(/[\n\r]/.test(o)||t.state.doc.sliceString(r.from,r.to)!=o)return null;let u=e.invertedDesc;return{range:new Gr(u.mapPos(a),u.mapPos(s),a,s),text:i}}function Dce(t,e){return t.nodeType!=1?0:(e&&t.childNodes[e-1].contentEditable=="false"?1:0)|(e<t.childNodes.length&&t.childNodes[e].contentEditable=="false"?2:0)}let Pce=class{constructor(){this.changes=[]}compareRange(e,n){cc(e,n,this.changes)}comparePoint(e,n){cc(e,n,this.changes)}boundChange(e){cc(e,e,this.changes)}};function Rce(t,e,n){let r=new Pce;return He.compare(t,e,n,r),r.changes}class Lce{constructor(){this.changes=[]}compareRange(e,n){cc(e,n,this.changes)}comparePoint(){}boundChange(e){cc(e,e,this.changes)}}function Bce(t,e,n){let r=new Lce;return He.compare(t,e,n,r),r.changes}function zce(t,e){for(let n=t;n&&n!=e;n=n.assignedSlot||n.parentNode)if(n.nodeType==1&&n.contentEditable=="false")return!0;return!1}function Ice(t,e){let n=!1;return e&&t.iterChangedRanges((r,i)=>{r<e.to&&i>e.from&&(n=!0)}),n}class m1 extends Xi{constructor(e){super(),this.height=e}toDOM(){let e=document.createElement("div");return e.className="cm-gap",this.updateDOM(e),e}eq(e){return e.height==this.height}updateDOM(e){return e.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function Uce(t,e,n=1){let r=t.charCategorizer(e),i=t.doc.lineAt(e),a=e-i.from;if(i.length==0)return he.cursor(e);a==0?n=1:a==i.length&&(n=-1);let s=a,o=a;n<0?s=sn(i.text,a,!1):o=sn(i.text,a);let u=r(i.text.slice(s,o));for(;s>0;){let f=sn(i.text,s,!1);if(r(i.text.slice(f,s))!=u)break;s=f}for(;o<i.length;){let f=sn(i.text,o);if(r(i.text.slice(o,f))!=u)break;o=f}return he.range(s+i.from,o+i.from)}function $ce(t,e,n,r,i){let a=Math.round((r-e.left)*t.defaultCharacterWidth);if(t.lineWrapping&&n.height>t.defaultLineHeight*1.5){let o=t.viewState.heightOracle.textHeight,u=Math.floor((i-n.top-(t.defaultLineHeight-o)*.5)/o);a+=u*t.viewState.heightOracle.lineLength}let s=t.state.sliceDoc(n.from,n.to);return n.from+pS(s,a,t.state.tabSize)}function AS(t,e,n){let r=t.lineBlockAt(e);if(Array.isArray(r.type)){let i;for(let a of r.type){if(a.from>e)break;if(!(a.to<e)){if(a.from<e&&a.to>e)return a;(!i||a.type==Nn.Text&&(i.type!=a.type||(n<0?a.from<e:a.to>e)))&&(i=a)}}return i||r}return r}function qce(t,e,n,r){let i=AS(t,e.head,e.assoc||-1),a=!r||i.type!=Nn.Text||!(t.lineWrapping||i.widgetLineBreaks)?null:t.coordsAtPos(e.assoc<0&&e.head>i.from?e.head-1:e.head);if(a){let s=t.dom.getBoundingClientRect(),o=t.textDirectionAt(i.from),u=t.posAtCoords({x:n==(o==dt.LTR)?s.right-1:s.left+1,y:(a.top+a.bottom)/2});if(u!=null)return he.cursor(u,n?-1:1)}return he.cursor(n?i.to:i.from,n?-1:1)}function TD(t,e,n,r){let i=t.state.doc.lineAt(e.head),a=t.bidiSpans(i),s=t.textDirectionAt(i.from);for(let o=e,u=null;;){let f=gce(i,a,s,o,n),h=IB;if(!f){if(i.number==(n?t.state.doc.lines:1))return o;h=`
`,i=t.state.doc.line(i.number+(n?1:-1)),a=t.bidiSpans(i),f=t.visualLineSide(i,!n)}if(u){if(!u(h))return o}else{if(!r)return f;u=r(h)}o=f}}function Hce(t,e,n){let r=t.state.charCategorizer(e),i=r(n);return a=>{let s=r(a);return i==wt.Space&&(i=s),i==s}}function Vce(t,e,n,r){let i=e.head,a=n?1:-1;if(i==(n?t.state.doc.length:0))return he.cursor(i,e.assoc);let s=e.goalColumn,o,u=t.contentDOM.getBoundingClientRect(),f=t.coordsAtPos(i,(e.empty?e.assoc:0)||(n?1:-1)),h=t.documentTop;if(f)s==null&&(s=f.left-u.left),o=a<0?f.top:f.bottom;else{let b=t.viewState.lineBlockAt(i);s==null&&(s=Math.min(u.right-u.left,t.defaultCharacterWidth*(i-b.from))),o=(a<0?b.top:b.bottom)+h}let p=u.left+s,y=r??t.viewState.heightOracle.textHeight>>1,x=ES(t,{x:p,y:o+y*a},!1,a);return he.cursor(x.pos,x.assoc,void 0,s)}function kf(t,e,n){for(;;){let r=0;for(let i of t)i.between(e-1,e+1,(a,s,o)=>{if(e>a&&e<s){let u=r||n||(e-a<s-e?-1:1);e=u<0?a:s,r=u}});if(!r)return e}}function nz(t,e){let n=null;for(let r=0;r<e.ranges.length;r++){let i=e.ranges[r],a=null;if(i.empty){let s=kf(t,i.from,0);s!=i.from&&(a=he.cursor(s,-1))}else{let s=kf(t,i.from,-1),o=kf(t,i.to,1);(s!=i.from||o!=i.to)&&(a=he.range(i.from==i.anchor?s:o,i.from==i.head?s:o))}a&&(n||(n=e.ranges.slice()),n[r]=a)}return n?he.create(n,e.mainIndex):e}function p1(t,e,n){let r=kf(t.state.facet(Rd).map(i=>i(t)),n.from,e.head>n.from?-1:1);return r==n.from?n:he.cursor(r,r<n.from?1:-1)}class Pi{constructor(e,n){this.pos=e,this.assoc=n}}function ES(t,e,n,r){let i=t.contentDOM.getBoundingClientRect(),a=i.top+t.viewState.paddingTop,{x:s,y:o}=e,u=o-a,f;for(;;){if(u<0)return new Pi(0,1);if(u>t.viewState.docHeight)return new Pi(t.state.doc.length,-1);if(f=t.elementAtHeight(u),r==null)break;if(f.type==Nn.Text){if(r<0?f.to<t.viewport.from:f.from>t.viewport.to)break;let y=t.docView.coordsAt(r<0?f.from:f.to,r>0?-1:1);if(y&&(r<0?y.top<=u+a:y.bottom>=u+a))break}let p=t.viewState.heightOracle.textHeight/2;u=r>0?f.bottom+p:f.top-p}if(t.viewport.from>=f.to||t.viewport.to<=f.from){if(n)return null;if(f.type==Nn.Text){let p=$ce(t,i,f,s,o);return new Pi(p,p==f.from?1:-1)}}if(f.type!=Nn.Text)return u<(f.top+f.bottom)/2?new Pi(f.from,1):new Pi(f.to,-1);let h=t.docView.lineAt(f.from,2);return(!h||h.length!=f.length)&&(h=t.docView.lineAt(f.from,-2)),new Fce(t,s,o,t.textDirectionAt(f.from)).scanTile(h,f.from)}class Fce{constructor(e,n,r,i){this.view=e,this.x=n,this.y=r,this.baseDir=i,this.line=null,this.spans=null}bidiSpansAt(e){return(!this.line||this.line.from>e||this.line.to<e)&&(this.line=this.view.state.doc.lineAt(e),this.spans=this.view.bidiSpans(this.line)),this}baseDirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Bi.find(i,e-r.from,-1,n)].level==this.baseDir}dirAt(e,n){let{line:r,spans:i}=this.bidiSpansAt(e);return i[Bi.find(i,e-r.from,-1,n)].dir}bidiIn(e,n){let{spans:r,line:i}=this.bidiSpansAt(e);return r.length>1||r.length&&(r[0].level!=this.baseDir||r[0].to+i.from<n)}scan(e,n){let r=0,i=e.length-1,a=new Set,s=this.bidiIn(e[0],e[i]),o,u,f=-1,h=1e9,p;e:for(;r<i;){let x=i-r,b=r+i>>1;t:if(a.has(b)){let S=r+Math.floor(Math.random()*x);for(let N=0;N<x;N++){if(!a.has(S)){b=S;break t}S++,S==i&&(S=r)}break e}a.add(b);let j=n(b);if(j)for(let S=0;S<j.length;S++){let N=j[S],O=0;if(N.bottom<this.y)(!o||o.bottom<N.bottom)&&(o=N),O=1;else if(N.top>this.y)(!u||u.top>N.top)&&(u=N),O=-1;else{let C=N.left>this.x?this.x-N.left:N.right<this.x?this.x-N.right:0,_=Math.abs(C);_<h&&(f=b,h=_,p=N),C&&(O=C<0==(this.baseDir==dt.LTR)?-1:1)}O==-1&&(!s||this.baseDirAt(e[b],1))?i=b:O==1&&(!s||this.baseDirAt(e[b+1],-1))&&(r=b+1)}}if(!p){let x=o&&(!u||this.y-o.bottom<u.top-this.y)?o:u;return this.y=(x.top+x.bottom)/2,this.scan(e,n)}let y=(s?this.dirAt(e[f],1):this.baseDir)==dt.LTR;return{i:f,after:this.x>(p.left+p.right)/2==y}}scanText(e,n){let r=[];for(let a=0;a<e.length;a=sn(e.text,a))r.push(n+a);r.push(n+e.length);let i=this.scan(r,a=>{let s=r[a]-n,o=r[a+1]-n;return nd(e.dom,s,o).getClientRects()});return i.after?new Pi(r[i.i+1],-1):new Pi(r[i.i],1)}scanTile(e,n){if(!e.length)return new Pi(n,1);if(e.children.length==1){let o=e.children[0];if(o.isText())return this.scanText(o,n);if(o.isComposite())return this.scanTile(o,n)}let r=[n];for(let o=0,u=n;o<e.children.length;o++)r.push(u+=e.children[o].length);let i=this.scan(r,o=>{let u=e.children[o];return u.flags&48?null:(u.dom.nodeType==1?u.dom:nd(u.dom,0,u.length)).getClientRects()}),a=e.children[i.i],s=r[i.i];return a.isText()?this.scanText(a,s):a.isComposite()?this.scanTile(a,s):i.after?new Pi(r[i.i+1],-1):new Pi(s,1)}}const yf="";class Wce{constructor(e,n){this.points=e,this.view=n,this.text="",this.lineSeparator=n.state.facet(Ge.lineSeparator)}append(e){this.text+=e}lineBreak(){this.text+=yf}readRange(e,n){if(!e)return this;let r=e.parentNode;for(let i=e;;){this.findPointBefore(r,i);let a=this.text.length;this.readNode(i);let s=Ht.get(i),o=i.nextSibling;if(o==n){s?.breakAfter&&!o&&r!=this.view.contentDOM&&this.lineBreak();break}let u=Ht.get(o);(s&&u?s.breakAfter:(s?s.breakAfter:hg(i))||hg(o)&&(i.nodeName!="BR"||s?.isWidget())&&this.text.length>a)&&!Kce(o,n)&&this.lineBreak(),i=o}return this.findPointBefore(r,n),this}readTextNode(e){let n=e.nodeValue;for(let r of this.points)r.node==e&&(r.pos=this.text.length+Math.min(r.offset,n.length));for(let r=0,i=this.lineSeparator?null:/\r\n?|\n/g;;){let a=-1,s=1,o;if(this.lineSeparator?(a=n.indexOf(this.lineSeparator,r),s=this.lineSeparator.length):(o=i.exec(n))&&(a=o.index,s=o[0].length),this.append(n.slice(r,a<0?n.length:a)),a<0)break;if(this.lineBreak(),s>1)for(let u of this.points)u.node==e&&u.pos>this.text.length&&(u.pos-=s-1);r=a+s}}readNode(e){let n=Ht.get(e),r=n&&n.overrideDOMText;if(r!=null){this.findPointInside(e,r.length);for(let i=r.iter();!i.next().done;)i.lineBreak?this.lineBreak():this.append(i.value)}else e.nodeType==3?this.readTextNode(e):e.nodeName=="BR"?e.nextSibling&&this.lineBreak():e.nodeType==1&&this.readRange(e.firstChild,null)}findPointBefore(e,n){for(let r of this.points)r.node==e&&e.childNodes[r.offset]==n&&(r.pos=this.text.length)}findPointInside(e,n){for(let r of this.points)(e.nodeType==3?r.node==e:e.contains(r.node))&&(r.pos=this.text.length+(Gce(e,r.node,r.offset)?n:0))}}function Gce(t,e,n){for(;;){if(!e||n<Ra(e))return!1;if(e==t)return!0;n=Us(e)+1,e=e.parentNode}}function Kce(t,e){let n;for(;!(t==e||!t);t=t.nextSibling){let r=Ht.get(t);if(!r?.isWidget())return!1;r&&(n||(n=[])).push(r)}if(n)for(let r of n){let i=r.overrideDOMText;if(i?.length)return!1}return!0}class MD{constructor(e,n){this.node=e,this.offset=n,this.pos=-1}}class Yce{constructor(e,n,r,i){this.typeOver=i,this.bounds=null,this.text="",this.domChanged=n>-1;let{impreciseHead:a,impreciseAnchor:s}=e.docView;if(e.state.readOnly&&n>-1)this.newSel=null;else if(n>-1&&(this.bounds=rz(e.docView.tile,n,r,0))){let o=a||s?[]:Xce(e),u=new Wce(o,e);u.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=u.text,this.newSel=Zce(o,this.bounds.from)}else{let o=e.observer.selectionRange,u=a&&a.node==o.focusNode&&a.offset==o.focusOffset||!SS(e.contentDOM,o.focusNode)?e.state.selection.main.head:e.docView.posFromDOM(o.focusNode,o.focusOffset),f=s&&s.node==o.anchorNode&&s.offset==o.anchorOffset||!SS(e.contentDOM,o.anchorNode)?e.state.selection.main.anchor:e.docView.posFromDOM(o.anchorNode,o.anchorOffset),h=e.viewport;if((ve.ios||ve.chrome)&&e.state.selection.main.empty&&u!=f&&(h.from>0||h.to<e.state.doc.length)){let p=Math.min(u,f),y=Math.max(u,f),x=h.from-p,b=h.to-y;(x==0||x==1||p==0)&&(b==0||b==-1||y==e.state.doc.length)&&(u=0,f=e.state.doc.length)}e.inputState.composing>-1&&e.state.selection.ranges.length>1?this.newSel=e.state.selection.replaceRange(he.range(f,u)):this.newSel=he.single(f,u)}}}function rz(t,e,n,r){if(t.isComposite()){let i=-1,a=-1,s=-1,o=-1;for(let u=0,f=r,h=r;u<t.children.length;u++){let p=t.children[u],y=f+p.length;if(f<e&&y>n)return rz(p,e,n,f);if(y>=e&&i==-1&&(i=u,a=f),f>n&&p.dom.parentNode==t.dom){s=u,o=h;break}h=y,f=y+p.breakAfter}return{from:a,to:o<0?r+t.length:o,startDOM:(i?t.children[i-1].dom.nextSibling:null)||t.dom.firstChild,endDOM:s<t.children.length&&s>=0?t.children[s].dom:null}}else return t.isText()?{from:r,to:r+t.length,startDOM:t.dom,endDOM:t.dom.nextSibling}:null}function iz(t,e){let n,{newSel:r}=e,i=t.state.selection.main,a=t.inputState.lastKeyTime>Date.now()-100?t.inputState.lastKeyCode:-1;if(e.bounds){let{from:s,to:o}=e.bounds,u=i.from,f=null;(a===8||ve.android&&e.text.length<o-s)&&(u=i.to,f="end");let h=az(t.state.doc.sliceString(s,o,yf),e.text,u-s,f);h&&(ve.chrome&&a==13&&h.toB==h.from+2&&e.text.slice(h.from,h.toB)==yf+yf&&h.toB--,n={from:s+h.from,to:s+h.toA,insert:Xe.of(e.text.slice(h.from,h.toB).split(yf))})}else r&&(!t.hasFocus&&t.state.facet(ba)||yg(r,i))&&(r=null);if(!n&&!r)return!1;if(!n&&e.typeOver&&!i.empty&&r&&r.main.empty?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,i.to)}:(ve.mac||ve.android)&&n&&n.from==n.to&&n.from==i.head-1&&/^\. ?$/.test(n.insert.toString())&&t.contentDOM.getAttribute("autocorrect")=="off"?(r&&n.insert.length==2&&(r=he.single(r.main.anchor-1,r.main.head-1)),n={from:n.from,to:n.to,insert:Xe.of([n.insert.toString().replace("."," ")])}):n&&n.from>=i.from&&n.to<=i.to&&(n.from!=i.from||n.to!=i.to)&&i.to-i.from-(n.to-n.from)<=4?n={from:i.from,to:i.to,insert:t.state.doc.slice(i.from,n.from).append(n.insert).append(t.state.doc.slice(n.to,i.to))}:t.state.doc.lineAt(i.from).to<i.to&&t.docView.lineHasWidget(i.to)&&t.inputState.insertingTextAt>Date.now()-50?n={from:i.from,to:i.to,insert:t.state.toText(t.inputState.insertingText)}:ve.chrome&&n&&n.from==n.to&&n.from==i.head&&n.insert.toString()==`
 `&&t.lineWrapping&&(r&&(r=he.single(r.main.anchor-1,r.main.head-1)),n={from:i.from,to:i.to,insert:Xe.of([" "])}),n)return cN(t,n,r,a);if(r&&!yg(r,i)){let s=!1,o="select";return t.inputState.lastSelectionTime>Date.now()-50&&(t.inputState.lastSelectionOrigin=="select"&&(s=!0),o=t.inputState.lastSelectionOrigin,o=="select.pointer"&&(r=nz(t.state.facet(Rd).map(u=>u(t)),r))),t.dispatch({selection:r,scrollIntoView:s,userEvent:o}),!0}else return!1}function cN(t,e,n,r=-1){if(ve.ios&&t.inputState.flushIOSKey(e))return!0;let i=t.state.selection.main;if(ve.android&&(e.to==i.to&&(e.from==i.from||e.from==i.from-1&&t.state.sliceDoc(e.from,i.from)==" ")&&e.insert.length==1&&e.insert.lines==2&&uc(t.contentDOM,"Enter",13)||(e.from==i.from-1&&e.to==i.to&&e.insert.length==0||r==8&&e.insert.length<e.to-e.from&&e.to>i.head)&&uc(t.contentDOM,"Backspace",8)||e.from==i.from&&e.to==i.to+1&&e.insert.length==0&&uc(t.contentDOM,"Delete",46)))return!0;let a=e.insert.toString();t.inputState.composing>=0&&t.inputState.composing++;let s,o=()=>s||(s=Qce(t,e,n));return t.state.facet(VB).some(u=>u(t,e.from,e.to,a,o))||t.dispatch(o()),!0}function Qce(t,e,n){let r,i=t.state,a=i.selection.main,s=-1;if(e.from==e.to&&e.from<a.from||e.from>a.to){let u=e.from<a.from?-1:1,f=u<0?a.from:a.to,h=kf(i.facet(Rd).map(p=>p(t)),f,u);e.from==h&&(s=h)}if(s>-1)r={changes:e,selection:he.cursor(e.from+e.insert.length,-1)};else if(e.from>=a.from&&e.to<=a.to&&e.to-e.from>=(a.to-a.from)/3&&(!n||n.main.empty&&n.main.from==e.from+e.insert.length)&&t.inputState.composing<0){let u=a.from<e.from?i.sliceDoc(a.from,e.from):"",f=a.to>e.to?i.sliceDoc(e.to,a.to):"";r=i.replaceSelection(t.state.toText(u+e.insert.sliceString(0,void 0,t.state.lineBreak)+f))}else{let u=i.changes(e),f=n&&n.main.to<=u.newLength?n.main:void 0;if(i.selection.ranges.length>1&&(t.inputState.composing>=0||t.inputState.compositionPendingChange)&&e.to<=a.to+10&&e.to>=a.to-10){let h=t.state.sliceDoc(e.from,e.to),p,y=n&&tz(t,n.main.head);if(y){let b=e.insert.length-(e.to-e.from);p={from:y.from,to:y.to-b}}else p=t.state.doc.lineAt(a.head);let x=a.to-e.to;r=i.changeByRange(b=>{if(b.from==a.from&&b.to==a.to)return{changes:u,range:f||b.map(u)};let j=b.to-x,S=j-h.length;if(t.state.sliceDoc(S,j)!=h||j>=p.from&&S<=p.to)return{range:b};let N=i.changes({from:S,to:j,insert:e.insert}),O=b.to-a.to;return{changes:N,range:f?he.range(Math.max(0,f.anchor+O),Math.max(0,f.head+O)):b.map(N)}})}else r={changes:u,selection:f&&i.selection.replaceRange(f)}}let o="input.type";return(t.composing||t.inputState.compositionPendingChange&&t.inputState.compositionEndedAt>Date.now()-50)&&(t.inputState.compositionPendingChange=!1,o+=".compose",t.inputState.compositionFirstChange&&(o+=".start",t.inputState.compositionFirstChange=!1)),i.update(r,{userEvent:o,scrollIntoView:!0})}function az(t,e,n,r){let i=Math.min(t.length,e.length),a=0;for(;a<i&&t.charCodeAt(a)==e.charCodeAt(a);)a++;if(a==i&&t.length==e.length)return null;let s=t.length,o=e.length;for(;s>0&&o>0&&t.charCodeAt(s-1)==e.charCodeAt(o-1);)s--,o--;if(r=="end"){let u=Math.max(0,a-Math.min(s,o));n-=s+u-a}if(s<a&&t.length<e.length){let u=n<=a&&n>=s?a-n:0;a-=u,o=a+(o-s),s=a}else if(o<a){let u=n<=a&&n>=o?a-n:0;a-=u,s=a+(s-o),o=a}return{from:a,toA:s,toB:o}}function Xce(t){let e=[];if(t.root.activeElement!=t.contentDOM)return e;let{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}=t.observer.selectionRange;return n&&(e.push(new MD(n,r)),(i!=n||a!=r)&&e.push(new MD(i,a))),e}function Zce(t,e){if(t.length==0)return null;let n=t[0].pos,r=t.length==2?t[1].pos:n;return n>-1&&r>-1?he.single(n+e,r+e):null}function yg(t,e){return e.head==t.main.head&&e.anchor==t.main.anchor}class Jce{setSelectionOrigin(e){this.lastSelectionOrigin=e,this.lastSelectionTime=Date.now()}constructor(e){this.view=e,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=e.hasFocus,ve.safari&&e.contentDOM.addEventListener("input",()=>null),ve.gecko&&mue(e.contentDOM.ownerDocument)}handleEvent(e){!lue(this.view,e)||this.ignoreDuringComposition(e)||e.type=="keydown"&&this.keydown(e)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(e.type,e)):this.runHandlers(e.type,e))}runHandlers(e,n){let r=this.handlers[e];if(r){for(let i of r.observers)i(this.view,n);for(let i of r.handlers){if(n.defaultPrevented)break;if(i(this.view,n)){n.preventDefault();break}}}}ensureHandlers(e){let n=eue(e),r=this.handlers,i=this.view.contentDOM;for(let a in n)if(a!="scroll"){let s=!n[a].handlers.length,o=r[a];o&&s!=!o.handlers.length&&(i.removeEventListener(a,this.handleEvent),o=null),o||i.addEventListener(a,this.handleEvent,{passive:s})}for(let a in r)a!="scroll"&&!n[a]&&i.removeEventListener(a,this.handleEvent);this.handlers=n}keydown(e){if(this.lastKeyCode=e.keyCode,this.lastKeyTime=Date.now(),e.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&e.keyCode!=27&&lz.indexOf(e.keyCode)<0&&(this.tabFocusMode=-1),ve.android&&ve.chrome&&!e.synthetic&&(e.keyCode==13||e.keyCode==8))return this.view.observer.delayAndroidKey(e.key,e.keyCode),!0;let n;return ve.ios&&!e.synthetic&&!e.altKey&&!e.metaKey&&((n=sz.find(r=>r.keyCode==e.keyCode))&&!e.ctrlKey||tue.indexOf(e.key)>-1&&e.ctrlKey&&!e.shiftKey)?(this.pendingIOSKey=n||e,setTimeout(()=>this.flushIOSKey(),250),!0):(e.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(e){let n=this.pendingIOSKey;return!n||n.key=="Enter"&&e&&e.from<e.to&&/^\S+$/.test(e.insert.toString())?!1:(this.pendingIOSKey=void 0,uc(this.view.contentDOM,n.key,n.keyCode,n instanceof KeyboardEvent?n:void 0))}ignoreDuringComposition(e){return!/^key/.test(e.type)||e.synthetic?!1:this.composing>0?!0:ve.safari&&!ve.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(e){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=e}update(e){this.view.observer.update(e),this.mouseSelection&&this.mouseSelection.update(e),this.draggedContent&&e.docChanged&&(this.draggedContent=this.draggedContent.map(e.changes)),e.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function _D(t,e){return(n,r)=>{try{return e.call(t,r,n)}catch(i){nr(n.state,i)}}}function eue(t){let e=Object.create(null);function n(r){return e[r]||(e[r]={observers:[],handlers:[]})}for(let r of t){let i=r.spec,a=i&&i.plugin.domEventHandlers,s=i&&i.plugin.domEventObservers;if(a)for(let o in a){let u=a[o];u&&n(o).handlers.push(_D(r.value,u))}if(s)for(let o in s){let u=s[o];u&&n(o).observers.push(_D(r.value,u))}}for(let r in pi)n(r).handlers.push(pi[r]);for(let r in Jr)n(r).observers.push(Jr[r]);return e}const sz=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],tue="dthko",lz=[16,17,18,20,91,92,224,225],Cm=6;function km(t){return Math.max(0,t)*.7+8}function nue(t,e){return Math.max(Math.abs(t.clientX-e.clientX),Math.abs(t.clientY-e.clientY))}class rue{constructor(e,n,r,i){this.view=e,this.startEvent=n,this.style=r,this.mustSelect=i,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=n,this.scrollParents=ace(e.contentDOM),this.atoms=e.state.facet(Rd).map(s=>s(e));let a=e.contentDOM.ownerDocument;a.addEventListener("mousemove",this.move=this.move.bind(this)),a.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=n.shiftKey,this.multiple=e.state.facet(Ge.allowMultipleSelections)&&iue(e,n),this.dragging=sue(e,n)&&uz(n)==1?null:!1}start(e){this.dragging===!1&&this.select(e)}move(e){if(e.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&nue(this.startEvent,e)<10)return;this.select(this.lastEvent=e);let n=0,r=0,i=0,a=0,s=this.view.win.innerWidth,o=this.view.win.innerHeight;this.scrollParents.x&&({left:i,right:s}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:a,bottom:o}=this.scrollParents.y.getBoundingClientRect());let u=oN(this.view);e.clientX-u.left<=i+Cm?n=-km(i-e.clientX):e.clientX+u.right>=s-Cm&&(n=km(e.clientX-s)),e.clientY-u.top<=a+Cm?r=-km(a-e.clientY):e.clientY+u.bottom>=o-Cm&&(r=km(e.clientY-o)),this.setScrollSpeed(n,r)}up(e){this.dragging==null&&this.select(this.lastEvent),this.dragging||e.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let e=this.view.contentDOM.ownerDocument;e.removeEventListener("mousemove",this.move),e.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(e,n){this.scrollSpeed={x:e,y:n},e||n?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:e,y:n}=this.scrollSpeed;e&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=e,e=0),n&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=n,n=0),(e||n)&&this.view.win.scrollBy(e,n),this.dragging===!1&&this.select(this.lastEvent)}select(e){let{view:n}=this,r=nz(this.atoms,this.style.get(e,this.extend,this.multiple));(this.mustSelect||!r.eq(n.state.selection,this.dragging===!1))&&this.view.dispatch({selection:r,userEvent:"select.pointer"}),this.mustSelect=!1}update(e){e.transactions.some(n=>n.isUserEvent("input.type"))?this.destroy():this.style.update(e)&&setTimeout(()=>this.select(this.lastEvent),20)}}function iue(t,e){let n=t.state.facet(UB);return n.length?n[0](e):ve.mac?e.metaKey:e.ctrlKey}function aue(t,e){let n=t.state.facet($B);return n.length?n[0](e):ve.mac?!e.altKey:!e.ctrlKey}function sue(t,e){let{main:n}=t.state.selection;if(n.empty)return!1;let r=ed(t.root);if(!r||r.rangeCount==0)return!0;let i=r.getRangeAt(0).getClientRects();for(let a=0;a<i.length;a++){let s=i[a];if(s.left<=e.clientX&&s.right>=e.clientX&&s.top<=e.clientY&&s.bottom>=e.clientY)return!0}return!1}function lue(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target,r;n!=t.contentDOM;n=n.parentNode)if(!n||n.nodeType==11||(r=Ht.get(n))&&r.isWidget()&&!r.isHidden&&r.widget.ignoreEvent(e))return!1;return!0}const pi=Object.create(null),Jr=Object.create(null),oz=ve.ie&&ve.ie_version<15||ve.ios&&ve.webkit_version<604;function oue(t){let e=t.dom.parentNode;if(!e)return;let n=e.appendChild(document.createElement("textarea"));n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus(),setTimeout(()=>{t.focus(),n.remove(),cz(t,n.value)},50)}function V0(t,e,n){for(let r of t.facet(e))n=r(n,t);return n}function cz(t,e){e=V0(t.state,iN,e);let{state:n}=t,r,i=1,a=n.toText(e),s=a.lines==n.selection.ranges.length;if(TS!=null&&n.selection.ranges.every(u=>u.empty)&&TS==a.toString()){let u=-1;r=n.changeByRange(f=>{let h=n.doc.lineAt(f.from);if(h.from==u)return{range:f};u=h.from;let p=n.toText((s?a.line(i++).text:e)+n.lineBreak);return{changes:{from:h.from,insert:p},range:he.cursor(f.from+p.length)}})}else s?r=n.changeByRange(u=>{let f=a.line(i++);return{changes:{from:u.from,to:u.to,insert:f.text},range:he.cursor(u.from+f.length)}}):r=n.replaceSelection(a);t.dispatch(r,{userEvent:"input.paste",scrollIntoView:!0})}Jr.scroll=t=>{t.inputState.lastScrollTop=t.scrollDOM.scrollTop,t.inputState.lastScrollLeft=t.scrollDOM.scrollLeft};pi.keydown=(t,e)=>(t.inputState.setSelectionOrigin("select"),e.keyCode==27&&t.inputState.tabFocusMode!=0&&(t.inputState.tabFocusMode=Date.now()+2e3),!1);Jr.touchstart=(t,e)=>{t.inputState.lastTouchTime=Date.now(),t.inputState.setSelectionOrigin("select.pointer")};Jr.touchmove=t=>{t.inputState.setSelectionOrigin("select.pointer")};pi.mousedown=(t,e)=>{if(t.observer.flush(),t.inputState.lastTouchTime>Date.now()-2e3)return!1;let n=null;for(let r of t.state.facet(qB))if(n=r(t,e),n)break;if(!n&&e.button==0&&(n=uue(t,e)),n){let r=!t.hasFocus;t.inputState.startMouseSelection(new rue(t,e,n,r)),r&&t.observer.ignore(()=>{MB(t.contentDOM);let a=t.root.activeElement;a&&!a.contains(t.contentDOM)&&a.blur()});let i=t.inputState.mouseSelection;if(i)return i.start(e),i.dragging===!1}else t.inputState.setSelectionOrigin("select.pointer");return!1};function DD(t,e,n,r){if(r==1)return he.cursor(e,n);if(r==2)return Uce(t.state,e,n);{let i=t.docView.lineAt(e,n),a=t.state.doc.lineAt(i?i.posAtEnd:e),s=i?i.posAtStart:a.from,o=i?i.posAtEnd:a.to;return o<t.state.doc.length&&o==a.to&&o++,he.range(s,o)}}const cue=ve.ie&&ve.ie_version<=11;let PD=null,RD=0,LD=0;function uz(t){if(!cue)return t.detail;let e=PD,n=LD;return PD=t,LD=Date.now(),RD=!e||n>Date.now()-400&&Math.abs(e.clientX-t.clientX)<2&&Math.abs(e.clientY-t.clientY)<2?(RD+1)%3:1}function uue(t,e){let n=t.posAndSideAtCoords({x:e.clientX,y:e.clientY},!1),r=uz(e),i=t.state.selection;return{update(a){a.docChanged&&(n.pos=a.changes.mapPos(n.pos),i=i.map(a.changes))},get(a,s,o){let u=t.posAndSideAtCoords({x:a.clientX,y:a.clientY},!1),f,h=DD(t,u.pos,u.assoc,r);if(n.pos!=u.pos&&!s){let p=DD(t,n.pos,n.assoc,r),y=Math.min(p.from,h.from),x=Math.max(p.to,h.to);h=y<h.from?he.range(y,x):he.range(x,y)}return s?i.replaceRange(i.main.extend(h.from,h.to)):o&&r==1&&i.ranges.length>1&&(f=fue(i,u.pos))?f:o?i.addRange(h):he.create([h])}}}function fue(t,e){for(let n=0;n<t.ranges.length;n++){let{from:r,to:i}=t.ranges[n];if(r<=e&&i>=e)return he.create(t.ranges.slice(0,n).concat(t.ranges.slice(n+1)),t.mainIndex==n?0:t.mainIndex-(t.mainIndex>n?1:0))}return null}pi.dragstart=(t,e)=>{let{selection:{main:n}}=t.state;if(e.target.draggable){let i=t.docView.tile.nearest(e.target);if(i&&i.isWidget()){let a=i.posAtStart,s=a+i.length;(a>=n.to||s<=n.from)&&(n=he.range(a,s))}}let{inputState:r}=t;return r.mouseSelection&&(r.mouseSelection.dragging=!0),r.draggedContent=n,e.dataTransfer&&(e.dataTransfer.setData("Text",V0(t.state,aN,t.state.sliceDoc(n.from,n.to))),e.dataTransfer.effectAllowed="copyMove"),!1};pi.dragend=t=>(t.inputState.draggedContent=null,!1);function BD(t,e,n,r){if(n=V0(t.state,iN,n),!n)return;let i=t.posAtCoords({x:e.clientX,y:e.clientY},!1),{draggedContent:a}=t.inputState,s=r&&a&&aue(t,e)?{from:a.from,to:a.to}:null,o={from:i,insert:n},u=t.state.changes(s?[s,o]:o);t.focus(),t.dispatch({changes:u,selection:{anchor:u.mapPos(i,-1),head:u.mapPos(i,1)},userEvent:s?"move.drop":"input.drop"}),t.inputState.draggedContent=null}pi.drop=(t,e)=>{if(!e.dataTransfer)return!1;if(t.state.readOnly)return!0;let n=e.dataTransfer.files;if(n&&n.length){let r=Array(n.length),i=0,a=()=>{++i==n.length&&BD(t,e,r.filter(s=>s!=null).join(t.state.lineBreak),!1)};for(let s=0;s<n.length;s++){let o=new FileReader;o.onerror=a,o.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(o.result)||(r[s]=o.result),a()},o.readAsText(n[s])}return!0}else{let r=e.dataTransfer.getData("Text");if(r)return BD(t,e,r,!0),!0}return!1};pi.paste=(t,e)=>{if(t.state.readOnly)return!0;t.observer.flush();let n=oz?null:e.clipboardData;return n?(cz(t,n.getData("text/plain")||n.getData("text/uri-list")),!0):(oue(t),!1)};function due(t,e){let n=t.dom.parentNode;if(!n)return;let r=n.appendChild(document.createElement("textarea"));r.style.cssText="position: fixed; left: -10000px; top: 10px",r.value=e,r.focus(),r.selectionEnd=e.length,r.selectionStart=0,setTimeout(()=>{r.remove(),t.focus()},50)}function hue(t){let e=[],n=[],r=!1;for(let i of t.selection.ranges)i.empty||(e.push(t.sliceDoc(i.from,i.to)),n.push(i));if(!e.length){let i=-1;for(let{from:a}of t.selection.ranges){let s=t.doc.lineAt(a);s.number>i&&(e.push(s.text),n.push({from:s.from,to:Math.min(t.doc.length,s.to+1)})),i=s.number}r=!0}return{text:V0(t,aN,e.join(t.lineBreak)),ranges:n,linewise:r}}let TS=null;pi.copy=pi.cut=(t,e)=>{if(!jf(t.contentDOM,t.observer.selectionRange))return!1;let{text:n,ranges:r,linewise:i}=hue(t.state);if(!n&&!i)return!1;TS=i?n:null,e.type=="cut"&&!t.state.readOnly&&t.dispatch({changes:r,scrollIntoView:!0,userEvent:"delete.cut"});let a=oz?null:e.clipboardData;return a?(a.clearData(),a.setData("text/plain",n),!0):(due(t,n),!1)};const fz=Yi.define();function dz(t,e){let n=[];for(let r of t.facet(FB)){let i=r(t,e);i&&n.push(i)}return n.length?t.update({effects:n,annotations:fz.of(!0)}):null}function hz(t){setTimeout(()=>{let e=t.hasFocus;if(e!=t.inputState.notifiedFocused){let n=dz(t.state,e);n?t.dispatch(n):t.update([])}},10)}Jr.focus=t=>{t.inputState.lastFocusTime=Date.now(),!t.scrollDOM.scrollTop&&(t.inputState.lastScrollTop||t.inputState.lastScrollLeft)&&(t.scrollDOM.scrollTop=t.inputState.lastScrollTop,t.scrollDOM.scrollLeft=t.inputState.lastScrollLeft),hz(t)};Jr.blur=t=>{t.observer.clearSelectionRange(),hz(t)};Jr.compositionstart=Jr.compositionupdate=t=>{t.observer.editContext||(t.inputState.compositionFirstChange==null&&(t.inputState.compositionFirstChange=!0),t.inputState.composing<0&&(t.inputState.composing=0))};Jr.compositionend=t=>{t.observer.editContext||(t.inputState.composing=-1,t.inputState.compositionEndedAt=Date.now(),t.inputState.compositionPendingKey=!0,t.inputState.compositionPendingChange=t.observer.pendingRecords().length>0,t.inputState.compositionFirstChange=null,ve.chrome&&ve.android?t.observer.flushSoon():t.inputState.compositionPendingChange?Promise.resolve().then(()=>t.observer.flush()):setTimeout(()=>{t.inputState.composing<0&&t.docView.hasComposition&&t.update([])},50))};Jr.contextmenu=t=>{t.inputState.lastContextMenu=Date.now()};pi.beforeinput=(t,e)=>{var n,r;if((e.inputType=="insertText"||e.inputType=="insertCompositionText")&&(t.inputState.insertingText=e.data,t.inputState.insertingTextAt=Date.now()),e.inputType=="insertReplacementText"&&t.observer.editContext){let a=(n=e.dataTransfer)===null||n===void 0?void 0:n.getData("text/plain"),s=e.getTargetRanges();if(a&&s.length){let o=s[0],u=t.posAtDOM(o.startContainer,o.startOffset),f=t.posAtDOM(o.endContainer,o.endOffset);return cN(t,{from:u,to:f,insert:t.state.toText(a)},null),!0}}let i;if(ve.chrome&&ve.android&&(i=sz.find(a=>a.inputType==e.inputType))&&(t.observer.delayAndroidKey(i.key,i.keyCode),i.key=="Backspace"||i.key=="Delete")){let a=((r=window.visualViewport)===null||r===void 0?void 0:r.height)||0;setTimeout(()=>{var s;(((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0)>a+10&&t.hasFocus&&(t.contentDOM.blur(),t.focus())},100)}return ve.ios&&e.inputType=="deleteContentForward"&&t.observer.flushSoon(),ve.safari&&e.inputType=="insertText"&&t.inputState.composing>=0&&setTimeout(()=>Jr.compositionend(t,e),20),!1};const zD=new Set;function mue(t){zD.has(t)||(zD.add(t),t.addEventListener("copy",()=>{}),t.addEventListener("cut",()=>{}))}const ID=["pre-wrap","normal","pre-line","break-spaces"];let Ec=!1;function UD(){Ec=!1}class pue{constructor(e){this.lineWrapping=e,this.doc=Xe.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(e,n){let r=this.doc.lineAt(n).number-this.doc.lineAt(e).number+1;return this.lineWrapping&&(r+=Math.max(0,Math.ceil((n-e-r*this.lineLength*.5)/this.lineLength))),this.lineHeight*r}heightForLine(e){return this.lineWrapping?(1+Math.max(0,Math.ceil((e-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(e){return this.doc=e,this}mustRefreshForWrapping(e){return ID.indexOf(e)>-1!=this.lineWrapping}mustRefreshForHeights(e){let n=!1;for(let r=0;r<e.length;r++){let i=e[r];i<0?r++:this.heightSamples[Math.floor(i*10)]||(n=!0,this.heightSamples[Math.floor(i*10)]=!0)}return n}refresh(e,n,r,i,a,s){let o=ID.indexOf(e)>-1,u=Math.abs(n-this.lineHeight)>.3||this.lineWrapping!=o||Math.abs(r-this.charWidth)>.1;if(this.lineWrapping=o,this.lineHeight=n,this.charWidth=r,this.textHeight=i,this.lineLength=a,u){this.heightSamples={};for(let f=0;f<s.length;f++){let h=s[f];h<0?f++:this.heightSamples[Math.floor(h*10)]=!0}}return u}}class gue{constructor(e,n){this.from=e,this.heights=n,this.index=0}get more(){return this.index<this.heights.length}}class oi{constructor(e,n,r,i,a){this.from=e,this.length=n,this.top=r,this.height=i,this._content=a}get type(){return typeof this._content=="number"?Nn.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof Xl?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(e){let n=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(e._content)?e._content:[e]);return new oi(this.from,this.length+e.length,this.top,this.height+e.height,n)}}var mt=(function(t){return t[t.ByPos=0]="ByPos",t[t.ByHeight=1]="ByHeight",t[t.ByPosNoHeight=2]="ByPosNoHeight",t})(mt||(mt={}));const np=.001;class In{constructor(e,n,r=2){this.length=e,this.height=n,this.flags=r}get outdated(){return(this.flags&2)>0}set outdated(e){this.flags=(e?2:0)|this.flags&-3}setHeight(e){this.height!=e&&(Math.abs(this.height-e)>np&&(Ec=!0),this.height=e)}replace(e,n,r){return In.of(r)}decomposeLeft(e,n){n.push(this)}decomposeRight(e,n){n.push(this)}applyChanges(e,n,r,i){let a=this,s=r.doc;for(let o=i.length-1;o>=0;o--){let{fromA:u,toA:f,fromB:h,toB:p}=i[o],y=a.lineAt(u,mt.ByPosNoHeight,r.setDoc(n),0,0),x=y.to>=f?y:a.lineAt(f,mt.ByPosNoHeight,r,0,0);for(p+=x.to-f,f=x.to;o>0&&y.from<=i[o-1].toA;)u=i[o-1].fromA,h=i[o-1].fromB,o--,u<y.from&&(y=a.lineAt(u,mt.ByPosNoHeight,r,0,0));h+=y.from-u,u=y.from;let b=uN.build(r.setDoc(s),e,h,p);a=xg(a,a.replace(u,f,b))}return a.updateHeight(r,0)}static empty(){return new Sr(0,0,0)}static of(e){if(e.length==1)return e[0];let n=0,r=e.length,i=0,a=0;for(;;)if(n==r)if(i>a*2){let o=e[n-1];o.break?e.splice(--n,1,o.left,null,o.right):e.splice(--n,1,o.left,o.right),r+=1+o.break,i-=o.size}else if(a>i*2){let o=e[r];o.break?e.splice(r,1,o.left,null,o.right):e.splice(r,1,o.left,o.right),r+=2+o.break,a-=o.size}else break;else if(i<a){let o=e[n++];o&&(i+=o.size)}else{let o=e[--r];o&&(a+=o.size)}let s=0;return e[n-1]==null?(s=1,n--):e[n]==null&&(s=1,r++),new xue(In.of(e.slice(0,n)),s,In.of(e.slice(r)))}}function xg(t,e){return t==e?t:(t.constructor!=e.constructor&&(Ec=!0),e)}In.prototype.size=1;const yue=Me.replace({});class mz extends In{constructor(e,n,r){super(e,n),this.deco=r,this.spaceAbove=0}mainBlock(e,n){return new oi(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(e,n,r,i){return this.spaceAbove&&e<r+this.spaceAbove?new oi(i,0,r,this.spaceAbove,yue):this.mainBlock(r,i)}lineAt(e,n,r,i,a){let s=this.mainBlock(i,a);return this.spaceAbove?this.blockAt(0,r,i,a).join(s):s}forEachLine(e,n,r,i,a,s){e<=a+this.length&&n>=a&&s(this.lineAt(0,mt.ByPos,r,i,a))}setMeasuredHeight(e){let n=e.heights[e.index++];n<0?(this.spaceAbove=-n,n=e.heights[e.index++]):this.spaceAbove=0,this.setHeight(n)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more&&this.setMeasuredHeight(i),this.outdated=!1,this}toString(){return`block(${this.length})`}}class Sr extends mz{constructor(e,n,r){super(e,n,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=r}mainBlock(e,n){return new oi(n,this.length,e+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(e,n,r){let i=r[0];return r.length==1&&(i instanceof Sr||i instanceof bn&&i.flags&4)&&Math.abs(this.length-i.length)<10?(i instanceof bn?i=new Sr(i.length,this.height,this.spaceAbove):i.height=this.height,this.outdated||(i.outdated=!1),i):In.of(r)}updateHeight(e,n=0,r=!1,i){return i&&i.from<=n&&i.more?this.setMeasuredHeight(i):(r||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,e.heightForLine(this.length-this.collapsed))+this.breaks*e.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class bn extends In{constructor(e){super(e,0)}heightMetrics(e,n){let r=e.doc.lineAt(n).number,i=e.doc.lineAt(n+this.length).number,a=i-r+1,s,o=0;if(e.lineWrapping){let u=Math.min(this.height,e.lineHeight*a);s=u/a,this.length>a+1&&(o=(this.height-u)/(this.length-a-1))}else s=this.height/a;return{firstLine:r,lastLine:i,perLine:s,perChar:o}}blockAt(e,n,r,i){let{firstLine:a,lastLine:s,perLine:o,perChar:u}=this.heightMetrics(n,i);if(n.lineWrapping){let f=i+(e<n.lineHeight?0:Math.round(Math.max(0,Math.min(1,(e-r)/this.height))*this.length)),h=n.doc.lineAt(f),p=o+h.length*u,y=Math.max(r,e-p/2);return new oi(h.from,h.length,y,p,0)}else{let f=Math.max(0,Math.min(s-a,Math.floor((e-r)/o))),{from:h,length:p}=n.doc.line(a+f);return new oi(h,p,r+o*f,o,0)}}lineAt(e,n,r,i,a){if(n==mt.ByHeight)return this.blockAt(e,r,i,a);if(n==mt.ByPosNoHeight){let{from:x,to:b}=r.doc.lineAt(e);return new oi(x,b-x,0,0,0)}let{firstLine:s,perLine:o,perChar:u}=this.heightMetrics(r,a),f=r.doc.lineAt(e),h=o+f.length*u,p=f.number-s,y=i+o*p+u*(f.from-a-p);return new oi(f.from,f.length,Math.max(i,Math.min(y,i+this.height-h)),h,0)}forEachLine(e,n,r,i,a,s){e=Math.max(e,a),n=Math.min(n,a+this.length);let{firstLine:o,perLine:u,perChar:f}=this.heightMetrics(r,a);for(let h=e,p=i;h<=n;){let y=r.doc.lineAt(h);if(h==e){let b=y.number-o;p+=u*b+f*(e-a-b)}let x=u+f*y.length;s(new oi(y.from,y.length,p,x,0)),p+=x,h=y.to+1}}replace(e,n,r){let i=this.length-n;if(i>0){let a=r[r.length-1];a instanceof bn?r[r.length-1]=new bn(a.length+i):r.push(null,new bn(i-1))}if(e>0){let a=r[0];a instanceof bn?r[0]=new bn(e+a.length):r.unshift(new bn(e-1),null)}return In.of(r)}decomposeLeft(e,n){n.push(new bn(e-1),null)}decomposeRight(e,n){n.push(null,new bn(this.length-e-1))}updateHeight(e,n=0,r=!1,i){let a=n+this.length;if(i&&i.from<=n+this.length&&i.more){let s=[],o=Math.max(n,i.from),u=-1;for(i.from>n&&s.push(new bn(i.from-n-1).updateHeight(e,n));o<=a&&i.more;){let h=e.doc.lineAt(o).length;s.length&&s.push(null);let p=i.heights[i.index++],y=0;p<0&&(y=-p,p=i.heights[i.index++]),u==-1?u=p:Math.abs(p-u)>=np&&(u=-2);let x=new Sr(h,p,y);x.outdated=!1,s.push(x),o+=h+1}o<=a&&s.push(null,new bn(a-o).updateHeight(e,o));let f=In.of(s);return(u<0||Math.abs(f.height-this.height)>=np||Math.abs(u-this.heightMetrics(e,n).perLine)>=np)&&(Ec=!0),xg(this,f)}else(r||this.outdated)&&(this.setHeight(e.heightForGap(n,n+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class xue extends In{constructor(e,n,r){super(e.length+n+r.length,e.height+r.height,n|(e.outdated||r.outdated?2:0)),this.left=e,this.right=r,this.size=e.size+r.size}get break(){return this.flags&1}blockAt(e,n,r,i){let a=r+this.left.height;return e<a?this.left.blockAt(e,n,r,i):this.right.blockAt(e,n,a,i+this.left.length+this.break)}lineAt(e,n,r,i,a){let s=i+this.left.height,o=a+this.left.length+this.break,u=n==mt.ByHeight?e<s:e<o,f=u?this.left.lineAt(e,n,r,i,a):this.right.lineAt(e,n,r,s,o);if(this.break||(u?f.to<o:f.from>o))return f;let h=n==mt.ByPosNoHeight?mt.ByPosNoHeight:mt.ByPos;return u?f.join(this.right.lineAt(o,h,r,s,o)):this.left.lineAt(o,h,r,i,a).join(f)}forEachLine(e,n,r,i,a,s){let o=i+this.left.height,u=a+this.left.length+this.break;if(this.break)e<u&&this.left.forEachLine(e,n,r,i,a,s),n>=u&&this.right.forEachLine(e,n,r,o,u,s);else{let f=this.lineAt(u,mt.ByPos,r,i,a);e<f.from&&this.left.forEachLine(e,f.from-1,r,i,a,s),f.to>=e&&f.from<=n&&s(f),n>f.to&&this.right.forEachLine(f.to+1,n,r,o,u,s)}}replace(e,n,r){let i=this.left.length+this.break;if(n<i)return this.balanced(this.left.replace(e,n,r),this.right);if(e>this.left.length)return this.balanced(this.left,this.right.replace(e-i,n-i,r));let a=[];e>0&&this.decomposeLeft(e,a);let s=a.length;for(let o of r)a.push(o);if(e>0&&$D(a,s-1),n<this.length){let o=a.length;this.decomposeRight(n,a),$D(a,o)}return In.of(a)}decomposeLeft(e,n){let r=this.left.length;if(e<=r)return this.left.decomposeLeft(e,n);n.push(this.left),this.break&&(r++,e>=r&&n.push(null)),e>r&&this.right.decomposeLeft(e-r,n)}decomposeRight(e,n){let r=this.left.length,i=r+this.break;if(e>=i)return this.right.decomposeRight(e-i,n);e<r&&this.left.decomposeRight(e,n),this.break&&e<i&&n.push(null),n.push(this.right)}balanced(e,n){return e.size>2*n.size||n.size>2*e.size?In.of(this.break?[e,null,n]:[e,n]):(this.left=xg(this.left,e),this.right=xg(this.right,n),this.setHeight(e.height+n.height),this.outdated=e.outdated||n.outdated,this.size=e.size+n.size,this.length=e.length+this.break+n.length,this)}updateHeight(e,n=0,r=!1,i){let{left:a,right:s}=this,o=n+a.length+this.break,u=null;return i&&i.from<=n+a.length&&i.more?u=a=a.updateHeight(e,n,r,i):a.updateHeight(e,n,r),i&&i.from<=o+s.length&&i.more?u=s=s.updateHeight(e,o,r,i):s.updateHeight(e,o,r),u?this.balanced(a,s):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function $D(t,e){let n,r;t[e]==null&&(n=t[e-1])instanceof bn&&(r=t[e+1])instanceof bn&&t.splice(e-1,3,new bn(n.length+1+r.length))}const vue=5;class uN{constructor(e,n){this.pos=e,this.oracle=n,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=e}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(e,n){if(this.lineStart>-1){let r=Math.min(n,this.lineEnd),i=this.nodes[this.nodes.length-1];i instanceof Sr?i.length+=r-this.pos:(r>this.pos||!this.isCovered)&&this.nodes.push(new Sr(r-this.pos,-1,0)),this.writtenTo=r,n>r&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=n}point(e,n,r){if(e<n||r.heightRelevant){let i=r.widget?r.widget.estimatedHeight:0,a=r.widget?r.widget.lineBreaks:0;i<0&&(i=this.oracle.lineHeight);let s=n-e;r.block?this.addBlock(new mz(s,i,r)):(s||a||i>=vue)&&this.addLineDeco(i,a,s)}else n>e&&this.span(e,n);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:e,to:n}=this.oracle.doc.lineAt(this.pos);this.lineStart=e,this.lineEnd=n,this.writtenTo<e&&((this.writtenTo<e-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,e-1)),this.nodes.push(null)),this.pos>e&&this.nodes.push(new Sr(this.pos-e,-1,0)),this.writtenTo=this.pos}blankContent(e,n){let r=new bn(n-e);return this.oracle.doc.lineAt(e).to==n&&(r.flags|=4),r}ensureLine(){this.enterLine();let e=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(e instanceof Sr)return e;let n=new Sr(0,-1,0);return this.nodes.push(n),n}addBlock(e){this.enterLine();let n=e.deco;n&&n.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(e),this.writtenTo=this.pos=this.pos+e.length,n&&n.endSide>0&&(this.covering=e)}addLineDeco(e,n,r){let i=this.ensureLine();i.length+=r,i.collapsed+=r,i.widgetHeight=Math.max(i.widgetHeight,e),i.breaks+=n,this.writtenTo=this.pos=this.pos+r}finish(e){let n=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(n instanceof Sr)&&!this.isCovered?this.nodes.push(new Sr(0,-1,0)):(this.writtenTo<this.pos||n==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let r=e;for(let i of this.nodes)i instanceof Sr&&i.updateHeight(this.oracle,r),r+=i?i.length:1;return this.nodes}static build(e,n,r,i){let a=new uN(r,e);return He.spans(n,r,i,a,0),a.finish(r)}}function bue(t,e,n){let r=new wue;return He.compare(t,e,n,r,0),r.changes}class wue{constructor(){this.changes=[]}compareRange(){}comparePoint(e,n,r,i){(e<n||r&&r.heightRelevant||i&&i.heightRelevant)&&cc(e,n,this.changes,5)}}function Sue(t,e){let n=t.getBoundingClientRect(),r=t.ownerDocument,i=r.defaultView||window,a=Math.max(0,n.left),s=Math.min(i.innerWidth,n.right),o=Math.max(0,n.top),u=Math.min(i.innerHeight,n.bottom);for(let f=t.parentNode;f&&f!=r.body;)if(f.nodeType==1){let h=f,p=window.getComputedStyle(h);if((h.scrollHeight>h.clientHeight||h.scrollWidth>h.clientWidth)&&p.overflow!="visible"){let y=h.getBoundingClientRect();a=Math.max(a,y.left),s=Math.min(s,y.right),o=Math.max(o,y.top),u=Math.min(f==t.parentNode?i.innerHeight:u,y.bottom)}f=p.position=="absolute"||p.position=="fixed"?h.offsetParent:h.parentNode}else if(f.nodeType==11)f=f.host;else break;return{left:a-n.left,right:Math.max(a,s)-n.left,top:o-(n.top+e),bottom:Math.max(o,u)-(n.top+e)}}function jue(t){let e=t.getBoundingClientRect(),n=t.ownerDocument.defaultView||window;return e.left<n.innerWidth&&e.right>0&&e.top<n.innerHeight&&e.bottom>0}function Nue(t,e){let n=t.getBoundingClientRect();return{left:0,right:n.right-n.left,top:e,bottom:n.bottom-(n.top+e)}}class g1{constructor(e,n,r,i){this.from=e,this.to=n,this.size=r,this.displaySize=i}static same(e,n){if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],a=n[r];if(i.from!=a.from||i.to!=a.to||i.size!=a.size)return!1}return!0}draw(e,n){return Me.replace({widget:new Cue(this.displaySize*(n?e.scaleY:e.scaleX),n)}).range(this.from,this.to)}}class Cue extends Xi{constructor(e,n){super(),this.size=e,this.vertical=n}eq(e){return e.size==this.size&&e.vertical==this.vertical}toDOM(){let e=document.createElement("div");return this.vertical?e.style.height=this.size+"px":(e.style.width=this.size+"px",e.style.height="2px",e.style.display="inline-block"),e}get estimatedHeight(){return this.vertical?this.size:-1}}class qD{constructor(e){this.state=e,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=HD,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=dt.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let n=e.facet(sN).some(r=>typeof r!="function"&&r.class=="cm-lineWrapping");this.heightOracle=new pue(n),this.stateDeco=VD(e),this.heightMap=In.empty().applyChanges(this.stateDeco,Xe.empty,this.heightOracle.setDoc(e.doc),[new Gr(0,0,0,e.doc.length)]);for(let r=0;r<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());r++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Me.set(this.lineGaps.map(r=>r.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let e=[this.viewport],{main:n}=this.state.selection;for(let r=0;r<=1;r++){let i=r?n.head:n.anchor;if(!e.some(({from:a,to:s})=>i>=a&&i<=s)){let{from:a,to:s}=this.lineBlockAt(i);e.push(new Om(a,s))}}return this.viewports=e.sort((r,i)=>r.from-i.from),this.updateScaler()}updateScaler(){let e=this.scaler;return this.scaler=this.heightMap.height<=7e6?HD:new fN(this.heightOracle,this.heightMap,this.viewports),e.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,e=>{this.viewportLines.push(xf(e,this.scaler))})}update(e,n=null){this.state=e.state;let r=this.stateDeco;this.stateDeco=VD(this.state);let i=e.changedRanges,a=Gr.extendWithRanges(i,bue(r,this.stateDeco,e?e.changes:Yt.empty(this.state.doc.length))),s=this.heightMap.height,o=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);UD(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,e.startState.doc,this.heightOracle.setDoc(this.state.doc),a),(this.heightMap.height!=s||Ec)&&(e.flags|=2),o?(this.scrollAnchorPos=e.changes.mapPos(o.from,-1),this.scrollAnchorHeight=o.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=s);let u=a.length?this.mapViewport(this.viewport,e.changes):this.viewport;(n&&(n.range.head<u.from||n.range.head>u.to)||!this.viewportIsAppropriate(u))&&(u=this.getViewport(0,n));let f=u.from!=this.viewport.from||u.to!=this.viewport.to;this.viewport=u,e.flags|=this.updateForViewport(),(f||!e.changes.empty||e.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,e.changes))),e.flags|=this.computeVisibleRanges(e.changes),n&&(this.scrollTarget=n),!this.mustEnforceCursorAssoc&&(e.selectionSet||e.focusChanged)&&e.view.lineWrapping&&e.state.selection.main.empty&&e.state.selection.main.assoc&&!e.state.facet(GB)&&(this.mustEnforceCursorAssoc=!0)}measure(e){let n=e.contentDOM,r=window.getComputedStyle(n),i=this.heightOracle,a=r.whiteSpace;this.defaultTextDirection=r.direction=="rtl"?dt.RTL:dt.LTR;let s=this.heightOracle.mustRefreshForWrapping(a)||this.mustMeasureContent,o=n.getBoundingClientRect(),u=s||this.mustMeasureContent||this.contentDOMHeight!=o.height;this.contentDOMHeight=o.height,this.mustMeasureContent=!1;let f=0,h=0;if(o.width&&o.height){let{scaleX:_,scaleY:P}=TB(n,o);(_>.005&&Math.abs(this.scaleX-_)>.005||P>.005&&Math.abs(this.scaleY-P)>.005)&&(this.scaleX=_,this.scaleY=P,f|=16,s=u=!0)}let p=(parseInt(r.paddingTop)||0)*this.scaleY,y=(parseInt(r.paddingBottom)||0)*this.scaleY;(this.paddingTop!=p||this.paddingBottom!=y)&&(this.paddingTop=p,this.paddingBottom=y,f|=18),this.editorWidth!=e.scrollDOM.clientWidth&&(i.lineWrapping&&(u=!0),this.editorWidth=e.scrollDOM.clientWidth,f|=16);let x=e.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=x&&(this.scrollAnchorHeight=-1,this.scrollTop=x),this.scrolledToBottom=_B(e.scrollDOM);let b=(this.printing?Nue:Sue)(n,this.paddingTop),j=b.top-this.pixelViewport.top,S=b.bottom-this.pixelViewport.bottom;this.pixelViewport=b;let N=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(N!=this.inView&&(this.inView=N,N&&(u=!0)),!this.inView&&!this.scrollTarget&&!jue(e.dom))return 0;let O=o.width;if((this.contentDOMWidth!=O||this.editorHeight!=e.scrollDOM.clientHeight)&&(this.contentDOMWidth=o.width,this.editorHeight=e.scrollDOM.clientHeight,f|=16),u){let _=e.docView.measureVisibleLineHeights(this.viewport);if(i.mustRefreshForHeights(_)&&(s=!0),s||i.lineWrapping&&Math.abs(O-this.contentDOMWidth)>i.charWidth){let{lineHeight:P,charWidth:D,textHeight:T}=e.docView.measureTextSize();s=P>0&&i.refresh(a,P,D,T,Math.max(5,O/D),_),s&&(e.docView.minWidth=0,f|=16)}j>0&&S>0?h=Math.max(j,S):j<0&&S<0&&(h=Math.min(j,S)),UD();for(let P of this.viewports){let D=P.from==this.viewport.from?_:e.docView.measureVisibleLineHeights(P);this.heightMap=(s?In.empty().applyChanges(this.stateDeco,Xe.empty,this.heightOracle,[new Gr(0,0,0,e.state.doc.length)]):this.heightMap).updateHeight(i,0,s,new gue(P.from,D))}Ec&&(f|=2)}let C=!this.viewportIsAppropriate(this.viewport,h)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return C&&(f&2&&(f|=this.updateScaler()),this.viewport=this.getViewport(h,this.scrollTarget),f|=this.updateForViewport()),(f&2||C)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(s?[]:this.lineGaps,e)),f|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,e.docView.enforceCursorAssoc()),f}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(e,n){let r=.5-Math.max(-.5,Math.min(.5,e/1e3/2)),i=this.heightMap,a=this.heightOracle,{visibleTop:s,visibleBottom:o}=this,u=new Om(i.lineAt(s-r*1e3,mt.ByHeight,a,0,0).from,i.lineAt(o+(1-r)*1e3,mt.ByHeight,a,0,0).to);if(n){let{head:f}=n.range;if(f<u.from||f>u.to){let h=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),p=i.lineAt(f,mt.ByPos,a,0,0),y;n.y=="center"?y=(p.top+p.bottom)/2-h/2:n.y=="start"||n.y=="nearest"&&f<u.from?y=p.top:y=p.bottom-h,u=new Om(i.lineAt(y-1e3/2,mt.ByHeight,a,0,0).from,i.lineAt(y+h+1e3/2,mt.ByHeight,a,0,0).to)}}return u}mapViewport(e,n){let r=n.mapPos(e.from,-1),i=n.mapPos(e.to,1);return new Om(this.heightMap.lineAt(r,mt.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(i,mt.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:e,to:n},r=0){if(!this.inView)return!0;let{top:i}=this.heightMap.lineAt(e,mt.ByPos,this.heightOracle,0,0),{bottom:a}=this.heightMap.lineAt(n,mt.ByPos,this.heightOracle,0,0),{visibleTop:s,visibleBottom:o}=this;return(e==0||i<=s-Math.max(10,Math.min(-r,250)))&&(n==this.state.doc.length||a>=o+Math.max(10,Math.min(r,250)))&&i>s-2*1e3&&a<o+2*1e3}mapLineGaps(e,n){if(!e.length||n.empty)return e;let r=[];for(let i of e)n.touchesRange(i.from,i.to)||r.push(new g1(n.mapPos(i.from),n.mapPos(i.to),i.size,i.displaySize));return r}ensureLineGaps(e,n){let r=this.heightOracle.lineWrapping,i=r?1e4:2e3,a=i>>1,s=i<<1;if(this.defaultTextDirection!=dt.LTR&&!r)return[];let o=[],u=(h,p,y,x)=>{if(p-h<a)return;let b=this.state.selection.main,j=[b.from];b.empty||j.push(b.to);for(let N of j)if(N>h&&N<p){u(h,N-10,y,x),u(N+10,p,y,x);return}let S=Oue(e,N=>N.from>=y.from&&N.to<=y.to&&Math.abs(N.from-h)<a&&Math.abs(N.to-p)<a&&!j.some(O=>N.from<O&&N.to>O));if(!S){if(p<y.to&&n&&r&&n.visibleRanges.some(C=>C.from<=p&&C.to>=p)){let C=n.moveToLineBoundary(he.cursor(p),!1,!0).head;C>h&&(p=C)}let N=this.gapSize(y,h,p,x),O=r||N<2e6?N:2e6;S=new g1(h,p,N,O)}o.push(S)},f=h=>{if(h.length<s||h.type!=Nn.Text)return;let p=kue(h.from,h.to,this.stateDeco);if(p.total<s)return;let y=this.scrollTarget?this.scrollTarget.range.head:null,x,b;if(r){let j=i/this.heightOracle.lineLength*this.heightOracle.lineHeight,S,N;if(y!=null){let O=Em(p,y),C=((this.visibleBottom-this.visibleTop)/2+j)/h.height;S=O-C,N=O+C}else S=(this.visibleTop-h.top-j)/h.height,N=(this.visibleBottom-h.top+j)/h.height;x=Am(p,S),b=Am(p,N)}else{let j=p.total*this.heightOracle.charWidth,S=i*this.heightOracle.charWidth,N=0;if(j>2e6)for(let D of e)D.from>=h.from&&D.from<h.to&&D.size!=D.displaySize&&D.from*this.heightOracle.charWidth+N<this.pixelViewport.left&&(N=D.size-D.displaySize);let O=this.pixelViewport.left+N,C=this.pixelViewport.right+N,_,P;if(y!=null){let D=Em(p,y),T=((C-O)/2+S)/j;_=D-T,P=D+T}else _=(O-S)/j,P=(C+S)/j;x=Am(p,_),b=Am(p,P)}x>h.from&&u(h.from,x,h,p),b<h.to&&u(b,h.to,h,p)};for(let h of this.viewportLines)Array.isArray(h.type)?h.type.forEach(f):f(h);return o}gapSize(e,n,r,i){let a=Em(i,r)-Em(i,n);return this.heightOracle.lineWrapping?e.height*a:i.total*this.heightOracle.charWidth*a}updateLineGaps(e){g1.same(e,this.lineGaps)||(this.lineGaps=e,this.lineGapDeco=Me.set(e.map(n=>n.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(e){let n=this.stateDeco;this.lineGaps.length&&(n=n.concat(this.lineGapDeco));let r=[];He.spans(n,this.viewport.from,this.viewport.to,{span(a,s){r.push({from:a,to:s})},point(){}},20);let i=0;if(r.length!=this.visibleRanges.length)i=12;else for(let a=0;a<r.length&&!(i&8);a++){let s=this.visibleRanges[a],o=r[a];(s.from!=o.from||s.to!=o.to)&&(i|=4,e&&e.mapPos(s.from,-1)==o.from&&e.mapPos(s.to,1)==o.to||(i|=8))}return this.visibleRanges=r,i}lineBlockAt(e){return e>=this.viewport.from&&e<=this.viewport.to&&this.viewportLines.find(n=>n.from<=e&&n.to>=e)||xf(this.heightMap.lineAt(e,mt.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(e){return e>=this.viewportLines[0].top&&e<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(n=>n.top<=e&&n.bottom>=e)||xf(this.heightMap.lineAt(this.scaler.fromDOM(e),mt.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(e){let n=this.lineBlockAtHeight(e+8);return n.from>=this.viewport.from||this.viewportLines[0].top-e>200?n:this.viewportLines[0]}elementAtHeight(e){return xf(this.heightMap.blockAt(this.scaler.fromDOM(e),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Om{constructor(e,n){this.from=e,this.to=n}}function kue(t,e,n){let r=[],i=t,a=0;return He.spans(n,t,e,{span(){},point(s,o){s>i&&(r.push({from:i,to:s}),a+=s-i),i=o}},20),i<e&&(r.push({from:i,to:e}),a+=e-i),{total:a,ranges:r}}function Am({total:t,ranges:e},n){if(n<=0)return e[0].from;if(n>=1)return e[e.length-1].to;let r=Math.floor(t*n);for(let i=0;;i++){let{from:a,to:s}=e[i],o=s-a;if(r<=o)return a+r;r-=o}}function Em(t,e){let n=0;for(let{from:r,to:i}of t.ranges){if(e<=i){n+=e-r;break}n+=i-r}return n/t.total}function Oue(t,e){for(let n of t)if(e(n))return n}const HD={toDOM(t){return t},fromDOM(t){return t},scale:1,eq(t){return t==this}};function VD(t){let e=t.facet($0).filter(r=>typeof r!="function"),n=t.facet(lN).filter(r=>typeof r!="function");return n.length&&e.push(He.join(n)),e}class fN{constructor(e,n,r){let i=0,a=0,s=0;this.viewports=r.map(({from:o,to:u})=>{let f=n.lineAt(o,mt.ByPos,e,0,0).top,h=n.lineAt(u,mt.ByPos,e,0,0).bottom;return i+=h-f,{from:o,to:u,top:f,bottom:h,domTop:0,domBottom:0}}),this.scale=(7e6-i)/(n.height-i);for(let o of this.viewports)o.domTop=s+(o.top-a)*this.scale,s=o.domBottom=o.domTop+(o.bottom-o.top),a=o.bottom}toDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.top)return i+(e-r)*this.scale;if(e<=a.bottom)return a.domTop+(e-a.top);r=a.bottom,i=a.domBottom}}fromDOM(e){for(let n=0,r=0,i=0;;n++){let a=n<this.viewports.length?this.viewports[n]:null;if(!a||e<a.domTop)return r+(e-i)/this.scale;if(e<=a.domBottom)return a.top+(e-a.domTop);r=a.bottom,i=a.domBottom}}eq(e){return e instanceof fN?this.scale==e.scale&&this.viewports.length==e.viewports.length&&this.viewports.every((n,r)=>n.from==e.viewports[r].from&&n.to==e.viewports[r].to):!1}}function xf(t,e){if(e.scale==1)return t;let n=e.toDOM(t.top),r=e.toDOM(t.bottom);return new oi(t.from,t.length,n,r-n,Array.isArray(t._content)?t._content.map(i=>xf(i,e)):t._content)}const Tm=be.define({combine:t=>t.join(" ")}),MS=be.define({combine:t=>t.indexOf(!0)>-1}),_S=zs.newName(),pz=zs.newName(),gz=zs.newName(),yz={"&light":"."+pz,"&dark":"."+gz};function DS(t,e,n){return new zs(e,{finish(r){return/&/.test(r)?r.replace(/&\w*/,i=>{if(i=="&")return t;if(!n||!n[i])throw new RangeError(`Unsupported selector: ${i}`);return n[i]}):t+" "+r}})}const Aue=DS("."+_S,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},yz),Eue={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},y1=ve.ie&&ve.ie_version<=11;class Tue{constructor(e){this.view=e,this.active=!1,this.editContext=null,this.selectionRange=new sce,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=e.contentDOM,this.observer=new MutationObserver(n=>{for(let r of n)this.queue.push(r);(ve.ie&&ve.ie_version<=11||ve.ios&&e.composing)&&n.some(r=>r.type=="childList"&&r.removedNodes.length||r.type=="characterData"&&r.oldValue.length>r.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&ve.android&&e.constructor.EDIT_CONTEXT!==!1&&!(ve.chrome&&ve.chrome_version<126)&&(this.editContext=new _ue(e),e.state.facet(ba)&&(e.contentDOM.editContext=this.editContext.editContext)),y1&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var n;((n=this.view.docView)===null||n===void 0?void 0:n.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(e.scrollDOM)),this.addWindowListeners(this.win=e.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(n=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),n.length>0&&n[n.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(n=>{n.length>0&&n[n.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(e){this.view.inputState.runHandlers("scroll",e),this.intersecting&&this.view.measure()}onScroll(e){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(e)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(e){(e.type=="change"||!e.type)&&!e.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(e){if(this.gapIntersection&&(e.length!=this.gaps.length||this.gaps.some((n,r)=>n!=e[r]))){this.gapIntersection.disconnect();for(let n of e)this.gapIntersection.observe(n);this.gaps=e}}onSelectionChange(e){let n=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:r}=this,i=this.selectionRange;if(r.state.facet(ba)?r.root.activeElement!=this.dom:!jf(this.dom,i))return;let a=i.anchorNode&&r.docView.tile.nearest(i.anchorNode);if(a&&a.isWidget()&&a.widget.ignoreEvent(e)){n||(this.selectionChanged=!1);return}(ve.ie&&ve.ie_version<=11||ve.android&&ve.chrome)&&!r.state.selection.main.empty&&i.focusNode&&Cf(i.focusNode,i.focusOffset,i.anchorNode,i.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:e}=this,n=ed(e.root);if(!n)return!1;let r=ve.safari&&e.root.nodeType==11&&e.root.activeElement==this.dom&&Mue(this.view,n)||n;if(!r||this.selectionRange.eq(r))return!1;let i=jf(this.dom,r);return i&&!this.selectionChanged&&e.inputState.lastFocusTime>Date.now()-200&&e.inputState.lastTouchTime<Date.now()-300&&oce(this.dom,r)?(this.view.inputState.lastFocusTime=0,e.docView.updateSelection(),!1):(this.selectionRange.setRange(r),i&&(this.selectionChanged=!0),!0)}setSelectionRange(e,n){this.selectionRange.set(e.node,e.offset,n.node,n.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let e=0,n=null;for(let r=this.dom;r;)if(r.nodeType==1)!n&&e<this.scrollTargets.length&&this.scrollTargets[e]==r?e++:n||(n=this.scrollTargets.slice(0,e)),n&&n.push(r),r=r.assignedSlot||r.parentNode;else if(r.nodeType==11)r=r.host;else break;if(e<this.scrollTargets.length&&!n&&(n=this.scrollTargets.slice(0,e)),n){for(let r of this.scrollTargets)r.removeEventListener("scroll",this.onScroll);for(let r of this.scrollTargets=n)r.addEventListener("scroll",this.onScroll)}}ignore(e){if(!this.active)return e();try{return this.stop(),e()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,Eue),y1&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),y1&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(e,n){var r;if(!this.delayedAndroidKey){let i=()=>{let a=this.delayedAndroidKey;a&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=a.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&a.force&&uc(this.dom,a.key,a.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(i)}(!this.delayedAndroidKey||e=="Enter")&&(this.delayedAndroidKey={key:e,keyCode:n,force:this.lastChange<Date.now()-50||!!(!((r=this.delayedAndroidKey)===null||r===void 0)&&r.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}processRecords(){let e=this.pendingRecords();e.length&&(this.queue=[]);let n=-1,r=-1,i=!1;for(let a of e){let s=this.readMutation(a);s&&(s.typeOver&&(i=!0),n==-1?{from:n,to:r}=s:(n=Math.min(s.from,n),r=Math.max(s.to,r)))}return{from:n,to:r,typeOver:i}}readChange(){let{from:e,to:n,typeOver:r}=this.processRecords(),i=this.selectionChanged&&jf(this.dom,this.selectionRange);if(e<0&&!i)return null;e>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let a=new Yce(this.view,e,n,r);return this.view.docView.domChanged={newSel:a.newSel?a.newSel.main:null},a}flush(e=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;e&&this.readSelectionRange();let n=this.readChange();if(!n)return this.view.requestMeasure(),!1;let r=this.view.state,i=iz(this.view,n);return this.view.state==r&&(n.domChanged||n.newSel&&!yg(this.view.state.selection,n.newSel.main))&&this.view.update([]),i}readMutation(e){let n=this.view.docView.tile.nearest(e.target);if(!n||n.isWidget())return null;if(n.markDirty(e.type=="attributes"),e.type=="childList"){let r=FD(n,e.previousSibling||e.target.previousSibling,-1),i=FD(n,e.nextSibling||e.target.nextSibling,1);return{from:r?n.posAfter(r):n.posAtStart,to:i?n.posBefore(i):n.posAtEnd,typeOver:!1}}else return e.type=="characterData"?{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}:null}setWindow(e){e!=this.win&&(this.removeWindowListeners(this.win),this.win=e,this.addWindowListeners(this.win))}addWindowListeners(e){e.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):e.addEventListener("beforeprint",this.onPrint),e.addEventListener("scroll",this.onScroll),e.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(e){e.removeEventListener("scroll",this.onScroll),e.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):e.removeEventListener("beforeprint",this.onPrint),e.document.removeEventListener("selectionchange",this.onSelectionChange)}update(e){this.editContext&&(this.editContext.update(e),e.startState.facet(ba)!=e.state.facet(ba)&&(e.view.contentDOM.editContext=e.state.facet(ba)?this.editContext.editContext:null))}destroy(){var e,n,r;this.stop(),(e=this.intersection)===null||e===void 0||e.disconnect(),(n=this.gapIntersection)===null||n===void 0||n.disconnect(),(r=this.resizeScroll)===null||r===void 0||r.disconnect();for(let i of this.scrollTargets)i.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function FD(t,e,n){for(;e;){let r=Ht.get(e);if(r&&r.parent==t)return r;let i=e.parentNode;e=i!=t.dom?i:n>0?e.nextSibling:e.previousSibling}return null}function WD(t,e){let n=e.startContainer,r=e.startOffset,i=e.endContainer,a=e.endOffset,s=t.docView.domAtPos(t.state.selection.main.anchor,1);return Cf(s.node,s.offset,i,a)&&([n,r,i,a]=[i,a,n,r]),{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:a}}function Mue(t,e){if(e.getComposedRanges){let i=e.getComposedRanges(t.root)[0];if(i)return WD(t,i)}let n=null;function r(i){i.preventDefault(),i.stopImmediatePropagation(),n=i.getTargetRanges()[0]}return t.contentDOM.addEventListener("beforeinput",r,!0),t.dom.ownerDocument.execCommand("indent"),t.contentDOM.removeEventListener("beforeinput",r,!0),n?WD(t,n):null}class _ue{constructor(e){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(e.state);let n=this.editContext=new window.EditContext({text:e.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,e.state.selection.main.anchor))),selectionEnd:this.toContextPos(e.state.selection.main.head)});this.handlers.textupdate=r=>{let i=e.state.selection.main,{anchor:a,head:s}=i,o=this.toEditorPos(r.updateRangeStart),u=this.toEditorPos(r.updateRangeEnd);e.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:r.updateRangeStart,editorBase:o,drifted:!1});let f=u-o>r.text.length;o==this.from&&a<this.from?o=a:u==this.to&&a>this.to&&(u=a);let h=az(e.state.sliceDoc(o,u),r.text,(f?i.from:i.to)-o,f?"end":null);if(!h){let y=he.single(this.toEditorPos(r.selectionStart),this.toEditorPos(r.selectionEnd));yg(y,i)||e.dispatch({selection:y,userEvent:"select"});return}let p={from:h.from+o,to:h.toA+o,insert:Xe.of(r.text.slice(h.from,h.toB).split(`
`))};if((ve.mac||ve.android)&&p.from==s-1&&/^\. ?$/.test(r.text)&&e.contentDOM.getAttribute("autocorrect")=="off"&&(p={from:o,to:u,insert:Xe.of([r.text.replace("."," ")])}),this.pendingContextChange=p,!e.state.readOnly){let y=this.to-this.from+(p.to-p.from+p.insert.length);cN(e,p,he.single(this.toEditorPos(r.selectionStart,y),this.toEditorPos(r.selectionEnd,y)))}this.pendingContextChange&&(this.revertPending(e.state),this.setSelection(e.state)),p.from<p.to&&!p.insert.length&&e.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(n.text.slice(Math.max(0,r.updateRangeStart-1),Math.min(n.text.length,r.updateRangeStart+1)))&&this.handlers.compositionend(r)},this.handlers.characterboundsupdate=r=>{let i=[],a=null;for(let s=this.toEditorPos(r.rangeStart),o=this.toEditorPos(r.rangeEnd);s<o;s++){let u=e.coordsForChar(s);a=u&&new DOMRect(u.left,u.top,u.right-u.left,u.bottom-u.top)||a||new DOMRect,i.push(a)}n.updateCharacterBounds(r.rangeStart,i)},this.handlers.textformatupdate=r=>{let i=[];for(let a of r.getTextFormats()){let s=a.underlineStyle,o=a.underlineThickness;if(!/none/i.test(s)&&!/none/i.test(o)){let u=this.toEditorPos(a.rangeStart),f=this.toEditorPos(a.rangeEnd);if(u<f){let h=`text-decoration: underline ${/^[a-z]/.test(s)?s+" ":s=="Dashed"?"dashed ":s=="Squiggle"?"wavy ":""}${/thin/i.test(o)?1:2}px`;i.push(Me.mark({attributes:{style:h}}).range(u,f))}}}e.dispatch({effects:YB.of(Me.set(i))})},this.handlers.compositionstart=()=>{e.inputState.composing<0&&(e.inputState.composing=0,e.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(e.inputState.composing=-1,e.inputState.compositionFirstChange=null,this.composing){let{drifted:r}=this.composing;this.composing=null,r&&this.reset(e.state)}};for(let r in this.handlers)n.addEventListener(r,this.handlers[r]);this.measureReq={read:r=>{this.editContext.updateControlBounds(r.contentDOM.getBoundingClientRect());let i=ed(r.root);i&&i.rangeCount&&this.editContext.updateSelectionBounds(i.getRangeAt(0).getBoundingClientRect())}}}applyEdits(e){let n=0,r=!1,i=this.pendingContextChange;return e.changes.iterChanges((a,s,o,u,f)=>{if(r)return;let h=f.length-(s-a);if(i&&s>=i.to)if(i.from==a&&i.to==s&&i.insert.eq(f)){i=this.pendingContextChange=null,n+=h,this.to+=h;return}else i=null,this.revertPending(e.state);if(a+=n,s+=n,s<=this.from)this.from+=h,this.to+=h;else if(a<this.to){if(a<this.from||s>this.to||this.to-this.from+f.length>3e4){r=!0;return}this.editContext.updateText(this.toContextPos(a),this.toContextPos(s),f.toString()),this.to+=h}n+=h}),i&&!r&&this.revertPending(e.state),!r}update(e){let n=this.pendingContextChange,r=e.startState.selection.main;this.composing&&(this.composing.drifted||!e.changes.touchesRange(r.from,r.to)&&e.transactions.some(i=>!i.isUserEvent("input.type")&&i.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=e.changes.mapPos(this.composing.editorBase)):!this.applyEdits(e)||!this.rangeIsValid(e.state)?(this.pendingContextChange=null,this.reset(e.state)):(e.docChanged||e.selectionSet||n)&&this.setSelection(e.state),(e.geometryChanged||e.docChanged||e.selectionSet)&&e.view.requestMeasure(this.measureReq)}resetRange(e){let{head:n}=e.selection.main;this.from=Math.max(0,n-1e4),this.to=Math.min(e.doc.length,n+1e4)}reset(e){this.resetRange(e),this.editContext.updateText(0,this.editContext.text.length,e.doc.sliceString(this.from,this.to)),this.setSelection(e)}revertPending(e){let n=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(n.from),this.toContextPos(n.from+n.insert.length),e.doc.sliceString(n.from,n.to))}setSelection(e){let{main:n}=e.selection,r=this.toContextPos(Math.max(this.from,Math.min(this.to,n.anchor))),i=this.toContextPos(n.head);(this.editContext.selectionStart!=r||this.editContext.selectionEnd!=i)&&this.editContext.updateSelection(r,i)}rangeIsValid(e){let{head:n}=e.selection.main;return!(this.from>0&&n-this.from<500||this.to<e.doc.length&&this.to-n<500||this.to-this.from>1e4*3)}toEditorPos(e,n=this.to-this.from){e=Math.min(e,n);let r=this.composing;return r&&r.drifted?r.editorBase+(e-r.contextBase):e+this.from}toContextPos(e){let n=this.composing;return n&&n.drifted?n.contextBase+(e-n.editorBase):e-this.from}destroy(){for(let e in this.handlers)this.editContext.removeEventListener(e,this.handlers[e])}}class xe{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(e={}){var n;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),e.parent&&e.parent.appendChild(this.dom);let{dispatch:r}=e;this.dispatchTransactions=e.dispatchTransactions||r&&(i=>i.forEach(a=>r(a,this)))||(i=>this.update(i)),this.dispatch=this.dispatch.bind(this),this._root=e.root||lce(e.parent)||document,this.viewState=new qD(e.state||Ge.create(e)),e.scrollTo&&e.scrollTo.is(Nm)&&(this.viewState.scrollTarget=e.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(tc).map(i=>new f1(i));for(let i of this.plugins)i.update(this);this.observer=new Tue(this),this.inputState=new Jce(this),this.inputState.ensureHandlers(this.plugins),this.docView=new ED(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((n=document.fonts)===null||n===void 0)&&n.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...e){let n=e.length==1&&e[0]instanceof Qt?e:e.length==1&&Array.isArray(e[0])?e[0]:[this.state.update(...e)];this.dispatchTransactions(n,this)}update(e){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let n=!1,r=!1,i,a=this.state;for(let y of e){if(y.startState!=a)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");a=y.state}if(this.destroyed){this.viewState.state=a;return}let s=this.hasFocus,o=0,u=null;e.some(y=>y.annotation(fz))?(this.inputState.notifiedFocused=s,o=1):s!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=s,u=dz(a,s),u||(o=1));let f=this.observer.delayedAndroidKey,h=null;if(f?(this.observer.clearDelayedAndroidKey(),h=this.observer.readChange(),(h&&!this.state.doc.eq(a.doc)||!this.state.selection.eq(a.selection))&&(h=null)):this.observer.clear(),a.facet(Ge.phrases)!=this.state.facet(Ge.phrases))return this.setState(a);i=mg.create(this,a,e),i.flags|=o;let p=this.viewState.scrollTarget;try{this.updateState=2;for(let y of e){if(p&&(p=p.map(y.changes)),y.scrollIntoView){let{main:x}=y.state.selection;p=new fc(x.empty?x:he.cursor(x.head,x.head>x.anchor?-1:1))}for(let x of y.effects)x.is(Nm)&&(p=x.value.clip(this.state))}this.viewState.update(i,p),this.bidiCache=vg.update(this.bidiCache,i.changes),i.empty||(this.updatePlugins(i),this.inputState.update(i)),n=this.docView.update(i),this.state.facet(gf)!=this.styleModules&&this.mountStyles(),r=this.updateAttrs(),this.showAnnouncements(e),this.docView.updateSelection(n,e.some(y=>y.isUserEvent("select.pointer")))}finally{this.updateState=0}if(i.startState.facet(Tm)!=i.state.facet(Tm)&&(this.viewState.mustMeasureContent=!0),(n||r||p||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),n&&this.docViewUpdate(),!i.empty)for(let y of this.state.facet(kS))try{y(i)}catch(x){nr(this.state,x,"update listener")}(u||h)&&Promise.resolve().then(()=>{u&&this.state==u.startState&&this.dispatch(u),h&&!iz(this,h)&&f.force&&uc(this.contentDOM,f.key,f.keyCode)})}setState(e){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=e;return}this.updateState=2;let n=this.hasFocus;try{for(let r of this.plugins)r.destroy(this);this.viewState=new qD(e),this.plugins=e.facet(tc).map(r=>new f1(r)),this.pluginMap.clear();for(let r of this.plugins)r.update(this);this.docView.destroy(),this.docView=new ED(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}n&&this.focus(),this.requestMeasure()}updatePlugins(e){let n=e.startState.facet(tc),r=e.state.facet(tc);if(n!=r){let i=[];for(let a of r){let s=n.indexOf(a);if(s<0)i.push(new f1(a));else{let o=this.plugins[s];o.mustUpdate=e,i.push(o)}}for(let a of this.plugins)a.mustUpdate!=e&&a.destroy(this);this.plugins=i,this.pluginMap.clear()}else for(let i of this.plugins)i.mustUpdate=e;for(let i=0;i<this.plugins.length;i++)this.plugins[i].update(this);n!=r&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let e of this.plugins){let n=e.value;if(n&&n.docViewUpdate)try{n.docViewUpdate(this)}catch(r){nr(this.state,r,"doc view update listener")}}}measure(e=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,e&&this.observer.forceFlush();let n=null,r=this.scrollDOM,i=r.scrollTop*this.scaleY,{scrollAnchorPos:a,scrollAnchorHeight:s}=this.viewState;Math.abs(i-this.viewState.scrollTop)>1&&(s=-1),this.viewState.scrollAnchorHeight=-1;try{for(let o=0;;o++){if(s<0)if(_B(r))a=-1,s=this.viewState.heightMap.height;else{let x=this.viewState.scrollAnchorAt(i);a=x.from,s=x.top}this.updateState=1;let u=this.viewState.measure(this);if(!u&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(o>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let f=[];u&4||([this.measureRequests,f]=[f,this.measureRequests]);let h=f.map(x=>{try{return x.read(this)}catch(b){return nr(this.state,b),GD}}),p=mg.create(this,this.state,[]),y=!1;p.flags|=u,n?n.flags|=u:n=p,this.updateState=2,p.empty||(this.updatePlugins(p),this.inputState.update(p),this.updateAttrs(),y=this.docView.update(p),y&&this.docViewUpdate());for(let x=0;x<f.length;x++)if(h[x]!=GD)try{let b=f[x];b.write&&b.write(h[x],this)}catch(b){nr(this.state,b)}if(y&&this.docView.updateSelection(!0),!p.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,s=-1;continue}else{let b=(a<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(a).top)-s;if(b>1||b<-1){i=i+b,r.scrollTop=i/this.scaleY,s=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(n&&!n.empty)for(let o of this.state.facet(kS))o(n)}get themeClasses(){return _S+" "+(this.state.facet(MS)?gz:pz)+" "+this.state.facet(Tm)}updateAttrs(){let e=KD(this,QB,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),n={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(ba)?"true":"false",class:"cm-content",style:`${ve.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(n["aria-readonly"]="true"),KD(this,sN,n);let r=this.observer.ignore(()=>{let i=jD(this.contentDOM,this.contentAttrs,n),a=jD(this.dom,this.editorAttrs,e);return i||a});return this.editorAttrs=e,this.contentAttrs=n,r}showAnnouncements(e){let n=!0;for(let r of e)for(let i of r.effects)if(i.is(xe.announce)){n&&(this.announceDOM.textContent=""),n=!1;let a=this.announceDOM.appendChild(document.createElement("div"));a.textContent=i.value}}mountStyles(){this.styleModules=this.state.facet(gf);let e=this.state.facet(xe.cspNonce);zs.mount(this.root,this.styleModules.concat(Aue).reverse(),e?{nonce:e}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(e){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),e){if(this.measureRequests.indexOf(e)>-1)return;if(e.key!=null){for(let n=0;n<this.measureRequests.length;n++)if(this.measureRequests[n].key===e.key){this.measureRequests[n]=e;return}}this.measureRequests.push(e)}}plugin(e){let n=this.pluginMap.get(e);return(n===void 0||n&&n.plugin!=e)&&this.pluginMap.set(e,n=this.plugins.find(r=>r.plugin==e)||null),n&&n.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(e){return this.readMeasured(),this.viewState.elementAtHeight(e)}lineBlockAtHeight(e){return this.readMeasured(),this.viewState.lineBlockAtHeight(e)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(e){return this.viewState.lineBlockAt(e)}get contentHeight(){return this.viewState.contentHeight}moveByChar(e,n,r){return p1(this,e,TD(this,e,n,r))}moveByGroup(e,n){return p1(this,e,TD(this,e,n,r=>Hce(this,e.head,r)))}visualLineSide(e,n){let r=this.bidiSpans(e),i=this.textDirectionAt(e.from),a=r[n?r.length-1:0];return he.cursor(a.side(n,i)+e.from,a.forward(!n,i)?1:-1)}moveToLineBoundary(e,n,r=!0){return qce(this,e,n,r)}moveVertically(e,n,r){return p1(this,e,Vce(this,e,n,r))}domAtPos(e,n=1){return this.docView.domAtPos(e,n)}posAtDOM(e,n=0){return this.docView.posFromDOM(e,n)}posAtCoords(e,n=!0){this.readMeasured();let r=ES(this,e,n);return r&&r.pos}posAndSideAtCoords(e,n=!0){return this.readMeasured(),ES(this,e,n)}coordsAtPos(e,n=1){this.readMeasured();let r=this.docView.coordsAt(e,n);if(!r||r.left==r.right)return r;let i=this.state.doc.lineAt(e),a=this.bidiSpans(i),s=a[Bi.find(a,e-i.from,-1,n)];return td(r,s.dir==dt.LTR==n>0)}coordsForChar(e){return this.readMeasured(),this.docView.coordsForChar(e)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(e){return!this.state.facet(WB)||e<this.viewport.from||e>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(e))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(e){if(e.length>Due)return zB(e.length);let n=this.textDirectionAt(e.from),r;for(let a of this.bidiCache)if(a.from==e.from&&a.dir==n&&(a.fresh||BB(a.isolates,r=kD(this,e))))return a.order;r||(r=kD(this,e));let i=pce(e.text,n,r);return this.bidiCache.push(new vg(e.from,e.to,n,r,!0,i)),i}get hasFocus(){var e;return(this.dom.ownerDocument.hasFocus()||ve.safari&&((e=this.inputState)===null||e===void 0?void 0:e.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{MB(this.contentDOM),this.docView.updateSelection()})}setRoot(e){this._root!=e&&(this._root=e,this.observer.setWindow((e.nodeType==9?e:e.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let e of this.plugins)e.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(e,n={}){return Nm.of(new fc(typeof e=="number"?he.cursor(e):e,n.y,n.x,n.yMargin,n.xMargin))}scrollSnapshot(){let{scrollTop:e,scrollLeft:n}=this.scrollDOM,r=this.viewState.scrollAnchorAt(e);return Nm.of(new fc(he.cursor(r.from),"start","start",r.top-e,n,!0))}setTabFocusMode(e){e==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof e=="boolean"?this.inputState.tabFocusMode=e?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+e)}static domEventHandlers(e){return Bt.define(()=>({}),{eventHandlers:e})}static domEventObservers(e){return Bt.define(()=>({}),{eventObservers:e})}static theme(e,n){let r=zs.newName(),i=[Tm.of(r),gf.of(DS(`.${r}`,e))];return n&&n.dark&&i.push(MS.of(!0)),i}static baseTheme(e){return io.lowest(gf.of(DS("."+_S,e,yz)))}static findFromDOM(e){var n;let r=e.querySelector(".cm-content"),i=r&&Ht.get(r)||Ht.get(e);return((n=i?.root)===null||n===void 0?void 0:n.view)||null}}xe.styleModule=gf;xe.inputHandler=VB;xe.clipboardInputFilter=iN;xe.clipboardOutputFilter=aN;xe.scrollHandler=KB;xe.focusChangeEffect=FB;xe.perLineTextDirection=WB;xe.exceptionSink=HB;xe.updateListener=kS;xe.editable=ba;xe.mouseSelectionStyle=qB;xe.dragMovesSelection=$B;xe.clickAddsSelectionRange=UB;xe.decorations=$0;xe.blockWrappers=XB;xe.outerDecorations=lN;xe.atomicRanges=Rd;xe.bidiIsolatedRanges=ZB;xe.scrollMargins=JB;xe.darkTheme=MS;xe.cspNonce=be.define({combine:t=>t.length?t[0]:""});xe.contentAttributes=sN;xe.editorAttributes=QB;xe.lineWrapping=xe.contentAttributes.of({class:"cm-lineWrapping"});xe.announce=Be.define();const Due=4096,GD={};class vg{constructor(e,n,r,i,a,s){this.from=e,this.to=n,this.dir=r,this.isolates=i,this.fresh=a,this.order=s}static update(e,n){if(n.empty&&!e.some(a=>a.fresh))return e;let r=[],i=e.length?e[e.length-1].dir:dt.LTR;for(let a=Math.max(0,e.length-10);a<e.length;a++){let s=e[a];s.dir==i&&!n.touchesRange(s.from,s.to)&&r.push(new vg(n.mapPos(s.from,1),n.mapPos(s.to,-1),s.dir,s.isolates,!1,s.order))}return r}}function KD(t,e,n){for(let r=t.state.facet(e),i=r.length-1;i>=0;i--){let a=r[i],s=typeof a=="function"?a(t):a;s&&tN(s,n)}return n}const Pue=ve.mac?"mac":ve.windows?"win":ve.linux?"linux":"key";function Rue(t,e){const n=t.split(/-(?!$)/);let r=n[n.length-1];r=="Space"&&(r=" ");let i,a,s,o;for(let u=0;u<n.length-1;++u){const f=n[u];if(/^(cmd|meta|m)$/i.test(f))o=!0;else if(/^a(lt)?$/i.test(f))i=!0;else if(/^(c|ctrl|control)$/i.test(f))a=!0;else if(/^s(hift)?$/i.test(f))s=!0;else if(/^mod$/i.test(f))e=="mac"?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+f)}return i&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function Mm(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}const Lue=io.default(xe.domEventHandlers({keydown(t,e){return vz(xz(e.state),t,e,"editor")}})),F0=be.define({enables:Lue}),YD=new WeakMap;function xz(t){let e=t.facet(F0),n=YD.get(e);return n||YD.set(e,n=Iue(e.reduce((r,i)=>r.concat(i),[]))),n}function Bue(t,e,n){return vz(xz(t.state),e,t,n)}let js=null;const zue=4e3;function Iue(t,e=Pue){let n=Object.create(null),r=Object.create(null),i=(s,o)=>{let u=r[s];if(u==null)r[s]=o;else if(u!=o)throw new Error("Key binding "+s+" is used both as a regular binding and as a multi-stroke prefix")},a=(s,o,u,f,h)=>{var p,y;let x=n[s]||(n[s]=Object.create(null)),b=o.split(/ (?!$)/).map(N=>Rue(N,e));for(let N=1;N<b.length;N++){let O=b.slice(0,N).join(" ");i(O,!0),x[O]||(x[O]={preventDefault:!0,stopPropagation:!1,run:[C=>{let _=js={view:C,prefix:O,scope:s};return setTimeout(()=>{js==_&&(js=null)},zue),!0}]})}let j=b.join(" ");i(j,!1);let S=x[j]||(x[j]={preventDefault:!1,stopPropagation:!1,run:((y=(p=x._any)===null||p===void 0?void 0:p.run)===null||y===void 0?void 0:y.slice())||[]});u&&S.run.push(u),f&&(S.preventDefault=!0),h&&(S.stopPropagation=!0)};for(let s of t){let o=s.scope?s.scope.split(" "):["editor"];if(s.any)for(let f of o){let h=n[f]||(n[f]=Object.create(null));h._any||(h._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:p}=s;for(let y in h)h[y].run.push(x=>p(x,PS))}let u=s[e]||s.key;if(u)for(let f of o)a(f,u,s.run,s.preventDefault,s.stopPropagation),s.shift&&a(f,"Shift-"+u,s.shift,s.preventDefault,s.stopPropagation)}return n}let PS=null;function vz(t,e,n,r){PS=e;let i=Zoe(e),a=Qn(i,0),s=Di(a)==i.length&&i!=" ",o="",u=!1,f=!1,h=!1;js&&js.view==n&&js.scope==r&&(o=js.prefix+" ",lz.indexOf(e.keyCode)<0&&(f=!0,js=null));let p=new Set,y=S=>{if(S){for(let N of S.run)if(!p.has(N)&&(p.add(N),N(n)))return S.stopPropagation&&(h=!0),!0;S.preventDefault&&(S.stopPropagation&&(h=!0),f=!0)}return!1},x=t[r],b,j;return x&&(y(x[o+Mm(i,e,!s)])?u=!0:s&&(e.altKey||e.metaKey||e.ctrlKey)&&!(ve.windows&&e.ctrlKey&&e.altKey)&&!(ve.mac&&e.altKey&&!(e.ctrlKey||e.metaKey))&&(b=Is[e.keyCode])&&b!=i?(y(x[o+Mm(b,e,!0)])||e.shiftKey&&(j=Zf[e.keyCode])!=i&&j!=b&&y(x[o+Mm(j,e,!1)]))&&(u=!0):s&&e.shiftKey&&y(x[o+Mm(i,e,!0)])&&(u=!0),!u&&y(x._any)&&(u=!0)),f&&(u=!0),u&&h&&e.stopPropagation(),PS=null,u}class Ld{constructor(e,n,r,i,a){this.className=e,this.left=n,this.top=r,this.width=i,this.height=a}draw(){let e=document.createElement("div");return e.className=this.className,this.adjust(e),e}update(e,n){return n.className!=this.className?!1:(this.adjust(e),!0)}adjust(e){e.style.left=this.left+"px",e.style.top=this.top+"px",this.width!=null&&(e.style.width=this.width+"px"),e.style.height=this.height+"px"}eq(e){return this.left==e.left&&this.top==e.top&&this.width==e.width&&this.height==e.height&&this.className==e.className}static forRange(e,n,r){if(r.empty){let i=e.coordsAtPos(r.head,r.assoc||1);if(!i)return[];let a=bz(e);return[new Ld(n,i.left-a.left,i.top-a.top,null,i.bottom-i.top)]}else return Uue(e,n,r)}}function bz(t){let e=t.scrollDOM.getBoundingClientRect();return{left:(t.textDirection==dt.LTR?e.left:e.right-t.scrollDOM.clientWidth*t.scaleX)-t.scrollDOM.scrollLeft*t.scaleX,top:e.top-t.scrollDOM.scrollTop*t.scaleY}}function QD(t,e,n,r){let i=t.coordsAtPos(e,n*2);if(!i)return r;let a=t.dom.getBoundingClientRect(),s=(i.top+i.bottom)/2,o=t.posAtCoords({x:a.left+1,y:s}),u=t.posAtCoords({x:a.right-1,y:s});return o==null||u==null?r:{from:Math.max(r.from,Math.min(o,u)),to:Math.min(r.to,Math.max(o,u))}}function Uue(t,e,n){if(n.to<=t.viewport.from||n.from>=t.viewport.to)return[];let r=Math.max(n.from,t.viewport.from),i=Math.min(n.to,t.viewport.to),a=t.textDirection==dt.LTR,s=t.contentDOM,o=s.getBoundingClientRect(),u=bz(t),f=s.querySelector(".cm-line"),h=f&&window.getComputedStyle(f),p=o.left+(h?parseInt(h.paddingLeft)+Math.min(0,parseInt(h.textIndent)):0),y=o.right-(h?parseInt(h.paddingRight):0),x=AS(t,r,1),b=AS(t,i,-1),j=x.type==Nn.Text?x:null,S=b.type==Nn.Text?b:null;if(j&&(t.lineWrapping||x.widgetLineBreaks)&&(j=QD(t,r,1,j)),S&&(t.lineWrapping||b.widgetLineBreaks)&&(S=QD(t,i,-1,S)),j&&S&&j.from==S.from&&j.to==S.to)return O(C(n.from,n.to,j));{let P=j?C(n.from,null,j):_(x,!1),D=S?C(null,n.to,S):_(b,!0),T=[];return(j||x).to<(S||b).from-(j&&S?1:0)||x.widgetLineBreaks>1&&P.bottom+t.defaultLineHeight/2<D.top?T.push(N(p,P.bottom,y,D.top)):P.bottom<D.top&&t.elementAtHeight((P.bottom+D.top)/2).type==Nn.Text&&(P.bottom=D.top=(P.bottom+D.top)/2),O(P).concat(T).concat(O(D))}function N(P,D,T,L){return new Ld(e,P-u.left,D-u.top,Math.max(0,T-P),L-D)}function O({top:P,bottom:D,horizontal:T}){let L=[];for(let I=0;I<T.length;I+=2)L.push(N(T[I],P,T[I+1],D));return L}function C(P,D,T){let L=1e9,I=-1e9,q=[];function U(X,W,V,Y,J){let oe=t.coordsAtPos(X,X==T.to?-2:2),ge=t.coordsAtPos(V,V==T.from?2:-2);!oe||!ge||(L=Math.min(oe.top,ge.top,L),I=Math.max(oe.bottom,ge.bottom,I),J==dt.LTR?q.push(a&&W?p:oe.left,a&&Y?y:ge.right):q.push(!a&&Y?p:ge.left,!a&&W?y:oe.right))}let z=P??T.from,H=D??T.to;for(let X of t.visibleRanges)if(X.to>z&&X.from<H)for(let W=Math.max(X.from,z),V=Math.min(X.to,H);;){let Y=t.state.doc.lineAt(W);for(let J of t.bidiSpans(Y)){let oe=J.from+Y.from,ge=J.to+Y.from;if(oe>=V)break;ge>W&&U(Math.max(oe,W),P==null&&oe<=z,Math.min(ge,V),D==null&&ge>=H,J.dir)}if(W=Y.to+1,W>=V)break}return q.length==0&&U(z,P==null,H,D==null,t.textDirection),{top:L,bottom:I,horizontal:q}}function _(P,D){let T=o.top+(D?P.top:P.bottom);return{top:T,bottom:T,horizontal:[]}}}function $ue(t,e){return t.constructor==e.constructor&&t.eq(e)}class que{constructor(e,n){this.view=e,this.layer=n,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=e.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),n.above&&this.dom.classList.add("cm-layer-above"),n.class&&this.dom.classList.add(n.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(e.state),e.requestMeasure(this.measureReq),n.mount&&n.mount(this.dom,e)}update(e){e.startState.facet(rp)!=e.state.facet(rp)&&this.setOrder(e.state),(this.layer.update(e,this.dom)||e.geometryChanged)&&(this.scale(),e.view.requestMeasure(this.measureReq))}docViewUpdate(e){this.layer.updateOnDocViewUpdate!==!1&&e.requestMeasure(this.measureReq)}setOrder(e){let n=0,r=e.facet(rp);for(;n<r.length&&r[n]!=this.layer;)n++;this.dom.style.zIndex=String((this.layer.above?150:-1)-n)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:e,scaleY:n}=this.view;(e!=this.scaleX||n!=this.scaleY)&&(this.scaleX=e,this.scaleY=n,this.dom.style.transform=`scale(${1/e}, ${1/n})`)}draw(e){if(e.length!=this.drawn.length||e.some((n,r)=>!$ue(n,this.drawn[r]))){let n=this.dom.firstChild,r=0;for(let i of e)i.update&&n&&i.constructor&&this.drawn[r].constructor&&i.update(n,this.drawn[r])?(n=n.nextSibling,r++):this.dom.insertBefore(i.draw(),n);for(;n;){let i=n.nextSibling;n.remove(),n=i}this.drawn=e,ve.safari&&ve.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const rp=be.define();function wz(t){return[Bt.define(e=>new que(e,t)),rp.of(t)]}const rd=be.define({combine(t){return Qi(t,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(e,n)=>Math.min(e,n),drawRangeCursor:(e,n)=>e||n})}});function Hue(t={}){return[rd.of(t),Vue,Fue,Wue,GB.of(!0)]}function Sz(t){return t.startState.facet(rd)!=t.state.facet(rd)}const Vue=wz({above:!0,markers(t){let{state:e}=t,n=e.facet(rd),r=[];for(let i of e.selection.ranges){let a=i==e.selection.main;if(i.empty||n.drawRangeCursor){let s=a?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",o=i.empty?i:he.cursor(i.head,i.head>i.anchor?-1:1);for(let u of Ld.forRange(t,s,o))r.push(u)}}return r},update(t,e){t.transactions.some(r=>r.selection)&&(e.style.animationName=e.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let n=Sz(t);return n&&XD(t.state,e),t.docChanged||t.selectionSet||n},mount(t,e){XD(e.state,t)},class:"cm-cursorLayer"});function XD(t,e){e.style.animationDuration=t.facet(rd).cursorBlinkRate+"ms"}const Fue=wz({above:!1,markers(t){return t.state.selection.ranges.map(e=>e.empty?[]:Ld.forRange(t,"cm-selectionBackground",e)).reduce((e,n)=>e.concat(n))},update(t,e){return t.docChanged||t.selectionSet||t.viewportChanged||Sz(t)},class:"cm-selectionLayer"}),Wue=io.highest(xe.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),jz=Be.define({map(t,e){return t==null?null:e.mapPos(t)}}),vf=On.define({create(){return null},update(t,e){return t!=null&&(t=e.changes.mapPos(t)),e.effects.reduce((n,r)=>r.is(jz)?r.value:n,t)}}),Gue=Bt.fromClass(class{constructor(t){this.view=t,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(t){var e;let n=t.state.field(vf);n==null?this.cursor!=null&&((e=this.cursor)===null||e===void 0||e.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(t.startState.field(vf)!=n||t.docChanged||t.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:t}=this,e=t.state.field(vf),n=e!=null&&t.coordsAtPos(e);if(!n)return null;let r=t.scrollDOM.getBoundingClientRect();return{left:n.left-r.left+t.scrollDOM.scrollLeft*t.scaleX,top:n.top-r.top+t.scrollDOM.scrollTop*t.scaleY,height:n.bottom-n.top}}drawCursor(t){if(this.cursor){let{scaleX:e,scaleY:n}=this.view;t?(this.cursor.style.left=t.left/e+"px",this.cursor.style.top=t.top/n+"px",this.cursor.style.height=t.height/n+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(t){this.view.state.field(vf)!=t&&this.view.dispatch({effects:jz.of(t)})}},{eventObservers:{dragover(t){this.setDropPos(this.view.posAtCoords({x:t.clientX,y:t.clientY}))},dragleave(t){(t.target==this.view.contentDOM||!this.view.contentDOM.contains(t.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function Kue(){return[vf,Gue]}function ZD(t,e,n,r,i){e.lastIndex=0;for(let a=t.iterRange(n,r),s=n,o;!a.next().done;s+=a.value.length)if(!a.lineBreak)for(;o=e.exec(a.value);)i(s+o.index,o)}function Yue(t,e){let n=t.visibleRanges;if(n.length==1&&n[0].from==t.viewport.from&&n[0].to==t.viewport.to)return n;let r=[];for(let{from:i,to:a}of n)i=Math.max(t.state.doc.lineAt(i).from,i-e),a=Math.min(t.state.doc.lineAt(a).to,a+e),r.length&&r[r.length-1].to>=i?r[r.length-1].to=a:r.push({from:i,to:a});return r}class Que{constructor(e){const{regexp:n,decoration:r,decorate:i,boundary:a,maxLength:s=1e3}=e;if(!n.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=n,i)this.addMatch=(o,u,f,h)=>i(h,f,f+o[0].length,o,u);else if(typeof r=="function")this.addMatch=(o,u,f,h)=>{let p=r(o,u,f);p&&h(f,f+o[0].length,p)};else if(r)this.addMatch=(o,u,f,h)=>h(f,f+o[0].length,r);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=a,this.maxLength=s}createDeco(e){let n=new Pa,r=n.add.bind(n);for(let{from:i,to:a}of Yue(e,this.maxLength))ZD(e.state.doc,this.regexp,i,a,(s,o)=>this.addMatch(o,e,s,r));return n.finish()}updateDeco(e,n){let r=1e9,i=-1;return e.docChanged&&e.changes.iterChanges((a,s,o,u)=>{u>=e.view.viewport.from&&o<=e.view.viewport.to&&(r=Math.min(o,r),i=Math.max(u,i))}),e.viewportMoved||i-r>1e3?this.createDeco(e.view):i>-1?this.updateRange(e.view,n.map(e.changes),r,i):n}updateRange(e,n,r,i){for(let a of e.visibleRanges){let s=Math.max(a.from,r),o=Math.min(a.to,i);if(o>=s){let u=e.state.doc.lineAt(s),f=u.to<o?e.state.doc.lineAt(o):u,h=Math.max(a.from,u.from),p=Math.min(a.to,f.to);if(this.boundary){for(;s>u.from;s--)if(this.boundary.test(u.text[s-1-u.from])){h=s;break}for(;o<f.to;o++)if(this.boundary.test(f.text[o-f.from])){p=o;break}}let y=[],x,b=(j,S,N)=>y.push(N.range(j,S));if(u==f)for(this.regexp.lastIndex=h-u.from;(x=this.regexp.exec(u.text))&&x.index<p-u.from;)this.addMatch(x,e,x.index+u.from,b);else ZD(e.state.doc,this.regexp,h,p,(j,S)=>this.addMatch(S,e,j,b));n=n.update({filterFrom:h,filterTo:p,filter:(j,S)=>j<h||S>p,add:y})}}return n}}const RS=/x/.unicode!=null?"gu":"g",Xue=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,RS),Zue={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let x1=null;function Jue(){var t;if(x1==null&&typeof document<"u"&&document.body){let e=document.body.style;x1=((t=e.tabSize)!==null&&t!==void 0?t:e.MozTabSize)!=null}return x1||!1}const ip=be.define({combine(t){let e=Qi(t,{render:null,specialChars:Xue,addSpecialChars:null});return(e.replaceTabs=!Jue())&&(e.specialChars=new RegExp("	|"+e.specialChars.source,RS)),e.addSpecialChars&&(e.specialChars=new RegExp(e.specialChars.source+"|"+e.addSpecialChars.source,RS)),e}});function efe(t={}){return[ip.of(t),tfe()]}let JD=null;function tfe(){return JD||(JD=Bt.fromClass(class{constructor(t){this.view=t,this.decorations=Me.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(t.state.facet(ip)),this.decorations=this.decorator.createDeco(t)}makeDecorator(t){return new Que({regexp:t.specialChars,decoration:(e,n,r)=>{let{doc:i}=n.state,a=Qn(e[0],0);if(a==9){let s=i.lineAt(r),o=n.state.tabSize,u=Yc(s.text,o,r-s.from);return Me.replace({widget:new afe((o-u%o)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[a]||(this.decorationCache[a]=Me.replace({widget:new ife(t,a)}))},boundary:t.replaceTabs?void 0:/[^]/})}update(t){let e=t.state.facet(ip);t.startState.facet(ip)!=e?(this.decorator=this.makeDecorator(e),this.decorations=this.decorator.createDeco(t.view)):this.decorations=this.decorator.updateDeco(t,this.decorations)}},{decorations:t=>t.decorations}))}const nfe="";function rfe(t){return t>=32?nfe:t==10?"":String.fromCharCode(9216+t)}class ife extends Xi{constructor(e,n){super(),this.options=e,this.code=n}eq(e){return e.code==this.code}toDOM(e){let n=rfe(this.code),r=e.state.phrase("Control character")+" "+(Zue[this.code]||"0x"+this.code.toString(16)),i=this.options.render&&this.options.render(this.code,r,n);if(i)return i;let a=document.createElement("span");return a.textContent=n,a.title=r,a.setAttribute("aria-label",r),a.className="cm-specialChar",a}ignoreEvent(){return!1}}class afe extends Xi{constructor(e){super(),this.width=e}eq(e){return e.width==this.width}toDOM(){let e=document.createElement("span");return e.textContent="	",e.className="cm-tab",e.style.width=this.width+"px",e}ignoreEvent(){return!1}}function sfe(){return ofe}const lfe=Me.line({class:"cm-activeLine"}),ofe=Bt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.docChanged||t.selectionSet)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=-1,n=[];for(let r of t.state.selection.ranges){let i=t.lineBlockAt(r.head);i.from>e&&(n.push(lfe.range(i.from)),e=i.from)}return Me.set(n)}},{decorations:t=>t.decorations});class cfe extends Xi{constructor(e){super(),this.content=e}toDOM(e){let n=document.createElement("span");return n.className="cm-placeholder",n.style.pointerEvents="none",n.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(e):this.content.cloneNode(!0)),n.setAttribute("aria-hidden","true"),n}coordsAt(e){let n=e.firstChild?Nf(e.firstChild):[];if(!n.length)return null;let r=window.getComputedStyle(e.parentNode),i=td(n[0],r.direction!="rtl"),a=parseInt(r.lineHeight);return i.bottom-i.top>a*1.5?{left:i.left,right:i.right,top:i.top,bottom:i.top+a}:i}ignoreEvent(){return!1}}function ufe(t){let e=Bt.fromClass(class{constructor(n){this.view=n,this.placeholder=t?Me.set([Me.widget({widget:new cfe(t),side:1}).range(0)]):Me.none}get decorations(){return this.view.state.doc.length?Me.none:this.placeholder}},{decorations:n=>n.decorations});return typeof t=="string"?[e,xe.contentAttributes.of({"aria-placeholder":t})]:e}const LS=2e3;function ffe(t,e,n){let r=Math.min(e.line,n.line),i=Math.max(e.line,n.line),a=[];if(e.off>LS||n.off>LS||e.col<0||n.col<0){let s=Math.min(e.off,n.off),o=Math.max(e.off,n.off);for(let u=r;u<=i;u++){let f=t.doc.line(u);f.length<=o&&a.push(he.range(f.from+s,f.to+o))}}else{let s=Math.min(e.col,n.col),o=Math.max(e.col,n.col);for(let u=r;u<=i;u++){let f=t.doc.line(u),h=pS(f.text,s,t.tabSize,!0);if(h<0)a.push(he.cursor(f.to));else{let p=pS(f.text,o,t.tabSize);a.push(he.range(f.from+h,f.from+p))}}}return a}function dfe(t,e){let n=t.coordsAtPos(t.viewport.from);return n?Math.round(Math.abs((n.left-e)/t.defaultCharacterWidth)):-1}function e4(t,e){let n=t.posAtCoords({x:e.clientX,y:e.clientY},!1),r=t.state.doc.lineAt(n),i=n-r.from,a=i>LS?-1:i==r.length?dfe(t,e.clientX):Yc(r.text,t.state.tabSize,n-r.from);return{line:r.number,col:a,off:i}}function hfe(t,e){let n=e4(t,e),r=t.state.selection;return n?{update(i){if(i.docChanged){let a=i.changes.mapPos(i.startState.doc.line(n.line).from),s=i.state.doc.lineAt(a);n={line:s.number,col:n.col,off:Math.min(n.off,s.length)},r=r.map(i.changes)}},get(i,a,s){let o=e4(t,i);if(!o)return r;let u=ffe(t.state,n,o);return u.length?s?he.create(u.concat(r.ranges)):he.create(u):r}}:null}function mfe(t){let e=(n=>n.altKey&&n.button==0);return xe.mouseSelectionStyle.of((n,r)=>e(r)?hfe(n,r):null)}const pfe={Alt:[18,t=>!!t.altKey],Control:[17,t=>!!t.ctrlKey],Shift:[16,t=>!!t.shiftKey],Meta:[91,t=>!!t.metaKey]},gfe={style:"cursor: crosshair"};function yfe(t={}){let[e,n]=pfe[t.key||"Alt"],r=Bt.fromClass(class{constructor(i){this.view=i,this.isDown=!1}set(i){this.isDown!=i&&(this.isDown=i,this.view.update([]))}},{eventObservers:{keydown(i){this.set(i.keyCode==e||n(i))},keyup(i){(i.keyCode==e||!n(i))&&this.set(!1)},mousemove(i){this.set(n(i))}}});return[r,xe.contentAttributes.of(i=>{var a;return!((a=i.plugin(r))===null||a===void 0)&&a.isDown?gfe:null})]}const _m="-10000px";class Nz{constructor(e,n,r,i){this.facet=n,this.createTooltipView=r,this.removeTooltipView=i,this.input=e.state.facet(n),this.tooltips=this.input.filter(s=>s);let a=null;this.tooltipViews=this.tooltips.map(s=>a=r(s,a))}update(e,n){var r;let i=e.state.facet(this.facet),a=i.filter(u=>u);if(i===this.input){for(let u of this.tooltipViews)u.update&&u.update(e);return!1}let s=[],o=n?[]:null;for(let u=0;u<a.length;u++){let f=a[u],h=-1;if(f){for(let p=0;p<this.tooltips.length;p++){let y=this.tooltips[p];y&&y.create==f.create&&(h=p)}if(h<0)s[u]=this.createTooltipView(f,u?s[u-1]:null),o&&(o[u]=!!f.above);else{let p=s[u]=this.tooltipViews[h];o&&(o[u]=n[h]),p.update&&p.update(e)}}}for(let u of this.tooltipViews)s.indexOf(u)<0&&(this.removeTooltipView(u),(r=u.destroy)===null||r===void 0||r.call(u));return n&&(o.forEach((u,f)=>n[f]=u),n.length=o.length),this.input=i,this.tooltips=a,this.tooltipViews=s,!0}}function xfe(t){let e=t.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:e.clientHeight,right:e.clientWidth}}const v1=be.define({combine:t=>{var e,n,r;return{position:ve.ios?"absolute":((e=t.find(i=>i.position))===null||e===void 0?void 0:e.position)||"fixed",parent:((n=t.find(i=>i.parent))===null||n===void 0?void 0:n.parent)||null,tooltipSpace:((r=t.find(i=>i.tooltipSpace))===null||r===void 0?void 0:r.tooltipSpace)||xfe}}}),t4=new WeakMap,dN=Bt.fromClass(class{constructor(t){this.view=t,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let e=t.state.facet(v1);this.position=e.position,this.parent=e.parent,this.classes=t.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new Nz(t,hN,(n,r)=>this.createTooltip(n,r),n=>{this.resizeObserver&&this.resizeObserver.unobserve(n.dom),n.dom.remove()}),this.above=this.manager.tooltips.map(n=>!!n.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(n=>{Date.now()>this.lastTransaction-50&&n.length>0&&n[n.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),t.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let t of this.manager.tooltipViews)this.intersectionObserver.observe(t.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(t){t.transactions.length&&(this.lastTransaction=Date.now());let e=this.manager.update(t,this.above);e&&this.observeIntersection();let n=e||t.geometryChanged,r=t.state.facet(v1);if(r.position!=this.position&&!this.madeAbsolute){this.position=r.position;for(let i of this.manager.tooltipViews)i.dom.style.position=this.position;n=!0}if(r.parent!=this.parent){this.parent&&this.container.remove(),this.parent=r.parent,this.createContainer();for(let i of this.manager.tooltipViews)this.container.appendChild(i.dom);n=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);n&&this.maybeMeasure()}createTooltip(t,e){let n=t.create(this.view),r=e?e.dom:null;if(n.dom.classList.add("cm-tooltip"),t.arrow&&!n.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let i=document.createElement("div");i.className="cm-tooltip-arrow",n.dom.appendChild(i)}return n.dom.style.position=this.position,n.dom.style.top=_m,n.dom.style.left="0px",this.container.insertBefore(n.dom,r),n.mount&&n.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(n.dom),n}destroy(){var t,e,n;this.view.win.removeEventListener("resize",this.measureSoon);for(let r of this.manager.tooltipViews)r.dom.remove(),(t=r.destroy)===null||t===void 0||t.call(r);this.parent&&this.container.remove(),(e=this.resizeObserver)===null||e===void 0||e.disconnect(),(n=this.intersectionObserver)===null||n===void 0||n.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let t=1,e=1,n=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:a}=this.manager.tooltipViews[0];if(ve.safari){let s=a.getBoundingClientRect();n=Math.abs(s.top+1e4)>1||Math.abs(s.left)>1}else n=!!a.offsetParent&&a.offsetParent!=this.container.ownerDocument.body}if(n||this.position=="absolute")if(this.parent){let a=this.parent.getBoundingClientRect();a.width&&a.height&&(t=a.width/this.parent.offsetWidth,e=a.height/this.parent.offsetHeight)}else({scaleX:t,scaleY:e}=this.view.viewState);let r=this.view.scrollDOM.getBoundingClientRect(),i=oN(this.view);return{visible:{left:r.left+i.left,top:r.top+i.top,right:r.right-i.right,bottom:r.bottom-i.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((a,s)=>{let o=this.manager.tooltipViews[s];return o.getCoords?o.getCoords(a.pos):this.view.coordsAtPos(a.pos)}),size:this.manager.tooltipViews.map(({dom:a})=>a.getBoundingClientRect()),space:this.view.state.facet(v1).tooltipSpace(this.view),scaleX:t,scaleY:e,makeAbsolute:n}}writeMeasure(t){var e;if(t.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let o of this.manager.tooltipViews)o.dom.style.position="absolute"}let{visible:n,space:r,scaleX:i,scaleY:a}=t,s=[];for(let o=0;o<this.manager.tooltips.length;o++){let u=this.manager.tooltips[o],f=this.manager.tooltipViews[o],{dom:h}=f,p=t.pos[o],y=t.size[o];if(!p||u.clip!==!1&&(p.bottom<=Math.max(n.top,r.top)||p.top>=Math.min(n.bottom,r.bottom)||p.right<Math.max(n.left,r.left)-.1||p.left>Math.min(n.right,r.right)+.1)){h.style.top=_m;continue}let x=u.arrow?f.dom.querySelector(".cm-tooltip-arrow"):null,b=x?7:0,j=y.right-y.left,S=(e=t4.get(f))!==null&&e!==void 0?e:y.bottom-y.top,N=f.offset||bfe,O=this.view.textDirection==dt.LTR,C=y.width>r.right-r.left?O?r.left:r.right-y.width:O?Math.max(r.left,Math.min(p.left-(x?14:0)+N.x,r.right-j)):Math.min(Math.max(r.left,p.left-j+(x?14:0)-N.x),r.right-j),_=this.above[o];!u.strictSide&&(_?p.top-S-b-N.y<r.top:p.bottom+S+b+N.y>r.bottom)&&_==r.bottom-p.bottom>p.top-r.top&&(_=this.above[o]=!_);let P=(_?p.top-r.top:r.bottom-p.bottom)-b;if(P<S&&f.resize!==!1){if(P<this.view.defaultLineHeight){h.style.top=_m;continue}t4.set(f,S),h.style.height=(S=P)/a+"px"}else h.style.height&&(h.style.height="");let D=_?p.top-S-b-N.y:p.bottom+b+N.y,T=C+j;if(f.overlap!==!0)for(let L of s)L.left<T&&L.right>C&&L.top<D+S&&L.bottom>D&&(D=_?L.top-S-2-b:L.bottom+b+2);if(this.position=="absolute"?(h.style.top=(D-t.parent.top)/a+"px",n4(h,(C-t.parent.left)/i)):(h.style.top=D/a+"px",n4(h,C/i)),x){let L=p.left+(O?N.x:-N.x)-(C+14-7);x.style.left=L/i+"px"}f.overlap!==!0&&s.push({left:C,top:D,right:T,bottom:D+S}),h.classList.toggle("cm-tooltip-above",_),h.classList.toggle("cm-tooltip-below",!_),f.positioned&&f.positioned(t.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let t of this.manager.tooltipViews)t.dom.style.top=_m}},{eventObservers:{scroll(){this.maybeMeasure()}}});function n4(t,e){let n=parseInt(t.style.left,10);(isNaN(n)||Math.abs(e-n)>1)&&(t.style.left=e+"px")}const vfe=xe.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),bfe={x:0,y:0},hN=be.define({enables:[dN,vfe]}),bg=be.define({combine:t=>t.reduce((e,n)=>e.concat(n),[])});class W0{static create(e){return new W0(e)}constructor(e){this.view=e,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new Nz(e,bg,(n,r)=>this.createHostedView(n,r),n=>n.dom.remove())}createHostedView(e,n){let r=e.create(this.view);return r.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(r.dom,n?n.dom.nextSibling:this.dom.firstChild),this.mounted&&r.mount&&r.mount(this.view),r}mount(e){for(let n of this.manager.tooltipViews)n.mount&&n.mount(e);this.mounted=!0}positioned(e){for(let n of this.manager.tooltipViews)n.positioned&&n.positioned(e)}update(e){this.manager.update(e)}destroy(){var e;for(let n of this.manager.tooltipViews)(e=n.destroy)===null||e===void 0||e.call(n)}passProp(e){let n;for(let r of this.manager.tooltipViews){let i=r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const wfe=hN.compute([bg],t=>{let e=t.facet(bg);return e.length===0?null:{pos:Math.min(...e.map(n=>n.pos)),end:Math.max(...e.map(n=>{var r;return(r=n.end)!==null&&r!==void 0?r:n.pos})),create:W0.create,above:e[0].above,arrow:e.some(n=>n.arrow)}});class Sfe{constructor(e,n,r,i,a){this.view=e,this.source=n,this.field=r,this.setHover=i,this.hoverTime=a,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:e.dom,time:0},this.checkHover=this.checkHover.bind(this),e.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),e.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let e=Date.now()-this.lastMove.time;e<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-e):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:e,lastMove:n}=this,r=e.docView.tile.nearest(n.target);if(!r)return;let i,a=1;if(r.isWidget())i=r.posAtStart;else{if(i=e.posAtCoords(n),i==null)return;let o=e.coordsAtPos(i);if(!o||n.y<o.top||n.y>o.bottom||n.x<o.left-e.defaultCharacterWidth||n.x>o.right+e.defaultCharacterWidth)return;let u=e.bidiSpans(e.state.doc.lineAt(i)).find(h=>h.from<=i&&h.to>=i),f=u&&u.dir==dt.RTL?-1:1;a=n.x<o.left?-f:f}let s=this.source(e,i,a);if(s?.then){let o=this.pending={pos:i};s.then(u=>{this.pending==o&&(this.pending=null,u&&!(Array.isArray(u)&&!u.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(u)?u:[u])}))},u=>nr(e.state,u,"hover tooltip"))}else s&&!(Array.isArray(s)&&!s.length)&&e.dispatch({effects:this.setHover.of(Array.isArray(s)?s:[s])})}get tooltip(){let e=this.view.plugin(dN),n=e?e.manager.tooltips.findIndex(r=>r.create==W0.create):-1;return n>-1?e.manager.tooltipViews[n]:null}mousemove(e){var n,r;this.lastMove={x:e.clientX,y:e.clientY,target:e.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:i,tooltip:a}=this;if(i.length&&a&&!jfe(a.dom,e)||this.pending){let{pos:s}=i[0]||this.pending,o=(r=(n=i[0])===null||n===void 0?void 0:n.end)!==null&&r!==void 0?r:s;(s==o?this.view.posAtCoords(this.lastMove)!=s:!Nfe(this.view,s,o,e.clientX,e.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(e){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:n}=this;if(n.length){let{tooltip:r}=this;r&&r.dom.contains(e.relatedTarget)?this.watchTooltipLeave(r.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(e){let n=r=>{e.removeEventListener("mouseleave",n),this.active.length&&!this.view.dom.contains(r.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};e.addEventListener("mouseleave",n)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const Dm=4;function jfe(t,e){let{left:n,right:r,top:i,bottom:a}=t.getBoundingClientRect(),s;if(s=t.querySelector(".cm-tooltip-arrow")){let o=s.getBoundingClientRect();i=Math.min(o.top,i),a=Math.max(o.bottom,a)}return e.clientX>=n-Dm&&e.clientX<=r+Dm&&e.clientY>=i-Dm&&e.clientY<=a+Dm}function Nfe(t,e,n,r,i,a){let s=t.scrollDOM.getBoundingClientRect(),o=t.documentTop+t.documentPadding.top+t.contentHeight;if(s.left>r||s.right<r||s.top>i||Math.min(s.bottom,o)<i)return!1;let u=t.posAtCoords({x:r,y:i},!1);return u>=e&&u<=n}function Cfe(t,e={}){let n=Be.define(),r=On.define({create(){return[]},update(i,a){if(i.length&&(e.hideOnChange&&(a.docChanged||a.selection)?i=[]:e.hideOn&&(i=i.filter(s=>!e.hideOn(a,s))),a.docChanged)){let s=[];for(let o of i){let u=a.changes.mapPos(o.pos,-1,Ln.TrackDel);if(u!=null){let f=Object.assign(Object.create(null),o);f.pos=u,f.end!=null&&(f.end=a.changes.mapPos(f.end)),s.push(f)}}i=s}for(let s of a.effects)s.is(n)&&(i=s.value),s.is(kfe)&&(i=[]);return i},provide:i=>bg.from(i)});return{active:r,extension:[r,Bt.define(i=>new Sfe(i,t,r,n,e.hoverTime||300)),wfe]}}function Cz(t,e){let n=t.plugin(dN);if(!n)return null;let r=n.manager.tooltips.indexOf(e);return r<0?null:n.manager.tooltipViews[r]}const kfe=Be.define(),r4=be.define({combine(t){let e,n;for(let r of t)e=e||r.topContainer,n=n||r.bottomContainer;return{topContainer:e,bottomContainer:n}}});function mN(t,e){let n=t.plugin(kz),r=n?n.specs.indexOf(e):-1;return r>-1?n.panels[r]:null}const kz=Bt.fromClass(class{constructor(t){this.input=t.state.facet(id),this.specs=this.input.filter(n=>n),this.panels=this.specs.map(n=>n(t));let e=t.state.facet(r4);this.top=new Pm(t,!0,e.topContainer),this.bottom=new Pm(t,!1,e.bottomContainer),this.top.sync(this.panels.filter(n=>n.top)),this.bottom.sync(this.panels.filter(n=>!n.top));for(let n of this.panels)n.dom.classList.add("cm-panel"),n.mount&&n.mount()}update(t){let e=t.state.facet(r4);this.top.container!=e.topContainer&&(this.top.sync([]),this.top=new Pm(t.view,!0,e.topContainer)),this.bottom.container!=e.bottomContainer&&(this.bottom.sync([]),this.bottom=new Pm(t.view,!1,e.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let n=t.state.facet(id);if(n!=this.input){let r=n.filter(u=>u),i=[],a=[],s=[],o=[];for(let u of r){let f=this.specs.indexOf(u),h;f<0?(h=u(t.view),o.push(h)):(h=this.panels[f],h.update&&h.update(t)),i.push(h),(h.top?a:s).push(h)}this.specs=r,this.panels=i,this.top.sync(a),this.bottom.sync(s);for(let u of o)u.dom.classList.add("cm-panel"),u.mount&&u.mount()}else for(let r of this.panels)r.update&&r.update(t)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:t=>xe.scrollMargins.of(e=>{let n=e.plugin(t);return n&&{top:n.top.scrollMargin(),bottom:n.bottom.scrollMargin()}})});class Pm{constructor(e,n,r){this.view=e,this.top=n,this.container=r,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(e){for(let n of this.panels)n.destroy&&e.indexOf(n)<0&&n.destroy();this.panels=e,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let n=this.container||this.view.dom;n.insertBefore(this.dom,this.top?n.firstChild:null)}let e=this.dom.firstChild;for(let n of this.panels)if(n.dom.parentNode==this.dom){for(;e!=n.dom;)e=i4(e);e=e.nextSibling}else this.dom.insertBefore(n.dom,e);for(;e;)e=i4(e)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let e of this.classes.split(" "))e&&this.container.classList.remove(e);for(let e of(this.classes=this.view.themeClasses).split(" "))e&&this.container.classList.add(e)}}}function i4(t){let e=t.nextSibling;return t.remove(),e}const id=be.define({enables:kz});function Ofe(t,e){let n,r=new Promise(s=>n=s),i=s=>Afe(s,e,n);t.state.field(b1,!1)?t.dispatch({effects:Oz.of(i)}):t.dispatch({effects:Be.appendConfig.of(b1.init(()=>[i]))});let a=Az.of(i);return{close:a,result:r.then(s=>((t.win.queueMicrotask||(u=>t.win.setTimeout(u,10)))(()=>{t.state.field(b1).indexOf(i)>-1&&t.dispatch({effects:a})}),s))}}const b1=On.define({create(){return[]},update(t,e){for(let n of e.effects)n.is(Oz)?t=[n.value].concat(t):n.is(Az)&&(t=t.filter(r=>r!=n.value));return t},provide:t=>id.computeN([t],e=>e.field(t))}),Oz=Be.define(),Az=Be.define();function Afe(t,e,n){let r=e.content?e.content(t,()=>s(null)):null;if(!r){if(r=lt("form"),e.input){let o=lt("input",e.input);/^(text|password|number|email|tel|url)$/.test(o.type)&&o.classList.add("cm-textfield"),o.name||(o.name="input"),r.appendChild(lt("label",(e.label||"")+": ",o))}else r.appendChild(document.createTextNode(e.label||""));r.appendChild(document.createTextNode(" ")),r.appendChild(lt("button",{class:"cm-button",type:"submit"},e.submitLabel||"OK"))}let i=r.nodeName=="FORM"?[r]:r.querySelectorAll("form");for(let o=0;o<i.length;o++){let u=i[o];u.addEventListener("keydown",f=>{f.keyCode==27?(f.preventDefault(),s(null)):f.keyCode==13&&(f.preventDefault(),s(u))}),u.addEventListener("submit",f=>{f.preventDefault(),s(u)})}let a=lt("div",r,lt("button",{onclick:()=>s(null),"aria-label":t.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));e.class&&(a.className=e.class),a.classList.add("cm-dialog");function s(o){a.contains(a.ownerDocument.activeElement)&&t.focus(),n(o)}return{dom:a,top:e.top,mount:()=>{if(e.focus){let o;typeof e.focus=="string"?o=r.querySelector(e.focus):o=r.querySelector("input")||r.querySelector("button"),o&&"select"in o?o.select():o&&"focus"in o&&o.focus()}}}}class La extends Bs{compare(e){return this==e||this.constructor==e.constructor&&this.eq(e)}eq(e){return!1}destroy(e){}}La.prototype.elementClass="";La.prototype.toDOM=void 0;La.prototype.mapMode=Ln.TrackBefore;La.prototype.startSide=La.prototype.endSide=-1;La.prototype.point=!0;const ap=be.define(),Efe=be.define(),Tfe={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>He.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},Of=be.define();function Mfe(t){return[Ez(),Of.of({...Tfe,...t})]}const a4=be.define({combine:t=>t.some(e=>e)});function Ez(t){return[_fe]}const _fe=Bt.fromClass(class{constructor(t){this.view=t,this.domAfter=null,this.prevViewport=t.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=t.state.facet(Of).map(e=>new l4(t,e)),this.fixed=!t.state.facet(a4);for(let e of this.gutters)e.config.side=="after"?this.getDOMAfter().appendChild(e.dom):this.dom.appendChild(e.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),t.scrollDOM.insertBefore(this.dom,t.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(t){if(this.updateGutters(t)){let e=this.prevViewport,n=t.view.viewport,r=Math.min(e.to,n.to)-Math.max(e.from,n.from);this.syncGutters(r<(n.to-n.from)*.8)}if(t.geometryChanged){let e=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=e,this.domAfter&&(this.domAfter.style.minHeight=e)}this.view.state.facet(a4)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=t.view.viewport}syncGutters(t){let e=this.dom.nextSibling;t&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let n=He.iter(this.view.state.facet(ap),this.view.viewport.from),r=[],i=this.gutters.map(a=>new Dfe(a,this.view.viewport,-this.view.documentPadding.top));for(let a of this.view.viewportLineBlocks)if(r.length&&(r=[]),Array.isArray(a.type)){let s=!0;for(let o of a.type)if(o.type==Nn.Text&&s){BS(n,r,o.from);for(let u of i)u.line(this.view,o,r);s=!1}else if(o.widget)for(let u of i)u.widget(this.view,o)}else if(a.type==Nn.Text){BS(n,r,a.from);for(let s of i)s.line(this.view,a,r)}else if(a.widget)for(let s of i)s.widget(this.view,a);for(let a of i)a.finish();t&&(this.view.scrollDOM.insertBefore(this.dom,e),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(t){let e=t.startState.facet(Of),n=t.state.facet(Of),r=t.docChanged||t.heightChanged||t.viewportChanged||!He.eq(t.startState.facet(ap),t.state.facet(ap),t.view.viewport.from,t.view.viewport.to);if(e==n)for(let i of this.gutters)i.update(t)&&(r=!0);else{r=!0;let i=[];for(let a of n){let s=e.indexOf(a);s<0?i.push(new l4(this.view,a)):(this.gutters[s].update(t),i.push(this.gutters[s]))}for(let a of this.gutters)a.dom.remove(),i.indexOf(a)<0&&a.destroy();for(let a of i)a.config.side=="after"?this.getDOMAfter().appendChild(a.dom):this.dom.appendChild(a.dom);this.gutters=i}return r}destroy(){for(let t of this.gutters)t.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:t=>xe.scrollMargins.of(e=>{let n=e.plugin(t);if(!n||n.gutters.length==0||!n.fixed)return null;let r=n.dom.offsetWidth*e.scaleX,i=n.domAfter?n.domAfter.offsetWidth*e.scaleX:0;return e.textDirection==dt.LTR?{left:r,right:i}:{right:r,left:i}})});function s4(t){return Array.isArray(t)?t:[t]}function BS(t,e,n){for(;t.value&&t.from<=n;)t.from==n&&e.push(t.value),t.next()}class Dfe{constructor(e,n,r){this.gutter=e,this.height=r,this.i=0,this.cursor=He.iter(e.markers,n.from)}addElement(e,n,r){let{gutter:i}=this,a=(n.top-this.height)/e.scaleY,s=n.height/e.scaleY;if(this.i==i.elements.length){let o=new Tz(e,s,a,r);i.elements.push(o),i.dom.appendChild(o.dom)}else i.elements[this.i].update(e,s,a,r);this.height=n.bottom,this.i++}line(e,n,r){let i=[];BS(this.cursor,i,n.from),r.length&&(i=i.concat(r));let a=this.gutter.config.lineMarker(e,n,i);a&&i.unshift(a);let s=this.gutter;i.length==0&&!s.config.renderEmptyElements||this.addElement(e,n,i)}widget(e,n){let r=this.gutter.config.widgetMarker(e,n.widget,n),i=r?[r]:null;for(let a of e.state.facet(Efe)){let s=a(e,n.widget,n);s&&(i||(i=[])).push(s)}i&&this.addElement(e,n,i)}finish(){let e=this.gutter;for(;e.elements.length>this.i;){let n=e.elements.pop();e.dom.removeChild(n.dom),n.destroy()}}}class l4{constructor(e,n){this.view=e,this.config=n,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let r in n.domEventHandlers)this.dom.addEventListener(r,i=>{let a=i.target,s;if(a!=this.dom&&this.dom.contains(a)){for(;a.parentNode!=this.dom;)a=a.parentNode;let u=a.getBoundingClientRect();s=(u.top+u.bottom)/2}else s=i.clientY;let o=e.lineBlockAtHeight(s-e.documentTop);n.domEventHandlers[r](e,o,i)&&i.preventDefault()});this.markers=s4(n.markers(e)),n.initialSpacer&&(this.spacer=new Tz(e,0,0,[n.initialSpacer(e)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(e){let n=this.markers;if(this.markers=s4(this.config.markers(e.view)),this.spacer&&this.config.updateSpacer){let i=this.config.updateSpacer(this.spacer.markers[0],e);i!=this.spacer.markers[0]&&this.spacer.update(e.view,0,0,[i])}let r=e.view.viewport;return!He.eq(this.markers,n,r.from,r.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(e):!1)}destroy(){for(let e of this.elements)e.destroy()}}class Tz{constructor(e,n,r,i){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(e,n,r,i)}update(e,n,r,i){this.height!=n&&(this.height=n,this.dom.style.height=n+"px"),this.above!=r&&(this.dom.style.marginTop=(this.above=r)?r+"px":""),Pfe(this.markers,i)||this.setMarkers(e,i)}setMarkers(e,n){let r="cm-gutterElement",i=this.dom.firstChild;for(let a=0,s=0;;){let o=s,u=a<n.length?n[a++]:null,f=!1;if(u){let h=u.elementClass;h&&(r+=" "+h);for(let p=s;p<this.markers.length;p++)if(this.markers[p].compare(u)){o=p,f=!0;break}}else o=this.markers.length;for(;s<o;){let h=this.markers[s++];if(h.toDOM){h.destroy(i);let p=i.nextSibling;i.remove(),i=p}}if(!u)break;u.toDOM&&(f?i=i.nextSibling:this.dom.insertBefore(u.toDOM(e),i)),f&&s++}this.dom.className=r,this.markers=n}destroy(){this.setMarkers(null,[])}}function Pfe(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].compare(e[n]))return!1;return!0}const Rfe=be.define(),Lfe=be.define(),nc=be.define({combine(t){return Qi(t,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(e,n){let r=Object.assign({},e);for(let i in n){let a=r[i],s=n[i];r[i]=a?(o,u,f)=>a(o,u,f)||s(o,u,f):s}return r}})}});class w1 extends La{constructor(e){super(),this.number=e}eq(e){return this.number==e.number}toDOM(){return document.createTextNode(this.number)}}function S1(t,e){return t.state.facet(nc).formatNumber(e,t.state)}const Bfe=Of.compute([nc],t=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(e){return e.state.facet(Rfe)},lineMarker(e,n,r){return r.some(i=>i.toDOM)?null:new w1(S1(e,e.state.doc.lineAt(n.from).number))},widgetMarker:(e,n,r)=>{for(let i of e.state.facet(Lfe)){let a=i(e,n,r);if(a)return a}return null},lineMarkerChange:e=>e.startState.facet(nc)!=e.state.facet(nc),initialSpacer(e){return new w1(S1(e,o4(e.state.doc.lines)))},updateSpacer(e,n){let r=S1(n.view,o4(n.view.state.doc.lines));return r==e.number?e:new w1(r)},domEventHandlers:t.facet(nc).domEventHandlers,side:"before"}));function zfe(t={}){return[nc.of(t),Ez(),Bfe]}function o4(t){let e=9;for(;e<t;)e=e*10+9;return e}const Ife=new class extends La{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},Ufe=ap.compute(["selection"],t=>{let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.head).from;i>n&&(n=i,e.push(Ife.range(i)))}return He.of(e)});function $fe(){return Ufe}const Mz=1024;let qfe=0;class j1{constructor(e,n){this.from=e,this.to=n}}class Ue{constructor(e={}){this.id=qfe++,this.perNode=!!e.perNode,this.deserialize=e.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=e.combine||null}add(e){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof e!="function"&&(e=ar.match(e)),n=>{let r=e(n);return r===void 0?null:[this,r]}}}Ue.closedBy=new Ue({deserialize:t=>t.split(" ")});Ue.openedBy=new Ue({deserialize:t=>t.split(" ")});Ue.group=new Ue({deserialize:t=>t.split(" ")});Ue.isolate=new Ue({deserialize:t=>{if(t&&t!="rtl"&&t!="ltr"&&t!="auto")throw new RangeError("Invalid value for isolate: "+t);return t||"auto"}});Ue.contextHash=new Ue({perNode:!0});Ue.lookAhead=new Ue({perNode:!0});Ue.mounted=new Ue({perNode:!0});class Af{constructor(e,n,r,i=!1){this.tree=e,this.overlay=n,this.parser=r,this.bracketed=i}static get(e){return e&&e.props&&e.props[Ue.mounted.id]}}const Hfe=Object.create(null);class ar{constructor(e,n,r,i=0){this.name=e,this.props=n,this.id=r,this.flags=i}static define(e){let n=e.props&&e.props.length?Object.create(null):Hfe,r=(e.top?1:0)|(e.skipped?2:0)|(e.error?4:0)|(e.name==null?8:0),i=new ar(e.name||"",n,e.id,r);if(e.props){for(let a of e.props)if(Array.isArray(a)||(a=a(i)),a){if(a[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");n[a[0].id]=a[1]}}return i}prop(e){return this.props[e.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(e){if(typeof e=="string"){if(this.name==e)return!0;let n=this.prop(Ue.group);return n?n.indexOf(e)>-1:!1}return this.id==e}static match(e){let n=Object.create(null);for(let r in e)for(let i of r.split(" "))n[i]=e[r];return r=>{for(let i=r.prop(Ue.group),a=-1;a<(i?i.length:0);a++){let s=n[a<0?r.name:i[a]];if(s)return s}}}}ar.none=new ar("",Object.create(null),0,8);class pN{constructor(e){this.types=e;for(let n=0;n<e.length;n++)if(e[n].id!=n)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...e){let n=[];for(let r of this.types){let i=null;for(let a of e){let s=a(r);if(s){i||(i=Object.assign({},r.props));let o=s[1],u=s[0];u.combine&&u.id in i&&(o=u.combine(i[u.id],o)),i[u.id]=o}}n.push(i?new ar(r.name,i,r.id,r.flags):r)}return new pN(n)}}const Rm=new WeakMap,c4=new WeakMap;var Mt;(function(t){t[t.ExcludeBuffers=1]="ExcludeBuffers",t[t.IncludeAnonymous=2]="IncludeAnonymous",t[t.IgnoreMounts=4]="IgnoreMounts",t[t.IgnoreOverlays=8]="IgnoreOverlays",t[t.EnterBracketed=16]="EnterBracketed"})(Mt||(Mt={}));class Lt{constructor(e,n,r,i,a){if(this.type=e,this.children=n,this.positions=r,this.length=i,this.props=null,a&&a.length){this.props=Object.create(null);for(let[s,o]of a)this.props[typeof s=="number"?s:s.id]=o}}toString(){let e=Af.get(this);if(e&&!e.overlay)return e.tree.toString();let n="";for(let r of this.children){let i=r.toString();i&&(n&&(n+=","),n+=i)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(n.length?"("+n+")":""):n}cursor(e=0){return new IS(this.topNode,e)}cursorAt(e,n=0,r=0){let i=Rm.get(this)||this.topNode,a=new IS(i);return a.moveTo(e,n),Rm.set(this,a._tree),a}get topNode(){return new Qr(this,0,0,null)}resolve(e,n=0){let r=ad(Rm.get(this)||this.topNode,e,n,!1);return Rm.set(this,r),r}resolveInner(e,n=0){let r=ad(c4.get(this)||this.topNode,e,n,!0);return c4.set(this,r),r}resolveStack(e,n=0){return Wfe(this,e,n)}iterate(e){let{enter:n,leave:r,from:i=0,to:a=this.length}=e,s=e.mode||0,o=(s&Mt.IncludeAnonymous)>0;for(let u=this.cursor(s|Mt.IncludeAnonymous);;){let f=!1;if(u.from<=a&&u.to>=i&&(!o&&u.type.isAnonymous||n(u)!==!1)){if(u.firstChild())continue;f=!0}for(;f&&r&&(o||!u.type.isAnonymous)&&r(u),!u.nextSibling();){if(!u.parent())return;f=!0}}}prop(e){return e.perNode?this.props?this.props[e.id]:void 0:this.type.prop(e)}get propValues(){let e=[];if(this.props)for(let n in this.props)e.push([+n,this.props[n]]);return e}balance(e={}){return this.children.length<=8?this:xN(ar.none,this.children,this.positions,0,this.children.length,0,this.length,(n,r,i)=>new Lt(this.type,n,r,i,this.propValues),e.makeTree||((n,r,i)=>new Lt(ar.none,n,r,i)))}static build(e){return Gfe(e)}}Lt.empty=new Lt(ar.none,[],[],0);class gN{constructor(e,n){this.buffer=e,this.index=n}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new gN(this.buffer,this.index)}}class $s{constructor(e,n,r){this.buffer=e,this.length=n,this.set=r}get type(){return ar.none}toString(){let e=[];for(let n=0;n<this.buffer.length;)e.push(this.childString(n)),n=this.buffer[n+3];return e.join(",")}childString(e){let n=this.buffer[e],r=this.buffer[e+3],i=this.set.types[n],a=i.name;if(/\W/.test(a)&&!i.isError&&(a=JSON.stringify(a)),e+=4,r==e)return a;let s=[];for(;e<r;)s.push(this.childString(e)),e=this.buffer[e+3];return a+"("+s.join(",")+")"}findChild(e,n,r,i,a){let{buffer:s}=this,o=-1;for(let u=e;u!=n&&!(_z(a,i,s[u+1],s[u+2])&&(o=u,r>0));u=s[u+3]);return o}slice(e,n,r){let i=this.buffer,a=new Uint16Array(n-e),s=0;for(let o=e,u=0;o<n;){a[u++]=i[o++],a[u++]=i[o++]-r;let f=a[u++]=i[o++]-r;a[u++]=i[o++]-e,s=Math.max(s,f)}return new $s(a,s,this.set)}}function _z(t,e,n,r){switch(t){case-2:return n<e;case-1:return r>=e&&n<e;case 0:return n<e&&r>e;case 1:return n<=e&&r>e;case 2:return r>e;case 4:return!0}}function ad(t,e,n,r){for(var i;t.from==t.to||(n<1?t.from>=e:t.from>e)||(n>-1?t.to<=e:t.to<e);){let s=!r&&t instanceof Qr&&t.index<0?null:t.parent;if(!s)return t;t=s}let a=r?0:Mt.IgnoreOverlays;if(r)for(let s=t,o=s.parent;o;s=o,o=s.parent)s instanceof Qr&&s.index<0&&((i=o.enter(e,n,a))===null||i===void 0?void 0:i.from)!=s.from&&(t=o);for(;;){let s=t.enter(e,n,a);if(!s)return t;t=s}}class Dz{cursor(e=0){return new IS(this,e)}getChild(e,n=null,r=null){let i=u4(this,e,n,r);return i.length?i[0]:null}getChildren(e,n=null,r=null){return u4(this,e,n,r)}resolve(e,n=0){return ad(this,e,n,!1)}resolveInner(e,n=0){return ad(this,e,n,!0)}matchContext(e){return zS(this.parent,e)}enterUnfinishedNodesBefore(e){let n=this.childBefore(e),r=this;for(;n;){let i=n.lastChild;if(!i||i.to!=n.to)break;i.type.isError&&i.from==i.to?(r=n,n=i.prevSibling):n=i}return r}get node(){return this}get next(){return this.parent}}class Qr extends Dz{constructor(e,n,r,i){super(),this._tree=e,this.from=n,this.index=r,this._parent=i}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(e,n,r,i,a=0){for(let s=this;;){for(let{children:o,positions:u}=s._tree,f=n>0?o.length:-1;e!=f;e+=n){let h=o[e],p=u[e]+s.from,y;if(!(!(a&Mt.EnterBracketed&&h instanceof Lt&&(y=Af.get(h))&&!y.overlay&&y.bracketed&&r>=p&&r<=p+h.length)&&!_z(i,r,p,p+h.length))){if(h instanceof $s){if(a&Mt.ExcludeBuffers)continue;let x=h.findChild(0,h.buffer.length,n,r-p,i);if(x>-1)return new Os(new Vfe(s,h,e,p),null,x)}else if(a&Mt.IncludeAnonymous||!h.type.isAnonymous||yN(h)){let x;if(!(a&Mt.IgnoreMounts)&&(x=Af.get(h))&&!x.overlay)return new Qr(x.tree,p,e,s);let b=new Qr(h,p,e,s);return a&Mt.IncludeAnonymous||!b.type.isAnonymous?b:b.nextChild(n<0?h.children.length-1:0,n,r,i,a)}}}if(a&Mt.IncludeAnonymous||!s.type.isAnonymous||(s.index>=0?e=s.index+n:e=n<0?-1:s._parent._tree.children.length,s=s._parent,!s))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(e){return this.nextChild(0,1,e,2)}childBefore(e){return this.nextChild(this._tree.children.length-1,-1,e,-2)}prop(e){return this._tree.prop(e)}enter(e,n,r=0){let i;if(!(r&Mt.IgnoreOverlays)&&(i=Af.get(this._tree))&&i.overlay){let a=e-this.from,s=r&Mt.EnterBracketed&&i.bracketed;for(let{from:o,to:u}of i.overlay)if((n>0||s?o<=a:o<a)&&(n<0||s?u>=a:u>a))return new Qr(i.tree,i.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,e,n,r)}nextSignificantParent(){let e=this;for(;e.type.isAnonymous&&e._parent;)e=e._parent;return e}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function u4(t,e,n,r){let i=t.cursor(),a=[];if(!i.firstChild())return a;if(n!=null){for(let s=!1;!s;)if(s=i.type.is(n),!i.nextSibling())return a}for(;;){if(r!=null&&i.type.is(r))return a;if(i.type.is(e)&&a.push(i.node),!i.nextSibling())return r==null?a:[]}}function zS(t,e,n=e.length-1){for(let r=t;n>=0;r=r.parent){if(!r)return!1;if(!r.type.isAnonymous){if(e[n]&&e[n]!=r.name)return!1;n--}}return!0}class Vfe{constructor(e,n,r,i){this.parent=e,this.buffer=n,this.index=r,this.start=i}}class Os extends Dz{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(e,n,r){super(),this.context=e,this._parent=n,this.index=r,this.type=e.buffer.set.types[e.buffer.buffer[r]]}child(e,n,r){let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.context.start,r);return a<0?null:new Os(this.context,this,a)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(e){return this.child(1,e,2)}childBefore(e){return this.child(-1,e,-2)}prop(e){return this.type.prop(e)}enter(e,n,r=0){if(r&Mt.ExcludeBuffers)return null;let{buffer:i}=this.context,a=i.findChild(this.index+4,i.buffer[this.index+3],n>0?1:-1,e-this.context.start,n);return a<0?null:new Os(this.context,this,a)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(e){return this._parent?null:this.context.parent.nextChild(this.context.index+e,e,0,4)}get nextSibling(){let{buffer:e}=this.context,n=e.buffer[this.index+3];return n<(this._parent?e.buffer[this._parent.index+3]:e.buffer.length)?new Os(this.context,this._parent,n):this.externalSibling(1)}get prevSibling(){let{buffer:e}=this.context,n=this._parent?this._parent.index+4:0;return this.index==n?this.externalSibling(-1):new Os(this.context,this._parent,e.findChild(n,this.index,-1,0,4))}get tree(){return null}toTree(){let e=[],n=[],{buffer:r}=this.context,i=this.index+4,a=r.buffer[this.index+3];if(a>i){let s=r.buffer[this.index+1];e.push(r.slice(i,a,s)),n.push(0)}return new Lt(this.type,e,n,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function Pz(t){if(!t.length)return null;let e=0,n=t[0];for(let a=1;a<t.length;a++){let s=t[a];(s.from>n.from||s.to<n.to)&&(n=s,e=a)}let r=n instanceof Qr&&n.index<0?null:n.parent,i=t.slice();return r?i[e]=r:i.splice(e,1),new Ffe(i,n)}class Ffe{constructor(e,n){this.heads=e,this.node=n}get next(){return Pz(this.heads)}}function Wfe(t,e,n){let r=t.resolveInner(e,n),i=null;for(let a=r instanceof Qr?r:r.context.parent;a;a=a.parent)if(a.index<0){let s=a.parent;(i||(i=[r])).push(s.resolve(e,n)),a=s}else{let s=Af.get(a.tree);if(s&&s.overlay&&s.overlay[0].from<=e&&s.overlay[s.overlay.length-1].to>=e){let o=new Qr(s.tree,s.overlay[0].from+a.from,-1,a);(i||(i=[r])).push(ad(o,e,n,!1))}}return i?Pz(i):r}class IS{get name(){return this.type.name}constructor(e,n=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=n&~Mt.EnterBracketed,e instanceof Qr)this.yieldNode(e);else{this._tree=e.context.parent,this.buffer=e.context;for(let r=e._parent;r;r=r._parent)this.stack.unshift(r.index);this.bufferNode=e,this.yieldBuf(e.index)}}yieldNode(e){return e?(this._tree=e,this.type=e.type,this.from=e.from,this.to=e.to,!0):!1}yieldBuf(e,n){this.index=e;let{start:r,buffer:i}=this.buffer;return this.type=n||i.set.types[i.buffer[e]],this.from=r+i.buffer[e+1],this.to=r+i.buffer[e+2],!0}yield(e){return e?e instanceof Qr?(this.buffer=null,this.yieldNode(e)):(this.buffer=e.context,this.yieldBuf(e.index,e.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(e,n,r){if(!this.buffer)return this.yield(this._tree.nextChild(e<0?this._tree._tree.children.length-1:0,e,n,r,this.mode));let{buffer:i}=this.buffer,a=i.findChild(this.index+4,i.buffer[this.index+3],e,n-this.buffer.start,r);return a<0?!1:(this.stack.push(this.index),this.yieldBuf(a))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(e){return this.enterChild(1,e,2)}childBefore(e){return this.enterChild(-1,e,-2)}enter(e,n,r=this.mode){return this.buffer?r&Mt.ExcludeBuffers?!1:this.enterChild(1,e,n):this.yield(this._tree.enter(e,n,r))}parent(){if(!this.buffer)return this.yieldNode(this.mode&Mt.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let e=this.mode&Mt.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(e)}sibling(e){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+e,e,0,4,this.mode)):!1;let{buffer:n}=this.buffer,r=this.stack.length-1;if(e<0){let i=r<0?0:this.stack[r]+4;if(this.index!=i)return this.yieldBuf(n.findChild(i,this.index,-1,0,4))}else{let i=n.buffer[this.index+3];if(i<(r<0?n.buffer.length:n.buffer[this.stack[r]+3]))return this.yieldBuf(i)}return r<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+e,e,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(e){let n,r,{buffer:i}=this;if(i){if(e>0){if(this.index<i.buffer.buffer.length)return!1}else for(let a=0;a<this.index;a++)if(i.buffer.buffer[a+3]<this.index)return!1;({index:n,parent:r}=i)}else({index:n,_parent:r}=this._tree);for(;r;{index:n,_parent:r}=r)if(n>-1)for(let a=n+e,s=e<0?-1:r._tree.children.length;a!=s;a+=e){let o=r._tree.children[a];if(this.mode&Mt.IncludeAnonymous||o instanceof $s||!o.type.isAnonymous||yN(o))return!1}return!0}move(e,n){if(n&&this.enterChild(e,0,4))return!0;for(;;){if(this.sibling(e))return!0;if(this.atLastNode(e)||!this.parent())return!1}}next(e=!0){return this.move(1,e)}prev(e=!0){return this.move(-1,e)}moveTo(e,n=0){for(;(this.from==this.to||(n<1?this.from>=e:this.from>e)||(n>-1?this.to<=e:this.to<e))&&this.parent(););for(;this.enterChild(1,e,n););return this}get node(){if(!this.buffer)return this._tree;let e=this.bufferNode,n=null,r=0;if(e&&e.context==this.buffer)e:for(let i=this.index,a=this.stack.length;a>=0;){for(let s=e;s;s=s._parent)if(s.index==i){if(i==this.index)return s;n=s,r=a+1;break e}i=this.stack[--a]}for(let i=r;i<this.stack.length;i++)n=new Os(this.buffer,n,this.stack[i]);return this.bufferNode=new Os(this.buffer,n,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(e,n){for(let r=0;;){let i=!1;if(this.type.isAnonymous||e(this)!==!1){if(this.firstChild()){r++;continue}this.type.isAnonymous||(i=!0)}for(;;){if(i&&n&&n(this),i=this.type.isAnonymous,!r)return;if(this.nextSibling())break;this.parent(),r--,i=!0}}}matchContext(e){if(!this.buffer)return zS(this.node.parent,e);let{buffer:n}=this.buffer,{types:r}=n.set;for(let i=e.length-1,a=this.stack.length-1;i>=0;a--){if(a<0)return zS(this._tree,e,i);let s=r[n.buffer[this.stack[a]]];if(!s.isAnonymous){if(e[i]&&e[i]!=s.name)return!1;i--}}return!0}}function yN(t){return t.children.some(e=>e instanceof $s||!e.type.isAnonymous||yN(e))}function Gfe(t){var e;let{buffer:n,nodeSet:r,maxBufferLength:i=Mz,reused:a=[],minRepeatType:s=r.types.length}=t,o=Array.isArray(n)?new gN(n,n.length):n,u=r.types,f=0,h=0;function p(P,D,T,L,I,q){let{id:U,start:z,end:H,size:X}=o,W=h,V=f;if(X<0)if(o.next(),X==-1){let M=a[U];T.push(M),L.push(z-P);return}else if(X==-3){f=U;return}else if(X==-4){h=U;return}else throw new RangeError(`Unrecognized record size: ${X}`);let Y=u[U],J,oe,ge=z-P;if(H-z<=i&&(oe=S(o.pos-D,I))){let M=new Uint16Array(oe.size-oe.skip),$=o.pos-oe.size,te=M.length;for(;o.pos>$;)te=N(oe.start,M,te);J=new $s(M,H-oe.start,r),ge=oe.start-P}else{let M=o.pos-X;o.next();let $=[],te=[],K=U>=s?U:-1,ue=0,Q=H;for(;o.pos>M;)K>=0&&o.id==K&&o.size>=0?(o.end<=Q-i&&(b($,te,z,ue,o.end,Q,K,W,V),ue=$.length,Q=o.end),o.next()):q>2500?y(z,M,$,te):p(z,M,$,te,K,q+1);if(K>=0&&ue>0&&ue<$.length&&b($,te,z,ue,z,Q,K,W,V),$.reverse(),te.reverse(),K>-1&&ue>0){let me=x(Y,V);J=xN(Y,$,te,0,$.length,0,H-z,me,me)}else J=j(Y,$,te,H-z,W-H,V)}T.push(J),L.push(ge)}function y(P,D,T,L){let I=[],q=0,U=-1;for(;o.pos>D;){let{id:z,start:H,end:X,size:W}=o;if(W>4)o.next();else{if(U>-1&&H<U)break;U<0&&(U=X-i),I.push(z,H,X),q++,o.next()}}if(q){let z=new Uint16Array(q*4),H=I[I.length-2];for(let X=I.length-3,W=0;X>=0;X-=3)z[W++]=I[X],z[W++]=I[X+1]-H,z[W++]=I[X+2]-H,z[W++]=W;T.push(new $s(z,I[2]-H,r)),L.push(H-P)}}function x(P,D){return(T,L,I)=>{let q=0,U=T.length-1,z,H;if(U>=0&&(z=T[U])instanceof Lt){if(!U&&z.type==P&&z.length==I)return z;(H=z.prop(Ue.lookAhead))&&(q=L[U]+z.length+H)}return j(P,T,L,I,q,D)}}function b(P,D,T,L,I,q,U,z,H){let X=[],W=[];for(;P.length>L;)X.push(P.pop()),W.push(D.pop()+T-I);P.push(j(r.types[U],X,W,q-I,z-q,H)),D.push(I-T)}function j(P,D,T,L,I,q,U){if(q){let z=[Ue.contextHash,q];U=U?[z].concat(U):[z]}if(I>25){let z=[Ue.lookAhead,I];U=U?[z].concat(U):[z]}return new Lt(P,D,T,L,U)}function S(P,D){let T=o.fork(),L=0,I=0,q=0,U=T.end-i,z={size:0,start:0,skip:0};e:for(let H=T.pos-P;T.pos>H;){let X=T.size;if(T.id==D&&X>=0){z.size=L,z.start=I,z.skip=q,q+=4,L+=4,T.next();continue}let W=T.pos-X;if(X<0||W<H||T.start<U)break;let V=T.id>=s?4:0,Y=T.start;for(T.next();T.pos>W;){if(T.size<0)if(T.size==-3||T.size==-4)V+=4;else break e;else T.id>=s&&(V+=4);T.next()}I=Y,L+=X,q+=V}return(D<0||L==P)&&(z.size=L,z.start=I,z.skip=q),z.size>4?z:void 0}function N(P,D,T){let{id:L,start:I,end:q,size:U}=o;if(o.next(),U>=0&&L<s){let z=T;if(U>4){let H=o.pos-(U-4);for(;o.pos>H;)T=N(P,D,T)}D[--T]=z,D[--T]=q-P,D[--T]=I-P,D[--T]=L}else U==-3?f=L:U==-4&&(h=L);return T}let O=[],C=[];for(;o.pos>0;)p(t.start||0,t.bufferStart||0,O,C,-1,0);let _=(e=t.length)!==null&&e!==void 0?e:O.length?C[0]+O[0].length:0;return new Lt(u[t.topID],O.reverse(),C.reverse(),_)}const f4=new WeakMap;function sp(t,e){if(!t.isAnonymous||e instanceof $s||e.type!=t)return 1;let n=f4.get(e);if(n==null){n=1;for(let r of e.children){if(r.type!=t||!(r instanceof Lt)){n=1;break}n+=sp(t,r)}f4.set(e,n)}return n}function xN(t,e,n,r,i,a,s,o,u){let f=0;for(let b=r;b<i;b++)f+=sp(t,e[b]);let h=Math.ceil(f*1.5/8),p=[],y=[];function x(b,j,S,N,O){for(let C=S;C<N;){let _=C,P=j[C],D=sp(t,b[C]);for(C++;C<N;C++){let T=sp(t,b[C]);if(D+T>=h)break;D+=T}if(C==_+1){if(D>h){let T=b[_];x(T.children,T.positions,0,T.children.length,j[_]+O);continue}p.push(b[_])}else{let T=j[C-1]+b[C-1].length-P;p.push(xN(t,b,j,_,C,P,T,null,u))}y.push(P+O-a)}}return x(e,n,r,i,0),(o||u)(p,y,s)}class Ll{constructor(e,n,r,i,a=!1,s=!1){this.from=e,this.to=n,this.tree=r,this.offset=i,this.open=(a?1:0)|(s?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(e,n=[],r=!1){let i=[new Ll(0,e.length,e,0,!1,r)];for(let a of n)a.to>e.length&&i.push(a);return i}static applyChanges(e,n,r=128){if(!n.length)return e;let i=[],a=1,s=e.length?e[0]:null;for(let o=0,u=0,f=0;;o++){let h=o<n.length?n[o]:null,p=h?h.fromA:1e9;if(p-u>=r)for(;s&&s.from<p;){let y=s;if(u>=y.from||p<=y.to||f){let x=Math.max(y.from,u)-f,b=Math.min(y.to,p)-f;y=x>=b?null:new Ll(x,b,y.tree,y.offset+f,o>0,!!h)}if(y&&i.push(y),s.to>p)break;s=a<e.length?e[a++]:null}if(!h)break;u=h.toA,f=h.toA-h.toB}return i}}class Rz{startParse(e,n,r){return typeof e=="string"&&(e=new Kfe(e)),r=r?r.length?r.map(i=>new j1(i.from,i.to)):[new j1(0,0)]:[new j1(0,e.length)],this.createParse(e,n||[],r)}parse(e,n,r){let i=this.startParse(e,n,r);for(;;){let a=i.advance();if(a)return a}}}class Kfe{constructor(e){this.string=e}get length(){return this.string.length}chunk(e){return this.string.slice(e)}get lineChunks(){return!1}read(e,n){return this.string.slice(e,n)}}new Ue({perNode:!0});let Yfe=0;class Vr{constructor(e,n,r,i){this.name=e,this.set=n,this.base=r,this.modified=i,this.id=Yfe++}toString(){let{name:e}=this;for(let n of this.modified)n.name&&(e=`${n.name}(${e})`);return e}static define(e,n){let r=typeof e=="string"?e:"?";if(e instanceof Vr&&(n=e),n?.base)throw new Error("Can not derive from a modified tag");let i=new Vr(r,[],null,[]);if(i.set.push(i),n)for(let a of n.set)i.set.push(a);return i}static defineModifier(e){let n=new wg(e);return r=>r.modified.indexOf(n)>-1?r:wg.get(r.base||r,r.modified.concat(n).sort((i,a)=>i.id-a.id))}}let Qfe=0;class wg{constructor(e){this.name=e,this.instances=[],this.id=Qfe++}static get(e,n){if(!n.length)return e;let r=n[0].instances.find(o=>o.base==e&&Xfe(n,o.modified));if(r)return r;let i=[],a=new Vr(e.name,i,e,n);for(let o of n)o.instances.push(a);let s=Zfe(n);for(let o of e.set)if(!o.modified.length)for(let u of s)i.push(wg.get(o,u));return a}}function Xfe(t,e){return t.length==e.length&&t.every((n,r)=>n==e[r])}function Zfe(t){let e=[[]];for(let n=0;n<t.length;n++)for(let r=0,i=e.length;r<i;r++)e.push(e[r].concat(t[n]));return e.sort((n,r)=>r.length-n.length)}function Lz(t){let e=Object.create(null);for(let n in t){let r=t[n];Array.isArray(r)||(r=[r]);for(let i of n.split(" "))if(i){let a=[],s=2,o=i;for(let p=0;;){if(o=="..."&&p>0&&p+3==i.length){s=1;break}let y=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(o);if(!y)throw new RangeError("Invalid path: "+i);if(a.push(y[0]=="*"?"":y[0][0]=='"'?JSON.parse(y[0]):y[0]),p+=y[0].length,p==i.length)break;let x=i[p++];if(p==i.length&&x=="!"){s=0;break}if(x!="/")throw new RangeError("Invalid path: "+i);o=i.slice(p)}let u=a.length-1,f=a[u];if(!f)throw new RangeError("Invalid path: "+i);let h=new sd(r,s,u>0?a.slice(0,u):null);e[f]=h.sort(e[f])}}return Bz.add(e)}const Bz=new Ue({combine(t,e){let n,r,i;for(;t||e;){if(!t||e&&t.depth>=e.depth?(i=e,e=e.next):(i=t,t=t.next),n&&n.mode==i.mode&&!i.context&&!n.context)continue;let a=new sd(i.tags,i.mode,i.context);n?n.next=a:r=a,n=a}return r}});class sd{constructor(e,n,r,i){this.tags=e,this.mode=n,this.context=r,this.next=i}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(e){return!e||e.depth<this.depth?(this.next=e,this):(e.next=this.sort(e.next),e)}get depth(){return this.context?this.context.length:0}}sd.empty=new sd([],2,null);function zz(t,e){let n=Object.create(null);for(let a of t)if(!Array.isArray(a.tag))n[a.tag.id]=a.class;else for(let s of a.tag)n[s.id]=a.class;let{scope:r,all:i=null}=e||{};return{style:a=>{let s=i;for(let o of a)for(let u of o.set){let f=n[u.id];if(f){s=s?s+" "+f:f;break}}return s},scope:r}}function Jfe(t,e){let n=null;for(let r of t){let i=r.style(e);i&&(n=n?n+" "+i:i)}return n}function ede(t,e,n,r=0,i=t.length){let a=new tde(r,Array.isArray(e)?e:[e],n);a.highlightRange(t.cursor(),r,i,"",a.highlighters),a.flush(i)}class tde{constructor(e,n,r){this.at=e,this.highlighters=n,this.span=r,this.class=""}startSpan(e,n){n!=this.class&&(this.flush(e),e>this.at&&(this.at=e),this.class=n)}flush(e){e>this.at&&this.class&&this.span(this.at,e,this.class)}highlightRange(e,n,r,i,a){let{type:s,from:o,to:u}=e;if(o>=r||u<=n)return;s.isTop&&(a=this.highlighters.filter(x=>!x.scope||x.scope(s)));let f=i,h=nde(e)||sd.empty,p=Jfe(a,h.tags);if(p&&(f&&(f+=" "),f+=p,h.mode==1&&(i+=(i?" ":"")+p)),this.startSpan(Math.max(n,o),f),h.opaque)return;let y=e.tree&&e.tree.prop(Ue.mounted);if(y&&y.overlay){let x=e.node.enter(y.overlay[0].from+o,1),b=this.highlighters.filter(S=>!S.scope||S.scope(y.tree.type)),j=e.firstChild();for(let S=0,N=o;;S++){let O=S<y.overlay.length?y.overlay[S]:null,C=O?O.from+o:u,_=Math.max(n,N),P=Math.min(r,C);if(_<P&&j)for(;e.from<P&&(this.highlightRange(e,_,P,i,a),this.startSpan(Math.min(P,e.to),f),!(e.to>=C||!e.nextSibling())););if(!O||C>r)break;N=O.to+o,N>n&&(this.highlightRange(x.cursor(),Math.max(n,O.from+o),Math.min(r,N),"",b),this.startSpan(Math.min(r,N),f))}j&&e.parent()}else if(e.firstChild()){y&&(i="");do if(!(e.to<=n)){if(e.from>=r)break;this.highlightRange(e,n,r,i,a),this.startSpan(Math.min(r,e.to),f)}while(e.nextSibling());e.parent()}}}function nde(t){let e=t.type.prop(Bz);for(;e&&e.context&&!t.matchContext(e.context);)e=e.next;return e||null}const ye=Vr.define,Lm=ye(),vs=ye(),d4=ye(vs),h4=ye(vs),bs=ye(),Bm=ye(bs),N1=ye(bs),Ti=ye(),gl=ye(Ti),Ai=ye(),Ei=ye(),US=ye(),of=ye(US),zm=ye(),ae={comment:Lm,lineComment:ye(Lm),blockComment:ye(Lm),docComment:ye(Lm),name:vs,variableName:ye(vs),typeName:d4,tagName:ye(d4),propertyName:h4,attributeName:ye(h4),className:ye(vs),labelName:ye(vs),namespace:ye(vs),macroName:ye(vs),literal:bs,string:Bm,docString:ye(Bm),character:ye(Bm),attributeValue:ye(Bm),number:N1,integer:ye(N1),float:ye(N1),bool:ye(bs),regexp:ye(bs),escape:ye(bs),color:ye(bs),url:ye(bs),keyword:Ai,self:ye(Ai),null:ye(Ai),atom:ye(Ai),unit:ye(Ai),modifier:ye(Ai),operatorKeyword:ye(Ai),controlKeyword:ye(Ai),definitionKeyword:ye(Ai),moduleKeyword:ye(Ai),operator:Ei,derefOperator:ye(Ei),arithmeticOperator:ye(Ei),logicOperator:ye(Ei),bitwiseOperator:ye(Ei),compareOperator:ye(Ei),updateOperator:ye(Ei),definitionOperator:ye(Ei),typeOperator:ye(Ei),controlOperator:ye(Ei),punctuation:US,separator:ye(US),bracket:of,angleBracket:ye(of),squareBracket:ye(of),paren:ye(of),brace:ye(of),content:Ti,heading:gl,heading1:ye(gl),heading2:ye(gl),heading3:ye(gl),heading4:ye(gl),heading5:ye(gl),heading6:ye(gl),contentSeparator:ye(Ti),list:ye(Ti),quote:ye(Ti),emphasis:ye(Ti),strong:ye(Ti),link:ye(Ti),monospace:ye(Ti),strikethrough:ye(Ti),inserted:ye(),deleted:ye(),changed:ye(),invalid:ye(),meta:zm,documentMeta:ye(zm),annotation:ye(zm),processingInstruction:ye(zm),definition:Vr.defineModifier("definition"),constant:Vr.defineModifier("constant"),function:Vr.defineModifier("function"),standard:Vr.defineModifier("standard"),local:Vr.defineModifier("local"),special:Vr.defineModifier("special")};for(let t in ae){let e=ae[t];e instanceof Vr&&(e.name=t)}zz([{tag:ae.link,class:"tok-link"},{tag:ae.heading,class:"tok-heading"},{tag:ae.emphasis,class:"tok-emphasis"},{tag:ae.strong,class:"tok-strong"},{tag:ae.keyword,class:"tok-keyword"},{tag:ae.atom,class:"tok-atom"},{tag:ae.bool,class:"tok-bool"},{tag:ae.url,class:"tok-url"},{tag:ae.labelName,class:"tok-labelName"},{tag:ae.inserted,class:"tok-inserted"},{tag:ae.deleted,class:"tok-deleted"},{tag:ae.literal,class:"tok-literal"},{tag:ae.string,class:"tok-string"},{tag:ae.number,class:"tok-number"},{tag:[ae.regexp,ae.escape,ae.special(ae.string)],class:"tok-string2"},{tag:ae.variableName,class:"tok-variableName"},{tag:ae.local(ae.variableName),class:"tok-variableName tok-local"},{tag:ae.definition(ae.variableName),class:"tok-variableName tok-definition"},{tag:ae.special(ae.variableName),class:"tok-variableName2"},{tag:ae.definition(ae.propertyName),class:"tok-propertyName tok-definition"},{tag:ae.typeName,class:"tok-typeName"},{tag:ae.namespace,class:"tok-namespace"},{tag:ae.className,class:"tok-className"},{tag:ae.macroName,class:"tok-macroName"},{tag:ae.propertyName,class:"tok-propertyName"},{tag:ae.operator,class:"tok-operator"},{tag:ae.comment,class:"tok-comment"},{tag:ae.meta,class:"tok-meta"},{tag:ae.invalid,class:"tok-invalid"},{tag:ae.punctuation,class:"tok-punctuation"}]);var C1;const rc=new Ue;function rde(t){return be.define({combine:t?e=>e.concat(t):void 0})}const ide=new Ue;class ui{constructor(e,n,r=[],i=""){this.data=e,this.name=i,Ge.prototype.hasOwnProperty("tree")||Object.defineProperty(Ge.prototype,"tree",{get(){return ln(this)}}),this.parser=n,this.extension=[qs.of(this),Ge.languageData.of((a,s,o)=>{let u=m4(a,s,o),f=u.type.prop(rc);if(!f)return[];let h=a.facet(f),p=u.type.prop(ide);if(p){let y=u.resolve(s-u.from,o);for(let x of p)if(x.test(y,a)){let b=a.facet(x.facet);return x.type=="replace"?b:b.concat(h)}}return h})].concat(r)}isActiveAt(e,n,r=-1){return m4(e,n,r).type.prop(rc)==this.data}findRegions(e){let n=e.facet(qs);if(n?.data==this.data)return[{from:0,to:e.doc.length}];if(!n||!n.allowsNesting)return[];let r=[],i=(a,s)=>{if(a.prop(rc)==this.data){r.push({from:s,to:s+a.length});return}let o=a.prop(Ue.mounted);if(o){if(o.tree.prop(rc)==this.data){if(o.overlay)for(let u of o.overlay)r.push({from:u.from+s,to:u.to+s});else r.push({from:s,to:s+a.length});return}else if(o.overlay){let u=r.length;if(i(o.tree,o.overlay[0].from+s),r.length>u)return}}for(let u=0;u<a.children.length;u++){let f=a.children[u];f instanceof Lt&&i(f,a.positions[u]+s)}};return i(ln(e),0),r}get allowsNesting(){return!0}}ui.setState=Be.define();function m4(t,e,n){let r=t.facet(qs),i=ln(t).topNode;if(!r||r.allowsNesting)for(let a=i;a;a=a.enter(e,n,Mt.ExcludeBuffers|Mt.EnterBracketed))a.type.isTop&&(i=a);return i}class Sg extends ui{constructor(e,n,r){super(e,n,[],r),this.parser=n}static define(e){let n=rde(e.languageData);return new Sg(n,e.parser.configure({props:[rc.add(r=>r.isTop?n:void 0)]}),e.name)}configure(e,n){return new Sg(this.data,this.parser.configure(e),n||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function ln(t){let e=t.field(ui.state,!1);return e?e.tree:Lt.empty}class ade{constructor(e){this.doc=e,this.cursorPos=0,this.string="",this.cursor=e.iter()}get length(){return this.doc.length}syncTo(e){return this.string=this.cursor.next(e-this.cursorPos).value,this.cursorPos=e+this.string.length,this.cursorPos-this.string.length}chunk(e){return this.syncTo(e),this.string}get lineChunks(){return!0}read(e,n){let r=this.cursorPos-this.string.length;return e<r||n>=this.cursorPos?this.doc.sliceString(e,n):this.string.slice(e-r,n-r)}}let cf=null;class jg{constructor(e,n,r=[],i,a,s,o,u){this.parser=e,this.state=n,this.fragments=r,this.tree=i,this.treeLen=a,this.viewport=s,this.skipped=o,this.scheduleOn=u,this.parse=null,this.tempSkipped=[]}static create(e,n,r){return new jg(e,n,[],Lt.empty,0,r,[],null)}startParse(){return this.parser.startParse(new ade(this.state.doc),this.fragments)}work(e,n){return n!=null&&n>=this.state.doc.length&&(n=void 0),this.tree!=Lt.empty&&this.isDone(n??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var r;if(typeof e=="number"){let i=Date.now()+e;e=()=>Date.now()>i}for(this.parse||(this.parse=this.startParse()),n!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>n)&&n<this.state.doc.length&&this.parse.stopAt(n);;){let i=this.parse.advance();if(i)if(this.fragments=this.withoutTempSkipped(Ll.addTree(i,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(r=this.parse.stoppedAt)!==null&&r!==void 0?r:this.state.doc.length,this.tree=i,this.parse=null,this.treeLen<(n??this.state.doc.length))this.parse=this.startParse();else return!0;if(e())return!1}})}takeTree(){let e,n;this.parse&&(e=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>e)&&this.parse.stopAt(e),this.withContext(()=>{for(;!(n=this.parse.advance()););}),this.treeLen=e,this.tree=n,this.fragments=this.withoutTempSkipped(Ll.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(e){let n=cf;cf=this;try{return e()}finally{cf=n}}withoutTempSkipped(e){for(let n;n=this.tempSkipped.pop();)e=p4(e,n.from,n.to);return e}changes(e,n){let{fragments:r,tree:i,treeLen:a,viewport:s,skipped:o}=this;if(this.takeTree(),!e.empty){let u=[];if(e.iterChangedRanges((f,h,p,y)=>u.push({fromA:f,toA:h,fromB:p,toB:y})),r=Ll.applyChanges(r,u),i=Lt.empty,a=0,s={from:e.mapPos(s.from,-1),to:e.mapPos(s.to,1)},this.skipped.length){o=[];for(let f of this.skipped){let h=e.mapPos(f.from,1),p=e.mapPos(f.to,-1);h<p&&o.push({from:h,to:p})}}}return new jg(this.parser,n,r,i,a,s,o,this.scheduleOn)}updateViewport(e){if(this.viewport.from==e.from&&this.viewport.to==e.to)return!1;this.viewport=e;let n=this.skipped.length;for(let r=0;r<this.skipped.length;r++){let{from:i,to:a}=this.skipped[r];i<e.to&&a>e.from&&(this.fragments=p4(this.fragments,i,a),this.skipped.splice(r--,1))}return this.skipped.length>=n?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(e,n){this.skipped.push({from:e,to:n})}static getSkippingParser(e){return new class extends Rz{createParse(n,r,i){let a=i[0].from,s=i[i.length-1].to;return{parsedPos:a,advance(){let u=cf;if(u){for(let f of i)u.tempSkipped.push(f);e&&(u.scheduleOn=u.scheduleOn?Promise.all([u.scheduleOn,e]):e)}return this.parsedPos=s,new Lt(ar.none,[],[],s-a)},stoppedAt:null,stopAt(){}}}}}isDone(e){e=Math.min(e,this.state.doc.length);let n=this.fragments;return this.treeLen>=e&&n.length&&n[0].from==0&&n[0].to>=e}static get(){return cf}}function p4(t,e,n){return Ll.applyChanges(t,[{fromA:e,toA:n,fromB:e,toB:n}])}class Tc{constructor(e){this.context=e,this.tree=e.tree}apply(e){if(!e.docChanged&&this.tree==this.context.tree)return this;let n=this.context.changes(e.changes,e.state),r=this.context.treeLen==e.startState.doc.length?void 0:Math.max(e.changes.mapPos(this.context.treeLen),n.viewport.to);return n.work(20,r)||n.takeTree(),new Tc(n)}static init(e){let n=Math.min(3e3,e.doc.length),r=jg.create(e.facet(qs).parser,e,{from:0,to:n});return r.work(20,n)||r.takeTree(),new Tc(r)}}ui.state=On.define({create:Tc.init,update(t,e){for(let n of e.effects)if(n.is(ui.setState))return n.value;return e.startState.facet(qs)!=e.state.facet(qs)?Tc.init(e.state):t.apply(e)}});let Iz=t=>{let e=setTimeout(()=>t(),500);return()=>clearTimeout(e)};typeof requestIdleCallback<"u"&&(Iz=t=>{let e=-1,n=setTimeout(()=>{e=requestIdleCallback(t,{timeout:400})},100);return()=>e<0?clearTimeout(n):cancelIdleCallback(e)});const k1=typeof navigator<"u"&&(!((C1=navigator.scheduling)===null||C1===void 0)&&C1.isInputPending)?()=>navigator.scheduling.isInputPending():null,sde=Bt.fromClass(class{constructor(e){this.view=e,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(e){let n=this.view.state.field(ui.state).context;(n.updateViewport(e.view.viewport)||this.view.viewport.to>n.treeLen)&&this.scheduleWork(),(e.docChanged||e.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(n)}scheduleWork(){if(this.working)return;let{state:e}=this.view,n=e.field(ui.state);(n.tree!=n.context.tree||!n.context.isDone(e.doc.length))&&(this.working=Iz(this.work))}work(e){this.working=null;let n=Date.now();if(this.chunkEnd<n&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=n+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:r,viewport:{to:i}}=this.view,a=r.field(ui.state);if(a.tree==a.context.tree&&a.context.isDone(i+1e5))return;let s=Date.now()+Math.min(this.chunkBudget,100,e&&!k1?Math.max(25,e.timeRemaining()-5):1e9),o=a.context.treeLen<i&&r.doc.length>i+1e3,u=a.context.work(()=>k1&&k1()||Date.now()>s,i+(o?0:1e5));this.chunkBudget-=Date.now()-n,(u||this.chunkBudget<=0)&&(a.context.takeTree(),this.view.dispatch({effects:ui.setState.of(new Tc(a.context))})),this.chunkBudget>0&&!(u&&!o)&&this.scheduleWork(),this.checkAsyncSchedule(a.context)}checkAsyncSchedule(e){e.scheduleOn&&(this.workScheduled++,e.scheduleOn.then(()=>this.scheduleWork()).catch(n=>nr(this.view.state,n)).then(()=>this.workScheduled--),e.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),qs=be.define({combine(t){return t.length?t[0]:null},enables:t=>[ui.state,sde,xe.contentAttributes.compute([t],e=>{let n=e.facet(t);return n&&n.name?{"data-language":n.name}:{}})]});class lde{constructor(e,n=[]){this.language=e,this.support=n,this.extension=[e,n]}}const ode=be.define(),G0=be.define({combine:t=>{if(!t.length)return"  ";let e=t[0];if(!e||/\S/.test(e)||Array.from(e).some(n=>n!=e[0]))throw new Error("Invalid indent unit: "+JSON.stringify(t[0]));return e}});function Ng(t){let e=t.facet(G0);return e.charCodeAt(0)==9?t.tabSize*e.length:e.length}function ld(t,e){let n="",r=t.tabSize,i=t.facet(G0)[0];if(i=="	"){for(;e>=r;)n+="	",e-=r;i=" "}for(let a=0;a<e;a++)n+=i;return n}function vN(t,e){t instanceof Ge&&(t=new K0(t));for(let r of t.state.facet(ode)){let i=r(t,e);if(i!==void 0)return i}let n=ln(t.state);return n.length>=e?cde(t,n,e):null}class K0{constructor(e,n={}){this.state=e,this.options=n,this.unit=Ng(e)}lineAt(e,n=1){let r=this.state.doc.lineAt(e),{simulateBreak:i,simulateDoubleBreak:a}=this.options;return i!=null&&i>=r.from&&i<=r.to?a&&i==e?{text:"",from:e}:(n<0?i<e:i<=e)?{text:r.text.slice(i-r.from),from:i}:{text:r.text.slice(0,i-r.from),from:r.from}:r}textAfterPos(e,n=1){if(this.options.simulateDoubleBreak&&e==this.options.simulateBreak)return"";let{text:r,from:i}=this.lineAt(e,n);return r.slice(e-i,Math.min(r.length,e+100-i))}column(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.countColumn(r,e-i),s=this.options.overrideIndentation?this.options.overrideIndentation(i):-1;return s>-1&&(a+=s-this.countColumn(r,r.search(/\S|$/))),a}countColumn(e,n=e.length){return Yc(e,this.state.tabSize,n)}lineIndent(e,n=1){let{text:r,from:i}=this.lineAt(e,n),a=this.options.overrideIndentation;if(a){let s=a(i);if(s>-1)return s}return this.countColumn(r,r.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const Uz=new Ue;function cde(t,e,n){let r=e.resolveStack(n),i=e.resolveInner(n,-1).resolve(n,0).enterUnfinishedNodesBefore(n);if(i!=r.node){let a=[];for(let s=i;s&&!(s.from<r.node.from||s.to>r.node.to||s.from==r.node.from&&s.type==r.node.type);s=s.parent)a.push(s);for(let s=a.length-1;s>=0;s--)r={node:a[s],next:r}}return $z(r,t,n)}function $z(t,e,n){for(let r=t;r;r=r.next){let i=fde(r.node);if(i)return i(bN.create(e,n,r))}return 0}function ude(t){return t.pos==t.options.simulateBreak&&t.options.simulateDoubleBreak}function fde(t){let e=t.type.prop(Uz);if(e)return e;let n=t.firstChild,r;if(n&&(r=n.type.prop(Ue.closedBy))){let i=t.lastChild,a=i&&r.indexOf(i.name)>-1;return s=>pde(s,!0,1,void 0,a&&!ude(s)?i.from:void 0)}return t.parent==null?dde:null}function dde(){return 0}class bN extends K0{constructor(e,n,r){super(e.state,e.options),this.base=e,this.pos=n,this.context=r}get node(){return this.context.node}static create(e,n,r){return new bN(e,n,r)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(e){let n=this.state.doc.lineAt(e.from);for(;;){let r=e.resolve(n.from);for(;r.parent&&r.parent.from==r.from;)r=r.parent;if(hde(r,e))break;n=this.state.doc.lineAt(r.from)}return this.lineIndent(n.from)}continue(){return $z(this.context.next,this.base,this.pos)}}function hde(t,e){for(let n=e;n;n=n.parent)if(t==n)return!0;return!1}function mde(t){let e=t.node,n=e.childAfter(e.from),r=e.lastChild;if(!n)return null;let i=t.options.simulateBreak,a=t.state.doc.lineAt(n.from),s=i==null||i<=a.from?a.to:Math.min(a.to,i);for(let o=n.to;;){let u=e.childAfter(o);if(!u||u==r)return null;if(!u.type.isSkipped){if(u.from>=s)return null;let f=/^ */.exec(a.text.slice(n.to-a.from))[0].length;return{from:n.from,to:n.to+f}}o=u.to}}function pde(t,e,n,r,i){let a=t.textAfter,s=a.match(/^\s*/)[0].length,o=r&&a.slice(s,s+r.length)==r||i==t.pos+s,u=mde(t);return u?o?t.column(u.from):t.column(u.to):t.baseIndent+(o?0:t.unit*n)}function gde({except:t,units:e=1}={}){return n=>{let r=t&&t.test(n.textAfter);return n.baseIndent+(r?0:e*n.unit)}}const yde=200;function xde(){return Ge.transactionFilter.of(t=>{if(!t.docChanged||!t.isUserEvent("input.type")&&!t.isUserEvent("input.complete"))return t;let e=t.startState.languageDataAt("indentOnInput",t.startState.selection.main.head);if(!e.length)return t;let n=t.newDoc,{head:r}=t.newSelection.main,i=n.lineAt(r);if(r>i.from+yde)return t;let a=n.sliceString(i.from,r);if(!e.some(f=>f.test(a)))return t;let{state:s}=t,o=-1,u=[];for(let{head:f}of s.selection.ranges){let h=s.doc.lineAt(f);if(h.from==o)continue;o=h.from;let p=vN(s,h.from);if(p==null)continue;let y=/^\s*/.exec(h.text)[0],x=ld(s,p);y!=x&&u.push({from:h.from,to:h.from+y.length,insert:x})}return u.length?[t,{changes:u,sequential:!0}]:t})}const vde=be.define(),qz=new Ue;function bde(t,e,n){let r=ln(t);if(r.length<n)return null;let i=r.resolveStack(n,1),a=null;for(let s=i;s;s=s.next){let o=s.node;if(o.to<=n||o.from>n)continue;if(a&&o.from<e)break;let u=o.type.prop(qz);if(u&&(o.to<r.length-50||r.length==t.doc.length||!wde(o))){let f=u(o,t);f&&f.from<=n&&f.from>=e&&f.to>n&&(a=f)}}return a}function wde(t){let e=t.lastChild;return e&&e.to==t.to&&e.type.isError}function Cg(t,e,n){for(let r of t.facet(vde)){let i=r(t,e,n);if(i)return i}return bde(t,e,n)}function Hz(t,e){let n=e.mapPos(t.from,1),r=e.mapPos(t.to,-1);return n>=r?void 0:{from:n,to:r}}const Y0=Be.define({map:Hz}),Bd=Be.define({map:Hz});function Vz(t){let e=[];for(let{head:n}of t.state.selection.ranges)e.some(r=>r.from<=n&&r.to>=n)||e.push(t.lineBlockAt(n));return e}const eo=On.define({create(){return Me.none},update(t,e){e.isUserEvent("delete")&&e.changes.iterChangedRanges((n,r)=>t=g4(t,n,r)),t=t.map(e.changes);for(let n of e.effects)if(n.is(Y0)&&!Sde(t,n.value.from,n.value.to)){let{preparePlaceholder:r}=e.state.facet(Gz),i=r?Me.replace({widget:new Ede(r(e.state,n.value))}):y4;t=t.update({add:[i.range(n.value.from,n.value.to)]})}else n.is(Bd)&&(t=t.update({filter:(r,i)=>n.value.from!=r||n.value.to!=i,filterFrom:n.value.from,filterTo:n.value.to}));return e.selection&&(t=g4(t,e.selection.main.head)),t},provide:t=>xe.decorations.from(t),toJSON(t,e){let n=[];return t.between(0,e.doc.length,(r,i)=>{n.push(r,i)}),n},fromJSON(t){if(!Array.isArray(t)||t.length%2)throw new RangeError("Invalid JSON for fold state");let e=[];for(let n=0;n<t.length;){let r=t[n++],i=t[n++];if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid JSON for fold state");e.push(y4.range(r,i))}return Me.set(e,!0)}});function g4(t,e,n=e){let r=!1;return t.between(e,n,(i,a)=>{i<n&&a>e&&(r=!0)}),r?t.update({filterFrom:e,filterTo:n,filter:(i,a)=>i>=n||a<=e}):t}function kg(t,e,n){var r;let i=null;return(r=t.field(eo,!1))===null||r===void 0||r.between(e,n,(a,s)=>{(!i||i.from>a)&&(i={from:a,to:s})}),i}function Sde(t,e,n){let r=!1;return t.between(e,e,(i,a)=>{i==e&&a==n&&(r=!0)}),r}function Fz(t,e){return t.field(eo,!1)?e:e.concat(Be.appendConfig.of(Kz()))}const jde=t=>{for(let e of Vz(t)){let n=Cg(t.state,e.from,e.to);if(n)return t.dispatch({effects:Fz(t.state,[Y0.of(n),Wz(t,n)])}),!0}return!1},Nde=t=>{if(!t.state.field(eo,!1))return!1;let e=[];for(let n of Vz(t)){let r=kg(t.state,n.from,n.to);r&&e.push(Bd.of(r),Wz(t,r,!1))}return e.length&&t.dispatch({effects:e}),e.length>0};function Wz(t,e,n=!0){let r=t.state.doc.lineAt(e.from).number,i=t.state.doc.lineAt(e.to).number;return xe.announce.of(`${t.state.phrase(n?"Folded lines":"Unfolded lines")} ${r} ${t.state.phrase("to")} ${i}.`)}const Cde=t=>{let{state:e}=t,n=[];for(let r=0;r<e.doc.length;){let i=t.lineBlockAt(r),a=Cg(e,i.from,i.to);a&&n.push(Y0.of(a)),r=(a?t.lineBlockAt(a.to):i).to+1}return n.length&&t.dispatch({effects:Fz(t.state,n)}),!!n.length},kde=t=>{let e=t.state.field(eo,!1);if(!e||!e.size)return!1;let n=[];return e.between(0,t.state.doc.length,(r,i)=>{n.push(Bd.of({from:r,to:i}))}),t.dispatch({effects:n}),!0},Ode=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:jde},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:Nde},{key:"Ctrl-Alt-[",run:Cde},{key:"Ctrl-Alt-]",run:kde}],Ade={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},Gz=be.define({combine(t){return Qi(t,Ade)}});function Kz(t){return[eo,_de]}function Yz(t,e){let{state:n}=t,r=n.facet(Gz),i=s=>{let o=t.lineBlockAt(t.posAtDOM(s.target)),u=kg(t.state,o.from,o.to);u&&t.dispatch({effects:Bd.of(u)}),s.preventDefault()};if(r.placeholderDOM)return r.placeholderDOM(t,i,e);let a=document.createElement("span");return a.textContent=r.placeholderText,a.setAttribute("aria-label",n.phrase("folded code")),a.title=n.phrase("unfold"),a.className="cm-foldPlaceholder",a.onclick=i,a}const y4=Me.replace({widget:new class extends Xi{toDOM(t){return Yz(t,null)}}});class Ede extends Xi{constructor(e){super(),this.value=e}eq(e){return this.value==e.value}toDOM(e){return Yz(e,this.value)}}const Tde={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class O1 extends La{constructor(e,n){super(),this.config=e,this.open=n}eq(e){return this.config==e.config&&this.open==e.open}toDOM(e){if(this.config.markerDOM)return this.config.markerDOM(this.open);let n=document.createElement("span");return n.textContent=this.open?this.config.openText:this.config.closedText,n.title=e.state.phrase(this.open?"Fold line":"Unfold line"),n}}function Mde(t={}){let e={...Tde,...t},n=new O1(e,!0),r=new O1(e,!1),i=Bt.fromClass(class{constructor(s){this.from=s.viewport.from,this.markers=this.buildMarkers(s)}update(s){(s.docChanged||s.viewportChanged||s.startState.facet(qs)!=s.state.facet(qs)||s.startState.field(eo,!1)!=s.state.field(eo,!1)||ln(s.startState)!=ln(s.state)||e.foldingChanged(s))&&(this.markers=this.buildMarkers(s.view))}buildMarkers(s){let o=new Pa;for(let u of s.viewportLineBlocks){let f=kg(s.state,u.from,u.to)?r:Cg(s.state,u.from,u.to)?n:null;f&&o.add(u.from,u.from,f)}return o.finish()}}),{domEventHandlers:a}=e;return[i,Mfe({class:"cm-foldGutter",markers(s){var o;return((o=s.plugin(i))===null||o===void 0?void 0:o.markers)||He.empty},initialSpacer(){return new O1(e,!1)},domEventHandlers:{...a,click:(s,o,u)=>{if(a.click&&a.click(s,o,u))return!0;let f=kg(s.state,o.from,o.to);if(f)return s.dispatch({effects:Bd.of(f)}),!0;let h=Cg(s.state,o.from,o.to);return h?(s.dispatch({effects:Y0.of(h)}),!0):!1}}}),Kz()]}const _de=xe.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class zd{constructor(e,n){this.specs=e;let r;function i(o){let u=zs.newName();return(r||(r=Object.create(null)))["."+u]=o,u}const a=typeof n.all=="string"?n.all:n.all?i(n.all):void 0,s=n.scope;this.scope=s instanceof ui?o=>o.prop(rc)==s.data:s?o=>o==s:void 0,this.style=zz(e.map(o=>({tag:o.tag,class:o.class||i(Object.assign({},o,{tag:null}))})),{all:a}).style,this.module=r?new zs(r):null,this.themeType=n.themeType}static define(e,n){return new zd(e,n||{})}}const $S=be.define(),Qz=be.define({combine(t){return t.length?[t[0]]:null}});function A1(t){let e=t.facet($S);return e.length?e:t.facet(Qz)}function Xz(t,e){let n=[Pde],r;return t instanceof zd&&(t.module&&n.push(xe.styleModule.of(t.module)),r=t.themeType),e?.fallback?n.push(Qz.of(t)):r?n.push($S.computeN([xe.darkTheme],i=>i.facet(xe.darkTheme)==(r=="dark")?[t]:[])):n.push($S.of(t)),n}class Dde{constructor(e){this.markCache=Object.create(null),this.tree=ln(e.state),this.decorations=this.buildDeco(e,A1(e.state)),this.decoratedTo=e.viewport.to}update(e){let n=ln(e.state),r=A1(e.state),i=r!=A1(e.startState),{viewport:a}=e.view,s=e.changes.mapPos(this.decoratedTo,1);n.length<a.to&&!i&&n.type==this.tree.type&&s>=a.to?(this.decorations=this.decorations.map(e.changes),this.decoratedTo=s):(n!=this.tree||e.viewportChanged||i)&&(this.tree=n,this.decorations=this.buildDeco(e.view,r),this.decoratedTo=a.to)}buildDeco(e,n){if(!n||!this.tree.length)return Me.none;let r=new Pa;for(let{from:i,to:a}of e.visibleRanges)ede(this.tree,n,(s,o,u)=>{r.add(s,o,this.markCache[u]||(this.markCache[u]=Me.mark({class:u})))},i,a);return r.finish()}}const Pde=io.high(Bt.fromClass(Dde,{decorations:t=>t.decorations})),Rde=zd.define([{tag:ae.meta,color:"#404740"},{tag:ae.link,textDecoration:"underline"},{tag:ae.heading,textDecoration:"underline",fontWeight:"bold"},{tag:ae.emphasis,fontStyle:"italic"},{tag:ae.strong,fontWeight:"bold"},{tag:ae.strikethrough,textDecoration:"line-through"},{tag:ae.keyword,color:"#708"},{tag:[ae.atom,ae.bool,ae.url,ae.contentSeparator,ae.labelName],color:"#219"},{tag:[ae.literal,ae.inserted],color:"#164"},{tag:[ae.string,ae.deleted],color:"#a11"},{tag:[ae.regexp,ae.escape,ae.special(ae.string)],color:"#e40"},{tag:ae.definition(ae.variableName),color:"#00f"},{tag:ae.local(ae.variableName),color:"#30a"},{tag:[ae.typeName,ae.namespace],color:"#085"},{tag:ae.className,color:"#167"},{tag:[ae.special(ae.variableName),ae.macroName],color:"#256"},{tag:ae.definition(ae.propertyName),color:"#00c"},{tag:ae.comment,color:"#940"},{tag:ae.invalid,color:"#f00"}]),Lde=xe.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),Zz=1e4,Jz="()[]{}",eI=be.define({combine(t){return Qi(t,{afterCursor:!0,brackets:Jz,maxScanDistance:Zz,renderMatch:Ide})}}),Bde=Me.mark({class:"cm-matchingBracket"}),zde=Me.mark({class:"cm-nonmatchingBracket"});function Ide(t){let e=[],n=t.matched?Bde:zde;return e.push(n.range(t.start.from,t.start.to)),t.end&&e.push(n.range(t.end.from,t.end.to)),e}const Ude=On.define({create(){return Me.none},update(t,e){if(!e.docChanged&&!e.selection)return t;let n=[],r=e.state.facet(eI);for(let i of e.state.selection.ranges){if(!i.empty)continue;let a=zi(e.state,i.head,-1,r)||i.head>0&&zi(e.state,i.head-1,1,r)||r.afterCursor&&(zi(e.state,i.head,1,r)||i.head<e.state.doc.length&&zi(e.state,i.head+1,-1,r));a&&(n=n.concat(r.renderMatch(a,e.state)))}return Me.set(n,!0)},provide:t=>xe.decorations.from(t)}),$de=[Ude,Lde];function qde(t={}){return[eI.of(t),$de]}const Hde=new Ue;function qS(t,e,n){let r=t.prop(e<0?Ue.openedBy:Ue.closedBy);if(r)return r;if(t.name.length==1){let i=n.indexOf(t.name);if(i>-1&&i%2==(e<0?1:0))return[n[i+e]]}return null}function HS(t){let e=t.type.prop(Hde);return e?e(t.node):t}function zi(t,e,n,r={}){let i=r.maxScanDistance||Zz,a=r.brackets||Jz,s=ln(t),o=s.resolveInner(e,n);for(let u=o;u;u=u.parent){let f=qS(u.type,n,a);if(f&&u.from<u.to){let h=HS(u);if(h&&(n>0?e>=h.from&&e<h.to:e>h.from&&e<=h.to))return Vde(t,e,n,u,h,f,a)}}return Fde(t,e,n,s,o.type,i,a)}function Vde(t,e,n,r,i,a,s){let o=r.parent,u={from:i.from,to:i.to},f=0,h=o?.cursor();if(h&&(n<0?h.childBefore(r.from):h.childAfter(r.to)))do if(n<0?h.to<=r.from:h.from>=r.to){if(f==0&&a.indexOf(h.type.name)>-1&&h.from<h.to){let p=HS(h);return{start:u,end:p?{from:p.from,to:p.to}:void 0,matched:!0}}else if(qS(h.type,n,s))f++;else if(qS(h.type,-n,s)){if(f==0){let p=HS(h);return{start:u,end:p&&p.from<p.to?{from:p.from,to:p.to}:void 0,matched:!1}}f--}}while(n<0?h.prevSibling():h.nextSibling());return{start:u,matched:!1}}function Fde(t,e,n,r,i,a,s){let o=n<0?t.sliceDoc(e-1,e):t.sliceDoc(e,e+1),u=s.indexOf(o);if(u<0||u%2==0!=n>0)return null;let f={from:n<0?e-1:e,to:n>0?e+1:e},h=t.doc.iterRange(e,n>0?t.doc.length:0),p=0;for(let y=0;!h.next().done&&y<=a;){let x=h.value;n<0&&(y+=x.length);let b=e+y*n;for(let j=n>0?0:x.length-1,S=n>0?x.length:-1;j!=S;j+=n){let N=s.indexOf(x[j]);if(!(N<0||r.resolveInner(b+j,1).type!=i))if(N%2==0==n>0)p++;else{if(p==1)return{start:f,end:{from:b+j,to:b+j+1},matched:N>>1==u>>1};p--}}n>0&&(y+=x.length)}return h.done?{start:f,matched:!1}:null}const Wde=Object.create(null),x4=[ar.none],v4=[],b4=Object.create(null),Gde=Object.create(null);for(let[t,e]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])Gde[t]=Kde(Wde,e);function E1(t,e){v4.indexOf(t)>-1||(v4.push(t),console.warn(e))}function Kde(t,e){let n=[];for(let o of e.split(" ")){let u=[];for(let f of o.split(".")){let h=t[f]||ae[f];h?typeof h=="function"?u.length?u=u.map(h):E1(f,`Modifier ${f} used at start of tag`):u.length?E1(f,`Tag ${f} used as modifier`):u=Array.isArray(h)?h:[h]:E1(f,`Unknown highlighting tag ${f}`)}for(let f of u)n.push(f)}if(!n.length)return 0;let r=e.replace(/ /g,"_"),i=r+" "+n.map(o=>o.id),a=b4[i];if(a)return a.id;let s=b4[i]=ar.define({id:x4.length,name:r,props:[Lz({[r]:n})]});return x4.push(s),s.id}dt.RTL,dt.LTR;const Yde=t=>{let{state:e}=t,n=e.doc.lineAt(e.selection.main.from),r=SN(t.state,n.from);return r.line?Qde(t):r.block?Zde(t):!1};function wN(t,e){return({state:n,dispatch:r})=>{if(n.readOnly)return!1;let i=t(e,n);return i?(r(n.update(i)),!0):!1}}const Qde=wN(the,0),Xde=wN(tI,0),Zde=wN((t,e)=>tI(t,e,ehe(e)),0);function SN(t,e){let n=t.languageDataAt("commentTokens",e,1);return n.length?n[0]:{}}const uf=50;function Jde(t,{open:e,close:n},r,i){let a=t.sliceDoc(r-uf,r),s=t.sliceDoc(i,i+uf),o=/\s*$/.exec(a)[0].length,u=/^\s*/.exec(s)[0].length,f=a.length-o;if(a.slice(f-e.length,f)==e&&s.slice(u,u+n.length)==n)return{open:{pos:r-o,margin:o&&1},close:{pos:i+u,margin:u&&1}};let h,p;i-r<=2*uf?h=p=t.sliceDoc(r,i):(h=t.sliceDoc(r,r+uf),p=t.sliceDoc(i-uf,i));let y=/^\s*/.exec(h)[0].length,x=/\s*$/.exec(p)[0].length,b=p.length-x-n.length;return h.slice(y,y+e.length)==e&&p.slice(b,b+n.length)==n?{open:{pos:r+y+e.length,margin:/\s/.test(h.charAt(y+e.length))?1:0},close:{pos:i-x-n.length,margin:/\s/.test(p.charAt(b-1))?1:0}}:null}function ehe(t){let e=[];for(let n of t.selection.ranges){let r=t.doc.lineAt(n.from),i=n.to<=r.to?r:t.doc.lineAt(n.to);i.from>r.from&&i.from==n.to&&(i=n.to==r.to+1?r:t.doc.lineAt(n.to-1));let a=e.length-1;a>=0&&e[a].to>r.from?e[a].to=i.to:e.push({from:r.from+/^\s*/.exec(r.text)[0].length,to:i.to})}return e}function tI(t,e,n=e.selection.ranges){let r=n.map(a=>SN(e,a.from).block);if(!r.every(a=>a))return null;let i=n.map((a,s)=>Jde(e,r[s],a.from,a.to));if(t!=2&&!i.every(a=>a))return{changes:e.changes(n.map((a,s)=>i[s]?[]:[{from:a.from,insert:r[s].open+" "},{from:a.to,insert:" "+r[s].close}]))};if(t!=1&&i.some(a=>a)){let a=[];for(let s=0,o;s<i.length;s++)if(o=i[s]){let u=r[s],{open:f,close:h}=o;a.push({from:f.pos-u.open.length,to:f.pos+f.margin},{from:h.pos-h.margin,to:h.pos+u.close.length})}return{changes:a}}return null}function the(t,e,n=e.selection.ranges){let r=[],i=-1;e:for(let{from:a,to:s}of n){let o=r.length,u=1e9,f;for(let h=a;h<=s;){let p=e.doc.lineAt(h);if(f==null&&(f=SN(e,p.from).line,!f))continue e;if(p.from>i&&(a==s||s>p.from)){i=p.from;let y=/^\s*/.exec(p.text)[0].length,x=y==p.length,b=p.text.slice(y,y+f.length)==f?y:-1;y<p.text.length&&y<u&&(u=y),r.push({line:p,comment:b,token:f,indent:y,empty:x,single:!1})}h=p.to+1}if(u<1e9)for(let h=o;h<r.length;h++)r[h].indent<r[h].line.text.length&&(r[h].indent=u);r.length==o+1&&(r[o].single=!0)}if(t!=2&&r.some(a=>a.comment<0&&(!a.empty||a.single))){let a=[];for(let{line:o,token:u,indent:f,empty:h,single:p}of r)(p||!h)&&a.push({from:o.from+f,insert:u+" "});let s=e.changes(a);return{changes:s,selection:e.selection.map(s,1)}}else if(t!=1&&r.some(a=>a.comment>=0)){let a=[];for(let{line:s,comment:o,token:u}of r)if(o>=0){let f=s.from+o,h=f+u.length;s.text[h-s.from]==" "&&h++,a.push({from:f,to:h})}return{changes:a}}return null}const VS=Yi.define(),nhe=Yi.define(),rhe=be.define(),nI=be.define({combine(t){return Qi(t,{minDepth:100,newGroupDelay:500,joinToEvent:(e,n)=>n},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(e,n)=>(r,i)=>e(r,i)||n(r,i)})}}),rI=On.define({create(){return Ii.empty},update(t,e){let n=e.state.facet(nI),r=e.annotation(VS);if(r){let u=rr.fromTransaction(e,r.selection),f=r.side,h=f==0?t.undone:t.done;return u?h=Og(h,h.length,n.minDepth,u):h=sI(h,e.startState.selection),new Ii(f==0?r.rest:h,f==0?h:r.rest)}let i=e.annotation(nhe);if((i=="full"||i=="before")&&(t=t.isolate()),e.annotation(Qt.addToHistory)===!1)return e.changes.empty?t:t.addMapping(e.changes.desc);let a=rr.fromTransaction(e),s=e.annotation(Qt.time),o=e.annotation(Qt.userEvent);return a?t=t.addChanges(a,s,o,n,e):e.selection&&(t=t.addSelection(e.startState.selection,s,o,n.newGroupDelay)),(i=="full"||i=="after")&&(t=t.isolate()),t},toJSON(t){return{done:t.done.map(e=>e.toJSON()),undone:t.undone.map(e=>e.toJSON())}},fromJSON(t){return new Ii(t.done.map(rr.fromJSON),t.undone.map(rr.fromJSON))}});function ihe(t={}){return[rI,nI.of(t),xe.domEventHandlers({beforeinput(e,n){let r=e.inputType=="historyUndo"?iI:e.inputType=="historyRedo"?FS:null;return r?(e.preventDefault(),r(n)):!1}})]}function Q0(t,e){return function({state:n,dispatch:r}){if(!e&&n.readOnly)return!1;let i=n.field(rI,!1);if(!i)return!1;let a=i.pop(t,n,e);return a?(r(a),!0):!1}}const iI=Q0(0,!1),FS=Q0(1,!1),ahe=Q0(0,!0),she=Q0(1,!0);class rr{constructor(e,n,r,i,a){this.changes=e,this.effects=n,this.mapped=r,this.startSelection=i,this.selectionsAfter=a}setSelAfter(e){return new rr(this.changes,this.effects,this.mapped,this.startSelection,e)}toJSON(){var e,n,r;return{changes:(e=this.changes)===null||e===void 0?void 0:e.toJSON(),mapped:(n=this.mapped)===null||n===void 0?void 0:n.toJSON(),startSelection:(r=this.startSelection)===null||r===void 0?void 0:r.toJSON(),selectionsAfter:this.selectionsAfter.map(i=>i.toJSON())}}static fromJSON(e){return new rr(e.changes&&Yt.fromJSON(e.changes),[],e.mapped&&qi.fromJSON(e.mapped),e.startSelection&&he.fromJSON(e.startSelection),e.selectionsAfter.map(he.fromJSON))}static fromTransaction(e,n){let r=Kr;for(let i of e.startState.facet(rhe)){let a=i(e);a.length&&(r=r.concat(a))}return!r.length&&e.changes.empty?null:new rr(e.changes.invert(e.startState.doc),r,void 0,n||e.startState.selection,Kr)}static selection(e){return new rr(void 0,Kr,void 0,void 0,e)}}function Og(t,e,n,r){let i=e+1>n+20?e-n-1:0,a=t.slice(i,e);return a.push(r),a}function lhe(t,e){let n=[],r=!1;return t.iterChangedRanges((i,a)=>n.push(i,a)),e.iterChangedRanges((i,a,s,o)=>{for(let u=0;u<n.length;){let f=n[u++],h=n[u++];o>=f&&s<=h&&(r=!0)}}),r}function ohe(t,e){return t.ranges.length==e.ranges.length&&t.ranges.filter((n,r)=>n.empty!=e.ranges[r].empty).length===0}function aI(t,e){return t.length?e.length?t.concat(e):t:e}const Kr=[],che=200;function sI(t,e){if(t.length){let n=t[t.length-1],r=n.selectionsAfter.slice(Math.max(0,n.selectionsAfter.length-che));return r.length&&r[r.length-1].eq(e)?t:(r.push(e),Og(t,t.length-1,1e9,n.setSelAfter(r)))}else return[rr.selection([e])]}function uhe(t){let e=t[t.length-1],n=t.slice();return n[t.length-1]=e.setSelAfter(e.selectionsAfter.slice(0,e.selectionsAfter.length-1)),n}function T1(t,e){if(!t.length)return t;let n=t.length,r=Kr;for(;n;){let i=fhe(t[n-1],e,r);if(i.changes&&!i.changes.empty||i.effects.length){let a=t.slice(0,n);return a[n-1]=i,a}else e=i.mapped,n--,r=i.selectionsAfter}return r.length?[rr.selection(r)]:Kr}function fhe(t,e,n){let r=aI(t.selectionsAfter.length?t.selectionsAfter.map(o=>o.map(e)):Kr,n);if(!t.changes)return rr.selection(r);let i=t.changes.map(e),a=e.mapDesc(t.changes,!0),s=t.mapped?t.mapped.composeDesc(a):a;return new rr(i,Be.mapEffects(t.effects,e),s,t.startSelection.map(a),r)}const dhe=/^(input\.type|delete)($|\.)/;class Ii{constructor(e,n,r=0,i=void 0){this.done=e,this.undone=n,this.prevTime=r,this.prevUserEvent=i}isolate(){return this.prevTime?new Ii(this.done,this.undone):this}addChanges(e,n,r,i,a){let s=this.done,o=s[s.length-1];return o&&o.changes&&!o.changes.empty&&e.changes&&(!r||dhe.test(r))&&(!o.selectionsAfter.length&&n-this.prevTime<i.newGroupDelay&&i.joinToEvent(a,lhe(o.changes,e.changes))||r=="input.type.compose")?s=Og(s,s.length-1,i.minDepth,new rr(e.changes.compose(o.changes),aI(Be.mapEffects(e.effects,o.changes),o.effects),o.mapped,o.startSelection,Kr)):s=Og(s,s.length,i.minDepth,e),new Ii(s,Kr,n,r)}addSelection(e,n,r,i){let a=this.done.length?this.done[this.done.length-1].selectionsAfter:Kr;return a.length>0&&n-this.prevTime<i&&r==this.prevUserEvent&&r&&/^select($|\.)/.test(r)&&ohe(a[a.length-1],e)?this:new Ii(sI(this.done,e),this.undone,n,r)}addMapping(e){return new Ii(T1(this.done,e),T1(this.undone,e),this.prevTime,this.prevUserEvent)}pop(e,n,r){let i=e==0?this.done:this.undone;if(i.length==0)return null;let a=i[i.length-1],s=a.selectionsAfter[0]||(a.startSelection?a.startSelection.map(a.changes.invertedDesc,1):n.selection);if(r&&a.selectionsAfter.length)return n.update({selection:a.selectionsAfter[a.selectionsAfter.length-1],annotations:VS.of({side:e,rest:uhe(i),selection:s}),userEvent:e==0?"select.undo":"select.redo",scrollIntoView:!0});if(a.changes){let o=i.length==1?Kr:i.slice(0,i.length-1);return a.mapped&&(o=T1(o,a.mapped)),n.update({changes:a.changes,selection:a.startSelection,effects:a.effects,annotations:VS.of({side:e,rest:o,selection:s}),filter:!1,userEvent:e==0?"undo":"redo",scrollIntoView:!0})}else return null}}Ii.empty=new Ii(Kr,Kr);const hhe=[{key:"Mod-z",run:iI,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:FS,preventDefault:!0},{linux:"Ctrl-Shift-z",run:FS,preventDefault:!0},{key:"Mod-u",run:ahe,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:she,preventDefault:!0}];function Qc(t,e){return he.create(t.ranges.map(e),t.mainIndex)}function xi(t,e){return t.update({selection:e,scrollIntoView:!0,userEvent:"select"})}function vi({state:t,dispatch:e},n){let r=Qc(t.selection,n);return r.eq(t.selection,!0)?!1:(e(xi(t,r)),!0)}function X0(t,e){return he.cursor(e?t.to:t.from)}function lI(t,e){return vi(t,n=>n.empty?t.moveByChar(n,e):X0(n,e))}function Dn(t){return t.textDirectionAt(t.state.selection.main.head)==dt.LTR}const oI=t=>lI(t,!Dn(t)),cI=t=>lI(t,Dn(t));function uI(t,e){return vi(t,n=>n.empty?t.moveByGroup(n,e):X0(n,e))}const mhe=t=>uI(t,!Dn(t)),phe=t=>uI(t,Dn(t));function ghe(t,e,n){if(e.type.prop(n))return!0;let r=e.to-e.from;return r&&(r>2||/[^\s,.;:]/.test(t.sliceDoc(e.from,e.to)))||e.firstChild}function Z0(t,e,n){let r=ln(t).resolveInner(e.head),i=n?Ue.closedBy:Ue.openedBy;for(let u=e.head;;){let f=n?r.childAfter(u):r.childBefore(u);if(!f)break;ghe(t,f,i)?r=f:u=n?f.to:f.from}let a=r.type.prop(i),s,o;return a&&(s=n?zi(t,r.from,1):zi(t,r.to,-1))&&s.matched?o=n?s.end.to:s.end.from:o=n?r.to:r.from,he.cursor(o,n?-1:1)}const yhe=t=>vi(t,e=>Z0(t.state,e,!Dn(t))),xhe=t=>vi(t,e=>Z0(t.state,e,Dn(t)));function fI(t,e){return vi(t,n=>{if(!n.empty)return X0(n,e);let r=t.moveVertically(n,e);return r.head!=n.head?r:t.moveToLineBoundary(n,e)})}const dI=t=>fI(t,!1),hI=t=>fI(t,!0);function mI(t){let e=t.scrollDOM.clientHeight<t.scrollDOM.scrollHeight-2,n=0,r=0,i;if(e){for(let a of t.state.facet(xe.scrollMargins)){let s=a(t);s?.top&&(n=Math.max(s?.top,n)),s?.bottom&&(r=Math.max(s?.bottom,r))}i=t.scrollDOM.clientHeight-n-r}else i=(t.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:n,marginBottom:r,selfScroll:e,height:Math.max(t.defaultLineHeight,i-5)}}function pI(t,e){let n=mI(t),{state:r}=t,i=Qc(r.selection,s=>s.empty?t.moveVertically(s,e,n.height):X0(s,e));if(i.eq(r.selection))return!1;let a;if(n.selfScroll){let s=t.coordsAtPos(r.selection.main.head),o=t.scrollDOM.getBoundingClientRect(),u=o.top+n.marginTop,f=o.bottom-n.marginBottom;s&&s.top>u&&s.bottom<f&&(a=xe.scrollIntoView(i.main.head,{y:"start",yMargin:s.top-u}))}return t.dispatch(xi(r,i),{effects:a}),!0}const w4=t=>pI(t,!1),WS=t=>pI(t,!0);function Ks(t,e,n){let r=t.lineBlockAt(e.head),i=t.moveToLineBoundary(e,n);if(i.head==e.head&&i.head!=(n?r.to:r.from)&&(i=t.moveToLineBoundary(e,n,!1)),!n&&i.head==r.from&&r.length){let a=/^\s*/.exec(t.state.sliceDoc(r.from,Math.min(r.from+100,r.to)))[0].length;a&&e.head!=r.from+a&&(i=he.cursor(r.from+a))}return i}const vhe=t=>vi(t,e=>Ks(t,e,!0)),bhe=t=>vi(t,e=>Ks(t,e,!1)),whe=t=>vi(t,e=>Ks(t,e,!Dn(t))),She=t=>vi(t,e=>Ks(t,e,Dn(t))),jhe=t=>vi(t,e=>he.cursor(t.lineBlockAt(e.head).from,1)),Nhe=t=>vi(t,e=>he.cursor(t.lineBlockAt(e.head).to,-1));function Che(t,e,n){let r=!1,i=Qc(t.selection,a=>{let s=zi(t,a.head,-1)||zi(t,a.head,1)||a.head>0&&zi(t,a.head-1,1)||a.head<t.doc.length&&zi(t,a.head+1,-1);if(!s||!s.end)return a;r=!0;let o=s.start.from==a.head?s.end.to:s.end.from;return he.cursor(o)});return r?(e(xi(t,i)),!0):!1}const khe=({state:t,dispatch:e})=>Che(t,e);function ti(t,e){let n=Qc(t.state.selection,r=>{let i=e(r);return he.range(r.anchor,i.head,i.goalColumn,i.bidiLevel||void 0)});return n.eq(t.state.selection)?!1:(t.dispatch(xi(t.state,n)),!0)}function gI(t,e){return ti(t,n=>t.moveByChar(n,e))}const yI=t=>gI(t,!Dn(t)),xI=t=>gI(t,Dn(t));function vI(t,e){return ti(t,n=>t.moveByGroup(n,e))}const Ohe=t=>vI(t,!Dn(t)),Ahe=t=>vI(t,Dn(t)),Ehe=t=>ti(t,e=>Z0(t.state,e,!Dn(t))),The=t=>ti(t,e=>Z0(t.state,e,Dn(t)));function bI(t,e){return ti(t,n=>t.moveVertically(n,e))}const wI=t=>bI(t,!1),SI=t=>bI(t,!0);function jI(t,e){return ti(t,n=>t.moveVertically(n,e,mI(t).height))}const S4=t=>jI(t,!1),j4=t=>jI(t,!0),Mhe=t=>ti(t,e=>Ks(t,e,!0)),_he=t=>ti(t,e=>Ks(t,e,!1)),Dhe=t=>ti(t,e=>Ks(t,e,!Dn(t))),Phe=t=>ti(t,e=>Ks(t,e,Dn(t))),Rhe=t=>ti(t,e=>he.cursor(t.lineBlockAt(e.head).from)),Lhe=t=>ti(t,e=>he.cursor(t.lineBlockAt(e.head).to)),N4=({state:t,dispatch:e})=>(e(xi(t,{anchor:0})),!0),C4=({state:t,dispatch:e})=>(e(xi(t,{anchor:t.doc.length})),!0),k4=({state:t,dispatch:e})=>(e(xi(t,{anchor:t.selection.main.anchor,head:0})),!0),O4=({state:t,dispatch:e})=>(e(xi(t,{anchor:t.selection.main.anchor,head:t.doc.length})),!0),Bhe=({state:t,dispatch:e})=>(e(t.update({selection:{anchor:0,head:t.doc.length},userEvent:"select"})),!0),zhe=({state:t,dispatch:e})=>{let n=J0(t).map(({from:r,to:i})=>he.range(r,Math.min(i+1,t.doc.length)));return e(t.update({selection:he.create(n),userEvent:"select"})),!0},Ihe=({state:t,dispatch:e})=>{let n=Qc(t.selection,r=>{let i=ln(t),a=i.resolveStack(r.from,1);if(r.empty){let s=i.resolveStack(r.from,-1);s.node.from>=a.node.from&&s.node.to<=a.node.to&&(a=s)}for(let s=a;s;s=s.next){let{node:o}=s;if((o.from<r.from&&o.to>=r.to||o.to>r.to&&o.from<=r.from)&&s.next)return he.range(o.to,o.from)}return r});return n.eq(t.selection)?!1:(e(xi(t,n)),!0)};function NI(t,e){let{state:n}=t,r=n.selection,i=n.selection.ranges.slice();for(let a of n.selection.ranges){let s=n.doc.lineAt(a.head);if(e?s.to<t.state.doc.length:s.from>0)for(let o=a;;){let u=t.moveVertically(o,e);if(u.head<s.from||u.head>s.to){i.some(f=>f.head==u.head)||i.push(u);break}else{if(u.head==o.head)break;o=u}}}return i.length==r.ranges.length?!1:(t.dispatch(xi(n,he.create(i,i.length-1))),!0)}const Uhe=t=>NI(t,!1),$he=t=>NI(t,!0),qhe=({state:t,dispatch:e})=>{let n=t.selection,r=null;return n.ranges.length>1?r=he.create([n.main]):n.main.empty||(r=he.create([he.cursor(n.main.head)])),r?(e(xi(t,r)),!0):!1};function Id(t,e){if(t.state.readOnly)return!1;let n="delete.selection",{state:r}=t,i=r.changeByRange(a=>{let{from:s,to:o}=a;if(s==o){let u=e(a);u<s?(n="delete.backward",u=Im(t,u,!1)):u>s&&(n="delete.forward",u=Im(t,u,!0)),s=Math.min(s,u),o=Math.max(o,u)}else s=Im(t,s,!1),o=Im(t,o,!0);return s==o?{range:a}:{changes:{from:s,to:o},range:he.cursor(s,s<a.head?-1:1)}});return i.changes.empty?!1:(t.dispatch(r.update(i,{scrollIntoView:!0,userEvent:n,effects:n=="delete.selection"?xe.announce.of(r.phrase("Selection deleted")):void 0})),!0)}function Im(t,e,n){if(t instanceof xe)for(let r of t.state.facet(xe.atomicRanges).map(i=>i(t)))r.between(e,e,(i,a)=>{i<e&&a>e&&(e=n?a:i)});return e}const CI=(t,e,n)=>Id(t,r=>{let i=r.from,{state:a}=t,s=a.doc.lineAt(i),o,u;if(n&&!e&&i>s.from&&i<s.from+200&&!/[^ \t]/.test(o=s.text.slice(0,i-s.from))){if(o[o.length-1]=="	")return i-1;let f=Yc(o,a.tabSize),h=f%Ng(a)||Ng(a);for(let p=0;p<h&&o[o.length-1-p]==" ";p++)i--;u=i}else u=sn(s.text,i-s.from,e,e)+s.from,u==i&&s.number!=(e?a.doc.lines:1)?u+=e?1:-1:!e&&/[\ufe00-\ufe0f]/.test(s.text.slice(u-s.from,i-s.from))&&(u=sn(s.text,u-s.from,!1,!1)+s.from);return u}),GS=t=>CI(t,!1,!0),kI=t=>CI(t,!0,!1),OI=(t,e)=>Id(t,n=>{let r=n.head,{state:i}=t,a=i.doc.lineAt(r),s=i.charCategorizer(r);for(let o=null;;){if(r==(e?a.to:a.from)){r==n.head&&a.number!=(e?i.doc.lines:1)&&(r+=e?1:-1);break}let u=sn(a.text,r-a.from,e)+a.from,f=a.text.slice(Math.min(r,u)-a.from,Math.max(r,u)-a.from),h=s(f);if(o!=null&&h!=o)break;(f!=" "||r!=n.head)&&(o=h),r=u}return r}),AI=t=>OI(t,!1),Hhe=t=>OI(t,!0),Vhe=t=>Id(t,e=>{let n=t.lineBlockAt(e.head).to;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Fhe=t=>Id(t,e=>{let n=t.moveToLineBoundary(e,!1).head;return e.head>n?n:Math.max(0,e.head-1)}),Whe=t=>Id(t,e=>{let n=t.moveToLineBoundary(e,!0).head;return e.head<n?n:Math.min(t.state.doc.length,e.head+1)}),Ghe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>({changes:{from:r.from,to:r.to,insert:Xe.of(["",""])},range:he.cursor(r.from)}));return e(t.update(n,{scrollIntoView:!0,userEvent:"input"})),!0},Khe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=t.changeByRange(r=>{if(!r.empty||r.from==0||r.from==t.doc.length)return{range:r};let i=r.from,a=t.doc.lineAt(i),s=i==a.from?i-1:sn(a.text,i-a.from,!1)+a.from,o=i==a.to?i+1:sn(a.text,i-a.from,!0)+a.from;return{changes:{from:s,to:o,insert:t.doc.slice(i,o).append(t.doc.slice(s,i))},range:he.cursor(o)}});return n.changes.empty?!1:(e(t.update(n,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function J0(t){let e=[],n=-1;for(let r of t.selection.ranges){let i=t.doc.lineAt(r.from),a=t.doc.lineAt(r.to);if(!r.empty&&r.to==a.from&&(a=t.doc.lineAt(r.to-1)),n>=i.number){let s=e[e.length-1];s.to=a.to,s.ranges.push(r)}else e.push({from:i.from,to:a.to,ranges:[r]});n=a.number+1}return e}function EI(t,e,n){if(t.readOnly)return!1;let r=[],i=[];for(let a of J0(t)){if(n?a.to==t.doc.length:a.from==0)continue;let s=t.doc.lineAt(n?a.to+1:a.from-1),o=s.length+1;if(n){r.push({from:a.to,to:s.to},{from:a.from,insert:s.text+t.lineBreak});for(let u of a.ranges)i.push(he.range(Math.min(t.doc.length,u.anchor+o),Math.min(t.doc.length,u.head+o)))}else{r.push({from:s.from,to:a.from},{from:a.to,insert:t.lineBreak+s.text});for(let u of a.ranges)i.push(he.range(u.anchor-o,u.head-o))}}return r.length?(e(t.update({changes:r,scrollIntoView:!0,selection:he.create(i,t.selection.mainIndex),userEvent:"move.line"})),!0):!1}const Yhe=({state:t,dispatch:e})=>EI(t,e,!1),Qhe=({state:t,dispatch:e})=>EI(t,e,!0);function TI(t,e,n){if(t.readOnly)return!1;let r=[];for(let a of J0(t))n?r.push({from:a.from,insert:t.doc.slice(a.from,a.to)+t.lineBreak}):r.push({from:a.to,insert:t.lineBreak+t.doc.slice(a.from,a.to)});let i=t.changes(r);return e(t.update({changes:i,selection:t.selection.map(i,n?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const Xhe=({state:t,dispatch:e})=>TI(t,e,!1),Zhe=({state:t,dispatch:e})=>TI(t,e,!0),Jhe=t=>{if(t.state.readOnly)return!1;let{state:e}=t,n=e.changes(J0(e).map(({from:i,to:a})=>(i>0?i--:a<e.doc.length&&a++,{from:i,to:a}))),r=Qc(e.selection,i=>{let a;if(t.lineWrapping){let s=t.lineBlockAt(i.head),o=t.coordsAtPos(i.head,i.assoc||1);o&&(a=s.bottom+t.documentTop-o.bottom+t.defaultLineHeight/2)}return t.moveVertically(i,!0,a)}).map(n);return t.dispatch({changes:n,selection:r,scrollIntoView:!0,userEvent:"delete.line"}),!0};function eme(t,e){if(/\(\)|\[\]|\{\}/.test(t.sliceDoc(e-1,e+1)))return{from:e,to:e};let n=ln(t).resolveInner(e),r=n.childBefore(e),i=n.childAfter(e),a;return r&&i&&r.to<=e&&i.from>=e&&(a=r.type.prop(Ue.closedBy))&&a.indexOf(i.name)>-1&&t.doc.lineAt(r.to).from==t.doc.lineAt(i.from).from&&!/\S/.test(t.sliceDoc(r.to,i.from))?{from:r.to,to:i.from}:null}const A4=MI(!1),tme=MI(!0);function MI(t){return({state:e,dispatch:n})=>{if(e.readOnly)return!1;let r=e.changeByRange(i=>{let{from:a,to:s}=i,o=e.doc.lineAt(a),u=!t&&a==s&&eme(e,a);t&&(a=s=(s<=o.to?o:e.doc.lineAt(s)).to);let f=new K0(e,{simulateBreak:a,simulateDoubleBreak:!!u}),h=vN(f,a);for(h==null&&(h=Yc(/^\s*/.exec(e.doc.lineAt(a).text)[0],e.tabSize));s<o.to&&/\s/.test(o.text[s-o.from]);)s++;u?{from:a,to:s}=u:a>o.from&&a<o.from+100&&!/\S/.test(o.text.slice(0,a))&&(a=o.from);let p=["",ld(e,h)];return u&&p.push(ld(e,f.lineIndent(o.from,-1))),{changes:{from:a,to:s,insert:Xe.of(p)},range:he.cursor(a+1+p[1].length)}});return n(e.update(r,{scrollIntoView:!0,userEvent:"input"})),!0}}function jN(t,e){let n=-1;return t.changeByRange(r=>{let i=[];for(let s=r.from;s<=r.to;){let o=t.doc.lineAt(s);o.number>n&&(r.empty||r.to>o.from)&&(e(o,i,r),n=o.number),s=o.to+1}let a=t.changes(i);return{changes:i,range:he.range(a.mapPos(r.anchor,1),a.mapPos(r.head,1))}})}const nme=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let n=Object.create(null),r=new K0(t,{overrideIndentation:a=>{let s=n[a];return s??-1}}),i=jN(t,(a,s,o)=>{let u=vN(r,a.from);if(u==null)return;/\S/.test(a.text)||(u=0);let f=/^\s*/.exec(a.text)[0],h=ld(t,u);(f!=h||o.from<a.from+f.length)&&(n[a.from]=u,s.push({from:a.from,to:a.from+f.length,insert:h}))});return i.changes.empty||e(t.update(i,{userEvent:"indent"})),!0},_I=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(jN(t,(n,r)=>{r.push({from:n.from,insert:t.facet(G0)})}),{userEvent:"input.indent"})),!0),DI=({state:t,dispatch:e})=>t.readOnly?!1:(e(t.update(jN(t,(n,r)=>{let i=/^\s*/.exec(n.text)[0];if(!i)return;let a=Yc(i,t.tabSize),s=0,o=ld(t,Math.max(0,a-Ng(t)));for(;s<i.length&&s<o.length&&i.charCodeAt(s)==o.charCodeAt(s);)s++;r.push({from:n.from+s,to:n.from+i.length,insert:o.slice(s)})}),{userEvent:"delete.dedent"})),!0),rme=t=>(t.setTabFocusMode(),!0),ime=[{key:"Ctrl-b",run:oI,shift:yI,preventDefault:!0},{key:"Ctrl-f",run:cI,shift:xI},{key:"Ctrl-p",run:dI,shift:wI},{key:"Ctrl-n",run:hI,shift:SI},{key:"Ctrl-a",run:jhe,shift:Rhe},{key:"Ctrl-e",run:Nhe,shift:Lhe},{key:"Ctrl-d",run:kI},{key:"Ctrl-h",run:GS},{key:"Ctrl-k",run:Vhe},{key:"Ctrl-Alt-h",run:AI},{key:"Ctrl-o",run:Ghe},{key:"Ctrl-t",run:Khe},{key:"Ctrl-v",run:WS}],ame=[{key:"ArrowLeft",run:oI,shift:yI,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:mhe,shift:Ohe,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:whe,shift:Dhe,preventDefault:!0},{key:"ArrowRight",run:cI,shift:xI,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:phe,shift:Ahe,preventDefault:!0},{mac:"Cmd-ArrowRight",run:She,shift:Phe,preventDefault:!0},{key:"ArrowUp",run:dI,shift:wI,preventDefault:!0},{mac:"Cmd-ArrowUp",run:N4,shift:k4},{mac:"Ctrl-ArrowUp",run:w4,shift:S4},{key:"ArrowDown",run:hI,shift:SI,preventDefault:!0},{mac:"Cmd-ArrowDown",run:C4,shift:O4},{mac:"Ctrl-ArrowDown",run:WS,shift:j4},{key:"PageUp",run:w4,shift:S4},{key:"PageDown",run:WS,shift:j4},{key:"Home",run:bhe,shift:_he,preventDefault:!0},{key:"Mod-Home",run:N4,shift:k4},{key:"End",run:vhe,shift:Mhe,preventDefault:!0},{key:"Mod-End",run:C4,shift:O4},{key:"Enter",run:A4,shift:A4},{key:"Mod-a",run:Bhe},{key:"Backspace",run:GS,shift:GS,preventDefault:!0},{key:"Delete",run:kI,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:AI,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:Hhe,preventDefault:!0},{mac:"Mod-Backspace",run:Fhe,preventDefault:!0},{mac:"Mod-Delete",run:Whe,preventDefault:!0}].concat(ime.map(t=>({mac:t.key,run:t.run,shift:t.shift}))),sme=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:yhe,shift:Ehe},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:xhe,shift:The},{key:"Alt-ArrowUp",run:Yhe},{key:"Shift-Alt-ArrowUp",run:Xhe},{key:"Alt-ArrowDown",run:Qhe},{key:"Shift-Alt-ArrowDown",run:Zhe},{key:"Mod-Alt-ArrowUp",run:Uhe},{key:"Mod-Alt-ArrowDown",run:$he},{key:"Escape",run:qhe},{key:"Mod-Enter",run:tme},{key:"Alt-l",mac:"Ctrl-l",run:zhe},{key:"Mod-i",run:Ihe,preventDefault:!0},{key:"Mod-[",run:DI},{key:"Mod-]",run:_I},{key:"Mod-Alt-\\",run:nme},{key:"Shift-Mod-k",run:Jhe},{key:"Shift-Mod-\\",run:khe},{key:"Mod-/",run:Yde},{key:"Alt-A",run:Xde},{key:"Ctrl-m",mac:"Shift-Alt-m",run:rme}].concat(ame),lme={key:"Tab",run:_I,shift:DI},E4=typeof String.prototype.normalize=="function"?t=>t.normalize("NFKD"):t=>t;class Mc{constructor(e,n,r=0,i=e.length,a,s){this.test=s,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=e.iterRange(r,i),this.bufferStart=r,this.normalize=a?o=>a(E4(o)):E4,this.query=this.normalize(n)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return Qn(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let e=this.peek();if(e<0)return this.done=!0,this;let n=Q2(e),r=this.bufferStart+this.bufferPos;this.bufferPos+=Di(e);let i=this.normalize(n);if(i.length)for(let a=0,s=r;;a++){let o=i.charCodeAt(a),u=this.match(o,s,this.bufferPos+this.bufferStart);if(a==i.length-1){if(u)return this.value=u,this;break}s==r&&a<n.length&&n.charCodeAt(a)==o&&s++}}}match(e,n,r){let i=null;for(let a=0;a<this.matches.length;a+=2){let s=this.matches[a],o=!1;this.query.charCodeAt(s)==e&&(s==this.query.length-1?i={from:this.matches[a+1],to:r}:(this.matches[a]++,o=!0)),o||(this.matches.splice(a,2),a-=2)}return this.query.charCodeAt(0)==e&&(this.query.length==1?i={from:n,to:r}:this.matches.push(1,n)),i&&this.test&&!this.test(i.from,i.to,this.buffer,this.bufferStart)&&(i=null),i}}typeof Symbol<"u"&&(Mc.prototype[Symbol.iterator]=function(){return this});const PI={from:-1,to:-1,match:/.*/.exec("")},NN="gm"+(/x/.unicode==null?"":"u");class RI{constructor(e,n,r,i=0,a=e.length){if(this.text=e,this.to=a,this.curLine="",this.done=!1,this.value=PI,/\\[sWDnr]|\n|\r|\[\^/.test(n))return new LI(e,n,r,i,a);this.re=new RegExp(n,NN+(r?.ignoreCase?"i":"")),this.test=r?.test,this.iter=e.iter();let s=e.lineAt(i);this.curLineStart=s.from,this.matchPos=Ag(e,i),this.getLine(this.curLineStart)}getLine(e){this.iter.next(e),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let e=this.matchPos-this.curLineStart;;){this.re.lastIndex=e;let n=this.matchPos<=this.to&&this.re.exec(this.curLine);if(n){let r=this.curLineStart+n.index,i=r+n[0].length;if(this.matchPos=Ag(this.text,i+(r==i?1:0)),r==this.curLineStart+this.curLine.length&&this.nextLine(),(r<i||r>this.value.to)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this;e=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),e=0;else return this.done=!0,this}}}const M1=new WeakMap;class dc{constructor(e,n){this.from=e,this.text=n}get to(){return this.from+this.text.length}static get(e,n,r){let i=M1.get(e);if(!i||i.from>=r||i.to<=n){let o=new dc(n,e.sliceString(n,r));return M1.set(e,o),o}if(i.from==n&&i.to==r)return i;let{text:a,from:s}=i;return s>n&&(a=e.sliceString(n,s)+a,s=n),i.to<r&&(a+=e.sliceString(i.to,r)),M1.set(e,new dc(s,a)),new dc(n,a.slice(n-s,r-s))}}class LI{constructor(e,n,r,i,a){this.text=e,this.to=a,this.done=!1,this.value=PI,this.matchPos=Ag(e,i),this.re=new RegExp(n,NN+(r?.ignoreCase?"i":"")),this.test=r?.test,this.flat=dc.get(e,i,this.chunkEnd(i+5e3))}chunkEnd(e){return e>=this.to?this.to:this.text.lineAt(e).to}next(){for(;;){let e=this.re.lastIndex=this.matchPos-this.flat.from,n=this.re.exec(this.flat.text);if(n&&!n[0]&&n.index==e&&(this.re.lastIndex=e+1,n=this.re.exec(this.flat.text)),n){let r=this.flat.from+n.index,i=r+n[0].length;if((this.flat.to>=this.to||n.index+n[0].length<=this.flat.text.length-10)&&(!this.test||this.test(r,i,n)))return this.value={from:r,to:i,match:n},this.matchPos=Ag(this.text,i+(r==i?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=dc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RI.prototype[Symbol.iterator]=LI.prototype[Symbol.iterator]=function(){return this});function ome(t){try{return new RegExp(t,NN),!0}catch{return!1}}function Ag(t,e){if(e>=t.length)return e;let n=t.lineAt(e),r;for(;e<n.to&&(r=n.text.charCodeAt(e-n.from))>=56320&&r<57344;)e++;return e}const cme=t=>{let{state:e}=t,n=String(e.doc.lineAt(t.state.selection.main.head).number),{close:r,result:i}=Ofe(t,{label:e.phrase("Go to line"),input:{type:"text",name:"line",value:n},focus:!0,submitLabel:e.phrase("go")});return i.then(a=>{let s=a&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(a.elements.line.value);if(!s){t.dispatch({effects:r});return}let o=e.doc.lineAt(e.selection.main.head),[,u,f,h,p]=s,y=h?+h.slice(1):0,x=f?+f:o.number;if(f&&p){let S=x/100;u&&(S=S*(u=="-"?-1:1)+o.number/e.doc.lines),x=Math.round(e.doc.lines*S)}else f&&u&&(x=x*(u=="-"?-1:1)+o.number);let b=e.doc.line(Math.max(1,Math.min(e.doc.lines,x))),j=he.cursor(b.from+Math.max(0,Math.min(y,b.length)));t.dispatch({effects:[r,xe.scrollIntoView(j.from,{y:"center"})],selection:j})}),!0},ume={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},fme=be.define({combine(t){return Qi(t,ume,{highlightWordAroundCursor:(e,n)=>e||n,minSelectionLength:Math.min,maxMatches:Math.min})}});function dme(t){return[yme,gme]}const hme=Me.mark({class:"cm-selectionMatch"}),mme=Me.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function T4(t,e,n,r){return(n==0||t(e.sliceDoc(n-1,n))!=wt.Word)&&(r==e.doc.length||t(e.sliceDoc(r,r+1))!=wt.Word)}function pme(t,e,n,r){return t(e.sliceDoc(n,n+1))==wt.Word&&t(e.sliceDoc(r-1,r))==wt.Word}const gme=Bt.fromClass(class{constructor(t){this.decorations=this.getDeco(t)}update(t){(t.selectionSet||t.docChanged||t.viewportChanged)&&(this.decorations=this.getDeco(t.view))}getDeco(t){let e=t.state.facet(fme),{state:n}=t,r=n.selection;if(r.ranges.length>1)return Me.none;let i=r.main,a,s=null;if(i.empty){if(!e.highlightWordAroundCursor)return Me.none;let u=n.wordAt(i.head);if(!u)return Me.none;s=n.charCategorizer(i.head),a=n.sliceDoc(u.from,u.to)}else{let u=i.to-i.from;if(u<e.minSelectionLength||u>200)return Me.none;if(e.wholeWords){if(a=n.sliceDoc(i.from,i.to),s=n.charCategorizer(i.head),!(T4(s,n,i.from,i.to)&&pme(s,n,i.from,i.to)))return Me.none}else if(a=n.sliceDoc(i.from,i.to),!a)return Me.none}let o=[];for(let u of t.visibleRanges){let f=new Mc(n.doc,a,u.from,u.to);for(;!f.next().done;){let{from:h,to:p}=f.value;if((!s||T4(s,n,h,p))&&(i.empty&&h<=i.from&&p>=i.to?o.push(mme.range(h,p)):(h>=i.to||p<=i.from)&&o.push(hme.range(h,p)),o.length>e.maxMatches))return Me.none}}return Me.set(o)}},{decorations:t=>t.decorations}),yme=xe.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),xme=({state:t,dispatch:e})=>{let{selection:n}=t,r=he.create(n.ranges.map(i=>t.wordAt(i.head)||he.cursor(i.head)),n.mainIndex);return r.eq(n)?!1:(e(t.update({selection:r})),!0)};function vme(t,e){let{main:n,ranges:r}=t.selection,i=t.wordAt(n.head),a=i&&i.from==n.from&&i.to==n.to;for(let s=!1,o=new Mc(t.doc,e,r[r.length-1].to);;)if(o.next(),o.done){if(s)return null;o=new Mc(t.doc,e,0,Math.max(0,r[r.length-1].from-1)),s=!0}else{if(s&&r.some(u=>u.from==o.value.from))continue;if(a){let u=t.wordAt(o.value.from);if(!u||u.from!=o.value.from||u.to!=o.value.to)continue}return o.value}}const bme=({state:t,dispatch:e})=>{let{ranges:n}=t.selection;if(n.some(a=>a.from===a.to))return xme({state:t,dispatch:e});let r=t.sliceDoc(n[0].from,n[0].to);if(t.selection.ranges.some(a=>t.sliceDoc(a.from,a.to)!=r))return!1;let i=vme(t,r);return i?(e(t.update({selection:t.selection.addRange(he.range(i.from,i.to),!1),effects:xe.scrollIntoView(i.to)})),!0):!1},Xc=be.define({combine(t){return Qi(t,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:e=>new Pme(e),scrollToMatch:e=>xe.scrollIntoView(e)})}});class BI{constructor(e){this.search=e.search,this.caseSensitive=!!e.caseSensitive,this.literal=!!e.literal,this.regexp=!!e.regexp,this.replace=e.replace||"",this.valid=!!this.search&&(!this.regexp||ome(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!e.wholeWord,this.test=e.test}unquote(e){return this.literal?e:e.replace(/\\([nrt\\])/g,(n,r)=>r=="n"?`
`:r=="r"?"\r":r=="t"?"	":"\\")}eq(e){return this.search==e.search&&this.replace==e.replace&&this.caseSensitive==e.caseSensitive&&this.regexp==e.regexp&&this.wholeWord==e.wholeWord&&this.test==e.test}create(){return this.regexp?new kme(this):new jme(this)}getCursor(e,n=0,r){let i=e.doc?e:Ge.create({doc:e});return r==null&&(r=i.doc.length),this.regexp?Zo(this,i,n,r):Xo(this,i,n,r)}}class zI{constructor(e){this.spec=e}}function wme(t,e,n){return(r,i,a,s)=>{if(n&&!n(r,i,a,s))return!1;let o=r>=s&&i<=s+a.length?a.slice(r-s,i-s):e.doc.sliceString(r,i);return t(o,e,r,i)}}function Xo(t,e,n,r){let i;return t.wholeWord&&(i=Sme(e.doc,e.charCategorizer(e.selection.main.head))),t.test&&(i=wme(t.test,e,i)),new Mc(e.doc,t.unquoted,n,r,t.caseSensitive?void 0:a=>a.toLowerCase(),i)}function Sme(t,e){return(n,r,i,a)=>((a>n||a+i.length<r)&&(a=Math.max(0,n-2),i=t.sliceString(a,Math.min(t.length,r+2))),(e(Eg(i,n-a))!=wt.Word||e(Tg(i,n-a))!=wt.Word)&&(e(Tg(i,r-a))!=wt.Word||e(Eg(i,r-a))!=wt.Word))}class jme extends zI{constructor(e){super(e)}nextMatch(e,n,r){let i=Xo(this.spec,e,r,e.doc.length).nextOverlapping();if(i.done){let a=Math.min(e.doc.length,n+this.spec.unquoted.length);i=Xo(this.spec,e,0,a).nextOverlapping()}return i.done||i.value.from==n&&i.value.to==r?null:i.value}prevMatchInRange(e,n,r){for(let i=r;;){let a=Math.max(n,i-1e4-this.spec.unquoted.length),s=Xo(this.spec,e,a,i),o=null;for(;!s.nextOverlapping().done;)o=s.value;if(o)return o;if(a==n)return null;i-=1e4}}prevMatch(e,n,r){let i=this.prevMatchInRange(e,0,n);return i||(i=this.prevMatchInRange(e,Math.max(0,r-this.spec.unquoted.length),e.doc.length)),i&&(i.from!=n||i.to!=r)?i:null}getReplacement(e){return this.spec.unquote(this.spec.replace)}matchAll(e,n){let r=Xo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Xo(this.spec,e,Math.max(0,n-this.spec.unquoted.length),Math.min(r+this.spec.unquoted.length,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}function Nme(t,e,n){return(r,i,a)=>(!n||n(r,i,a))&&t(a[0],e,r,i)}function Zo(t,e,n,r){let i;return t.wholeWord&&(i=Cme(e.charCategorizer(e.selection.main.head))),t.test&&(i=Nme(t.test,e,i)),new RI(e.doc,t.search,{ignoreCase:!t.caseSensitive,test:i},n,r)}function Eg(t,e){return t.slice(sn(t,e,!1),e)}function Tg(t,e){return t.slice(e,sn(t,e))}function Cme(t){return(e,n,r)=>!r[0].length||(t(Eg(r.input,r.index))!=wt.Word||t(Tg(r.input,r.index))!=wt.Word)&&(t(Tg(r.input,r.index+r[0].length))!=wt.Word||t(Eg(r.input,r.index+r[0].length))!=wt.Word)}class kme extends zI{nextMatch(e,n,r){let i=Zo(this.spec,e,r,e.doc.length).next();return i.done&&(i=Zo(this.spec,e,0,n).next()),i.done?null:i.value}prevMatchInRange(e,n,r){for(let i=1;;i++){let a=Math.max(n,r-i*1e4),s=Zo(this.spec,e,a,r),o=null;for(;!s.next().done;)o=s.value;if(o&&(a==n||o.from>a+10))return o;if(a==n)return null}}prevMatch(e,n,r){return this.prevMatchInRange(e,0,n)||this.prevMatchInRange(e,r,e.doc.length)}getReplacement(e){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(n,r)=>{if(r=="&")return e.match[0];if(r=="$")return"$";for(let i=r.length;i>0;i--){let a=+r.slice(0,i);if(a>0&&a<e.match.length)return e.match[a]+r.slice(i)}return n})}matchAll(e,n){let r=Zo(this.spec,e,0,e.doc.length),i=[];for(;!r.next().done;){if(i.length>=n)return null;i.push(r.value)}return i}highlight(e,n,r,i){let a=Zo(this.spec,e,Math.max(0,n-250),Math.min(r+250,e.doc.length));for(;!a.next().done;)i(a.value.from,a.value.to)}}const od=Be.define(),CN=Be.define(),_s=On.define({create(t){return new _1(KS(t).create(),null)},update(t,e){for(let n of e.effects)n.is(od)?t=new _1(n.value.create(),t.panel):n.is(CN)&&(t=new _1(t.query,n.value?kN:null));return t},provide:t=>id.from(t,e=>e.panel)});class _1{constructor(e,n){this.query=e,this.panel=n}}const Ome=Me.mark({class:"cm-searchMatch"}),Ame=Me.mark({class:"cm-searchMatch cm-searchMatch-selected"}),Eme=Bt.fromClass(class{constructor(t){this.view=t,this.decorations=this.highlight(t.state.field(_s))}update(t){let e=t.state.field(_s);(e!=t.startState.field(_s)||t.docChanged||t.selectionSet||t.viewportChanged)&&(this.decorations=this.highlight(e))}highlight({query:t,panel:e}){if(!e||!t.spec.valid)return Me.none;let{view:n}=this,r=new Pa;for(let i=0,a=n.visibleRanges,s=a.length;i<s;i++){let{from:o,to:u}=a[i];for(;i<s-1&&u>a[i+1].from-500;)u=a[++i].to;t.highlight(n.state,o,u,(f,h)=>{let p=n.state.selection.ranges.some(y=>y.from==f&&y.to==h);r.add(f,h,p?Ame:Ome)})}return r.finish()}},{decorations:t=>t.decorations});function Ud(t){return e=>{let n=e.state.field(_s,!1);return n&&n.query.spec.valid?t(e,n):$I(e)}}const Mg=Ud((t,{query:e})=>{let{to:n}=t.state.selection.main,r=e.nextMatch(t.state,n,n);if(!r)return!1;let i=he.single(r.from,r.to),a=t.state.facet(Xc);return t.dispatch({selection:i,effects:[ON(t,r),a.scrollToMatch(i.main,t)],userEvent:"select.search"}),UI(t),!0}),_g=Ud((t,{query:e})=>{let{state:n}=t,{from:r}=n.selection.main,i=e.prevMatch(n,r,r);if(!i)return!1;let a=he.single(i.from,i.to),s=t.state.facet(Xc);return t.dispatch({selection:a,effects:[ON(t,i),s.scrollToMatch(a.main,t)],userEvent:"select.search"}),UI(t),!0}),Tme=Ud((t,{query:e})=>{let n=e.matchAll(t.state,1e3);return!n||!n.length?!1:(t.dispatch({selection:he.create(n.map(r=>he.range(r.from,r.to))),userEvent:"select.search.matches"}),!0)}),Mme=({state:t,dispatch:e})=>{let n=t.selection;if(n.ranges.length>1||n.main.empty)return!1;let{from:r,to:i}=n.main,a=[],s=0;for(let o=new Mc(t.doc,t.sliceDoc(r,i));!o.next().done;){if(a.length>1e3)return!1;o.value.from==r&&(s=a.length),a.push(he.range(o.value.from,o.value.to))}return e(t.update({selection:he.create(a,s),userEvent:"select.search.matches"})),!0},M4=Ud((t,{query:e})=>{let{state:n}=t,{from:r,to:i}=n.selection.main;if(n.readOnly)return!1;let a=e.nextMatch(n,r,r);if(!a)return!1;let s=a,o=[],u,f,h=[];s.from==r&&s.to==i&&(f=n.toText(e.getReplacement(s)),o.push({from:s.from,to:s.to,insert:f}),s=e.nextMatch(n,s.from,s.to),h.push(xe.announce.of(n.phrase("replaced match on line $",n.doc.lineAt(r).number)+".")));let p=t.state.changes(o);return s&&(u=he.single(s.from,s.to).map(p),h.push(ON(t,s)),h.push(n.facet(Xc).scrollToMatch(u.main,t))),t.dispatch({changes:p,selection:u,effects:h,userEvent:"input.replace"}),!0}),_me=Ud((t,{query:e})=>{if(t.state.readOnly)return!1;let n=e.matchAll(t.state,1e9).map(i=>{let{from:a,to:s}=i;return{from:a,to:s,insert:e.getReplacement(i)}});if(!n.length)return!1;let r=t.state.phrase("replaced $ matches",n.length)+".";return t.dispatch({changes:n,effects:xe.announce.of(r),userEvent:"input.replace.all"}),!0});function kN(t){return t.state.facet(Xc).createPanel(t)}function KS(t,e){var n,r,i,a,s;let o=t.selection.main,u=o.empty||o.to>o.from+100?"":t.sliceDoc(o.from,o.to);if(e&&!u)return e;let f=t.facet(Xc);return new BI({search:((n=e?.literal)!==null&&n!==void 0?n:f.literal)?u:u.replace(/\n/g,"\\n"),caseSensitive:(r=e?.caseSensitive)!==null&&r!==void 0?r:f.caseSensitive,literal:(i=e?.literal)!==null&&i!==void 0?i:f.literal,regexp:(a=e?.regexp)!==null&&a!==void 0?a:f.regexp,wholeWord:(s=e?.wholeWord)!==null&&s!==void 0?s:f.wholeWord})}function II(t){let e=mN(t,kN);return e&&e.dom.querySelector("[main-field]")}function UI(t){let e=II(t);e&&e==t.root.activeElement&&e.select()}const $I=t=>{let e=t.state.field(_s,!1);if(e&&e.panel){let n=II(t);if(n&&n!=t.root.activeElement){let r=KS(t.state,e.query.spec);r.valid&&t.dispatch({effects:od.of(r)}),n.focus(),n.select()}}else t.dispatch({effects:[CN.of(!0),e?od.of(KS(t.state,e.query.spec)):Be.appendConfig.of(Lme)]});return!0},qI=t=>{let e=t.state.field(_s,!1);if(!e||!e.panel)return!1;let n=mN(t,kN);return n&&n.dom.contains(t.root.activeElement)&&t.focus(),t.dispatch({effects:CN.of(!1)}),!0},Dme=[{key:"Mod-f",run:$I,scope:"editor search-panel"},{key:"F3",run:Mg,shift:_g,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:Mg,shift:_g,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:qI,scope:"editor search-panel"},{key:"Mod-Shift-l",run:Mme},{key:"Mod-Alt-g",run:cme},{key:"Mod-d",run:bme,preventDefault:!0}];class Pme{constructor(e){this.view=e;let n=this.query=e.state.field(_s).query.spec;this.commit=this.commit.bind(this),this.searchField=lt("input",{value:n.search,placeholder:vr(e,"Find"),"aria-label":vr(e,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=lt("input",{value:n.replace,placeholder:vr(e,"Replace"),"aria-label":vr(e,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=lt("input",{type:"checkbox",name:"case",form:"",checked:n.caseSensitive,onchange:this.commit}),this.reField=lt("input",{type:"checkbox",name:"re",form:"",checked:n.regexp,onchange:this.commit}),this.wordField=lt("input",{type:"checkbox",name:"word",form:"",checked:n.wholeWord,onchange:this.commit});function r(i,a,s){return lt("button",{class:"cm-button",name:i,onclick:a,type:"button"},s)}this.dom=lt("div",{onkeydown:i=>this.keydown(i),class:"cm-search"},[this.searchField,r("next",()=>Mg(e),[vr(e,"next")]),r("prev",()=>_g(e),[vr(e,"previous")]),r("select",()=>Tme(e),[vr(e,"all")]),lt("label",null,[this.caseField,vr(e,"match case")]),lt("label",null,[this.reField,vr(e,"regexp")]),lt("label",null,[this.wordField,vr(e,"by word")]),...e.state.readOnly?[]:[lt("br"),this.replaceField,r("replace",()=>M4(e),[vr(e,"replace")]),r("replaceAll",()=>_me(e),[vr(e,"replace all")])],lt("button",{name:"close",onclick:()=>qI(e),"aria-label":vr(e,"close"),type:"button"},[""])])}commit(){let e=new BI({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});e.eq(this.query)||(this.query=e,this.view.dispatch({effects:od.of(e)}))}keydown(e){Bue(this.view,e,"search-panel")?e.preventDefault():e.keyCode==13&&e.target==this.searchField?(e.preventDefault(),(e.shiftKey?_g:Mg)(this.view)):e.keyCode==13&&e.target==this.replaceField&&(e.preventDefault(),M4(this.view))}update(e){for(let n of e.transactions)for(let r of n.effects)r.is(od)&&!r.value.eq(this.query)&&this.setQuery(r.value)}setQuery(e){this.query=e,this.searchField.value=e.search,this.replaceField.value=e.replace,this.caseField.checked=e.caseSensitive,this.reField.checked=e.regexp,this.wordField.checked=e.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(Xc).top}}function vr(t,e){return t.state.phrase(e)}const Um=30,$m=/[\s\.,:;?!]/;function ON(t,{from:e,to:n}){let r=t.state.doc.lineAt(e),i=t.state.doc.lineAt(n).to,a=Math.max(r.from,e-Um),s=Math.min(i,n+Um),o=t.state.sliceDoc(a,s);if(a!=r.from){for(let u=0;u<Um;u++)if(!$m.test(o[u+1])&&$m.test(o[u])){o=o.slice(u);break}}if(s!=i){for(let u=o.length-1;u>o.length-Um;u--)if(!$m.test(o[u-1])&&$m.test(o[u])){o=o.slice(0,u);break}}return xe.announce.of(`${t.state.phrase("current match")}. ${o} ${t.state.phrase("on line")} ${r.number}.`)}const Rme=xe.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),Lme=[_s,io.low(Eme),Rme];class HI{constructor(e,n,r,i){this.state=e,this.pos=n,this.explicit=r,this.view=i,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(e){let n=ln(this.state).resolveInner(this.pos,-1);for(;n&&e.indexOf(n.name)<0;)n=n.parent;return n?{from:n.from,to:this.pos,text:this.state.sliceDoc(n.from,this.pos),type:n.type}:null}matchBefore(e){let n=this.state.doc.lineAt(this.pos),r=Math.max(n.from,this.pos-250),i=n.text.slice(r-n.from,this.pos-n.from),a=i.search(FI(e,!1));return a<0?null:{from:r+a,to:this.pos,text:i.slice(a)}}get aborted(){return this.abortListeners==null}addEventListener(e,n,r){e=="abort"&&this.abortListeners&&(this.abortListeners.push(n),r&&r.onDocChange&&(this.abortOnDocChange=!0))}}function _4(t){let e=Object.keys(t).join(""),n=/\w/.test(e);return n&&(e=e.replace(/\w/g,"")),`[${n?"\\w":""}${e.replace(/[^\w\s]/g,"\\$&")}]`}function Bme(t){let e=Object.create(null),n=Object.create(null);for(let{label:i}of t){e[i[0]]=!0;for(let a=1;a<i.length;a++)n[i[a]]=!0}let r=_4(e)+_4(n)+"*$";return[new RegExp("^"+r),new RegExp(r)]}function VI(t){let e=t.map(i=>typeof i=="string"?{label:i}:i),[n,r]=e.every(i=>/^\w+$/.test(i.label))?[/\w*$/,/\w+$/]:Bme(e);return i=>{let a=i.matchBefore(r);return a||i.explicit?{from:a?a.from:i.pos,options:e,validFor:n}:null}}function zme(t,e){return n=>{for(let r=ln(n.state).resolveInner(n.pos,-1);r;r=r.parent){if(t.indexOf(r.name)>-1)return null;if(r.type.isTop)break}return e(n)}}class D4{constructor(e,n,r,i){this.completion=e,this.source=n,this.match=r,this.score=i}}function Bl(t){return t.selection.main.from}function FI(t,e){var n;let{source:r}=t,i=e&&r[0]!="^",a=r[r.length-1]!="$";return!i&&!a?t:new RegExp(`${i?"^":""}(?:${r})${a?"$":""}`,(n=t.flags)!==null&&n!==void 0?n:t.ignoreCase?"i":"")}const WI=Yi.define();function Ime(t,e,n,r){let{main:i}=t.selection,a=n-i.from,s=r-i.from;return{...t.changeByRange(o=>{if(o!=i&&n!=r&&t.sliceDoc(o.from+a,o.from+s)!=t.sliceDoc(n,r))return{range:o};let u=t.toText(e);return{changes:{from:o.from+a,to:r==i.from?o.to:o.from+s,insert:u},range:he.cursor(o.from+a+u.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const P4=new WeakMap;function Ume(t){if(!Array.isArray(t))return t;let e=P4.get(t);return e||P4.set(t,e=VI(t)),e}const Dg=Be.define(),cd=Be.define();class $me{constructor(e){this.pattern=e,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let n=0;n<e.length;){let r=Qn(e,n),i=Di(r);this.chars.push(r);let a=e.slice(n,n+i),s=a.toUpperCase();this.folded.push(Qn(s==a?a.toLowerCase():s,0)),n+=i}this.astral=e.length!=this.chars.length}ret(e,n){return this.score=e,this.matched=n,this}match(e){if(this.pattern.length==0)return this.ret(-100,[]);if(e.length<this.pattern.length)return null;let{chars:n,folded:r,any:i,precise:a,byWord:s}=this;if(n.length==1){let O=Qn(e,0),C=Di(O),_=C==e.length?0:-100;if(O!=n[0])if(O==r[0])_+=-200;else return null;return this.ret(_,[0,C])}let o=e.indexOf(this.pattern);if(o==0)return this.ret(e.length==this.pattern.length?0:-100,[0,this.pattern.length]);let u=n.length,f=0;if(o<0){for(let O=0,C=Math.min(e.length,200);O<C&&f<u;){let _=Qn(e,O);(_==n[f]||_==r[f])&&(i[f++]=O),O+=Di(_)}if(f<u)return null}let h=0,p=0,y=!1,x=0,b=-1,j=-1,S=/[a-z]/.test(e),N=!0;for(let O=0,C=Math.min(e.length,200),_=0;O<C&&p<u;){let P=Qn(e,O);o<0&&(h<u&&P==n[h]&&(a[h++]=O),x<u&&(P==n[x]||P==r[x]?(x==0&&(b=O),j=O+1,x++):x=0));let D,T=P<255?P>=48&&P<=57||P>=97&&P<=122?2:P>=65&&P<=90?1:0:(D=Q2(P))!=D.toLowerCase()?1:D!=D.toUpperCase()?2:0;(!O||T==1&&S||_==0&&T!=0)&&(n[p]==P||r[p]==P&&(y=!0)?s[p++]=O:s.length&&(N=!1)),_=T,O+=Di(P)}return p==u&&s[0]==0&&N?this.result(-100+(y?-200:0),s,e):x==u&&b==0?this.ret(-200-e.length+(j==e.length?0:-100),[0,j]):o>-1?this.ret(-700-e.length,[o,o+this.pattern.length]):x==u?this.ret(-900-e.length,[b,j]):p==u?this.result(-100+(y?-200:0)+-700+(N?0:-1100),s,e):n.length==2?null:this.result((i[0]?-700:0)+-200+-1100,i,e)}result(e,n,r){let i=[],a=0;for(let s of n){let o=s+(this.astral?Di(Qn(r,s)):1);a&&i[a-1]==s?i[a-1]=o:(i[a++]=s,i[a++]=o)}return this.ret(e-r.length,i)}}class qme{constructor(e){this.pattern=e,this.matched=[],this.score=0,this.folded=e.toLowerCase()}match(e){if(e.length<this.pattern.length)return null;let n=e.slice(0,this.pattern.length),r=n==this.pattern?0:n.toLowerCase()==this.folded?-200:null;return r==null?null:(this.matched=[0,n.length],this.score=r+(e.length==this.pattern.length?0:-100),this)}}const an=be.define({combine(t){return Qi(t,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:Hme,filterStrict:!1,compareCompletions:(e,n)=>(e.sortText||e.label).localeCompare(n.sortText||n.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(e,n)=>e&&n,closeOnBlur:(e,n)=>e&&n,icons:(e,n)=>e&&n,tooltipClass:(e,n)=>r=>R4(e(r),n(r)),optionClass:(e,n)=>r=>R4(e(r),n(r)),addToOptions:(e,n)=>e.concat(n),filterStrict:(e,n)=>e||n})}});function R4(t,e){return t?e?t+" "+e:t:e}function Hme(t,e,n,r,i,a){let s=t.textDirection==dt.RTL,o=s,u=!1,f="top",h,p,y=e.left-i.left,x=i.right-e.right,b=r.right-r.left,j=r.bottom-r.top;if(o&&y<Math.min(b,x)?o=!1:!o&&x<Math.min(b,y)&&(o=!0),b<=(o?y:x))h=Math.max(i.top,Math.min(n.top,i.bottom-j))-e.top,p=Math.min(400,o?y:x);else{u=!0,p=Math.min(400,(s?e.right:i.right-e.left)-30);let O=i.bottom-e.bottom;O>=j||O>e.top?h=n.bottom-e.top:(f="bottom",h=e.bottom-n.top)}let S=(e.bottom-e.top)/a.offsetHeight,N=(e.right-e.left)/a.offsetWidth;return{style:`${f}: ${h/S}px; max-width: ${p/N}px`,class:"cm-completionInfo-"+(u?s?"left-narrow":"right-narrow":o?"left":"right")}}function Vme(t){let e=t.addToOptions.slice();return t.icons&&e.push({render(n){let r=document.createElement("div");return r.classList.add("cm-completionIcon"),n.type&&r.classList.add(...n.type.split(/\s+/g).map(i=>"cm-completionIcon-"+i)),r.setAttribute("aria-hidden","true"),r},position:20}),e.push({render(n,r,i,a){let s=document.createElement("span");s.className="cm-completionLabel";let o=n.displayLabel||n.label,u=0;for(let f=0;f<a.length;){let h=a[f++],p=a[f++];h>u&&s.appendChild(document.createTextNode(o.slice(u,h)));let y=s.appendChild(document.createElement("span"));y.appendChild(document.createTextNode(o.slice(h,p))),y.className="cm-completionMatchedText",u=p}return u<o.length&&s.appendChild(document.createTextNode(o.slice(u))),s},position:50},{render(n){if(!n.detail)return null;let r=document.createElement("span");return r.className="cm-completionDetail",r.textContent=n.detail,r},position:80}),e.sort((n,r)=>n.position-r.position).map(n=>n.render)}function D1(t,e,n){if(t<=n)return{from:0,to:t};if(e<0&&(e=0),e<=t>>1){let i=Math.floor(e/n);return{from:i*n,to:(i+1)*n}}let r=Math.floor((t-e)/n);return{from:t-(r+1)*n,to:t-r*n}}class Fme{constructor(e,n,r){this.view=e,this.stateField=n,this.applyCompletion=r,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:u=>this.placeInfo(u),key:this},this.space=null,this.currentClass="";let i=e.state.field(n),{options:a,selected:s}=i.open,o=e.state.facet(an);this.optionContent=Vme(o),this.optionClass=o.optionClass,this.tooltipClass=o.tooltipClass,this.range=D1(a.length,s,o.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(e.state),this.dom.addEventListener("mousedown",u=>{let{options:f}=e.state.field(n).open;for(let h=u.target,p;h&&h!=this.dom;h=h.parentNode)if(h.nodeName=="LI"&&(p=/-(\d+)$/.exec(h.id))&&+p[1]<f.length){this.applyCompletion(e,f[+p[1]]),u.preventDefault();return}}),this.dom.addEventListener("focusout",u=>{let f=e.state.field(this.stateField,!1);f&&f.tooltip&&e.state.facet(an).closeOnBlur&&u.relatedTarget!=e.contentDOM&&e.dispatch({effects:cd.of(null)})}),this.showOptions(a,i.id)}mount(){this.updateSel()}showOptions(e,n){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(e,n,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(e){var n;let r=e.state.field(this.stateField),i=e.startState.field(this.stateField);if(this.updateTooltipClass(e.state),r!=i){let{options:a,selected:s,disabled:o}=r.open;(!i.open||i.open.options!=a)&&(this.range=D1(a.length,s,e.state.facet(an).maxRenderedOptions),this.showOptions(a,r.id)),this.updateSel(),o!=((n=i.open)===null||n===void 0?void 0:n.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!o)}}updateTooltipClass(e){let n=this.tooltipClass(e);if(n!=this.currentClass){for(let r of this.currentClass.split(" "))r&&this.dom.classList.remove(r);for(let r of n.split(" "))r&&this.dom.classList.add(r);this.currentClass=n}}positioned(e){this.space=e,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let e=this.view.state.field(this.stateField),n=e.open;(n.selected>-1&&n.selected<this.range.from||n.selected>=this.range.to)&&(this.range=D1(n.options.length,n.selected,this.view.state.facet(an).maxRenderedOptions),this.showOptions(n.options,e.id));let r=this.updateSelectedOption(n.selected);if(r){this.destroyInfo();let{completion:i}=n.options[n.selected],{info:a}=i;if(!a)return;let s=typeof a=="string"?document.createTextNode(a):a(i);if(!s)return;"then"in s?s.then(o=>{o&&this.view.state.field(this.stateField,!1)==e&&this.addInfoPane(o,i)}).catch(o=>nr(this.view.state,o,"completion info")):(this.addInfoPane(s,i),r.setAttribute("aria-describedby",this.info.id))}}addInfoPane(e,n){this.destroyInfo();let r=this.info=document.createElement("div");if(r.className="cm-tooltip cm-completionInfo",r.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),e.nodeType!=null)r.appendChild(e),this.infoDestroy=null;else{let{dom:i,destroy:a}=e;r.appendChild(i),this.infoDestroy=a||null}this.dom.appendChild(r),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(e){let n=null;for(let r=this.list.firstChild,i=this.range.from;r;r=r.nextSibling,i++)r.nodeName!="LI"||!r.id?i--:i==e?r.hasAttribute("aria-selected")||(r.setAttribute("aria-selected","true"),n=r):r.hasAttribute("aria-selected")&&(r.removeAttribute("aria-selected"),r.removeAttribute("aria-describedby"));return n&&Gme(this.list,n),n}measureInfo(){let e=this.dom.querySelector("[aria-selected]");if(!e||!this.info)return null;let n=this.dom.getBoundingClientRect(),r=this.info.getBoundingClientRect(),i=e.getBoundingClientRect(),a=this.space;if(!a){let s=this.dom.ownerDocument.documentElement;a={left:0,top:0,right:s.clientWidth,bottom:s.clientHeight}}return i.top>Math.min(a.bottom,n.bottom)-10||i.bottom<Math.max(a.top,n.top)+10?null:this.view.state.facet(an).positionInfo(this.view,n,i,r,a,this.dom)}placeInfo(e){this.info&&(e?(e.style&&(this.info.style.cssText=e.style),this.info.className="cm-tooltip cm-completionInfo "+(e.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(e,n,r){const i=document.createElement("ul");i.id=n,i.setAttribute("role","listbox"),i.setAttribute("aria-expanded","true"),i.setAttribute("aria-label",this.view.state.phrase("Completions")),i.addEventListener("mousedown",s=>{s.target==i&&s.preventDefault()});let a=null;for(let s=r.from;s<r.to;s++){let{completion:o,match:u}=e[s],{section:f}=o;if(f){let y=typeof f=="string"?f:f.name;if(y!=a&&(s>r.from||r.from==0))if(a=y,typeof f!="string"&&f.header)i.appendChild(f.header(f));else{let x=i.appendChild(document.createElement("completion-section"));x.textContent=y}}const h=i.appendChild(document.createElement("li"));h.id=n+"-"+s,h.setAttribute("role","option");let p=this.optionClass(o);p&&(h.className=p);for(let y of this.optionContent){let x=y(o,this.view.state,this.view,u);x&&h.appendChild(x)}}return r.from&&i.classList.add("cm-completionListIncompleteTop"),r.to<e.length&&i.classList.add("cm-completionListIncompleteBottom"),i}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function Wme(t,e){return n=>new Fme(n,t,e)}function Gme(t,e){let n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),i=n.height/t.offsetHeight;r.top<n.top?t.scrollTop-=(n.top-r.top)/i:r.bottom>n.bottom&&(t.scrollTop+=(r.bottom-n.bottom)/i)}function L4(t){return(t.boost||0)*100+(t.apply?10:0)+(t.info?5:0)+(t.type?1:0)}function Kme(t,e){let n=[],r=null,i=null,a=h=>{n.push(h);let{section:p}=h.completion;if(p){r||(r=[]);let y=typeof p=="string"?p:p.name;r.some(x=>x.name==y)||r.push(typeof p=="string"?{name:y}:p)}},s=e.facet(an);for(let h of t)if(h.hasResult()){let p=h.result.getMatch;if(h.result.filter===!1)for(let y of h.result.options)a(new D4(y,h.source,p?p(y):[],1e9-n.length));else{let y=e.sliceDoc(h.from,h.to),x,b=s.filterStrict?new qme(y):new $me(y);for(let j of h.result.options)if(x=b.match(j.label)){let S=j.displayLabel?p?p(j,x.matched):[]:x.matched,N=x.score+(j.boost||0);if(a(new D4(j,h.source,S,N)),typeof j.section=="object"&&j.section.rank==="dynamic"){let{name:O}=j.section;i||(i=Object.create(null)),i[O]=Math.max(N,i[O]||-1e9)}}}}if(r){let h=Object.create(null),p=0,y=(x,b)=>(x.rank==="dynamic"&&b.rank==="dynamic"?i[b.name]-i[x.name]:0)||(typeof x.rank=="number"?x.rank:1e9)-(typeof b.rank=="number"?b.rank:1e9)||(x.name<b.name?-1:1);for(let x of r.sort(y))p-=1e5,h[x.name]=p;for(let x of n){let{section:b}=x.completion;b&&(x.score+=h[typeof b=="string"?b:b.name])}}let o=[],u=null,f=s.compareCompletions;for(let h of n.sort((p,y)=>y.score-p.score||f(p.completion,y.completion))){let p=h.completion;!u||u.label!=p.label||u.detail!=p.detail||u.type!=null&&p.type!=null&&u.type!=p.type||u.apply!=p.apply||u.boost!=p.boost?o.push(h):L4(h.completion)>L4(u)&&(o[o.length-1]=h),u=h.completion}return o}class ic{constructor(e,n,r,i,a,s){this.options=e,this.attrs=n,this.tooltip=r,this.timestamp=i,this.selected=a,this.disabled=s}setSelected(e,n){return e==this.selected||e>=this.options.length?this:new ic(this.options,B4(n,e),this.tooltip,this.timestamp,e,this.disabled)}static build(e,n,r,i,a,s){if(i&&!s&&e.some(f=>f.isPending))return i.setDisabled();let o=Kme(e,n);if(!o.length)return i&&e.some(f=>f.isPending)?i.setDisabled():null;let u=n.facet(an).selectOnOpen?0:-1;if(i&&i.selected!=u&&i.selected!=-1){let f=i.options[i.selected].completion;for(let h=0;h<o.length;h++)if(o[h].completion==f){u=h;break}}return new ic(o,B4(r,u),{pos:e.reduce((f,h)=>h.hasResult()?Math.min(f,h.from):f,1e8),create:epe,above:a.aboveCursor},i?i.timestamp:Date.now(),u,!1)}map(e){return new ic(this.options,this.attrs,{...this.tooltip,pos:e.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new ic(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class Pg{constructor(e,n,r){this.active=e,this.id=n,this.open=r}static start(){return new Pg(Zme,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(e){let{state:n}=e,r=n.facet(an),a=(r.override||n.languageDataAt("autocomplete",Bl(n)).map(Ume)).map(u=>(this.active.find(h=>h.source==u)||new Yr(u,this.active.some(h=>h.state!=0)?1:0)).update(e,r));a.length==this.active.length&&a.every((u,f)=>u==this.active[f])&&(a=this.active);let s=this.open,o=e.effects.some(u=>u.is(AN));s&&e.docChanged&&(s=s.map(e.changes)),e.selection||a.some(u=>u.hasResult()&&e.changes.touchesRange(u.from,u.to))||!Yme(a,this.active)||o?s=ic.build(a,n,this.id,s,r,o):s&&s.disabled&&!a.some(u=>u.isPending)&&(s=null),!s&&a.every(u=>!u.isPending)&&a.some(u=>u.hasResult())&&(a=a.map(u=>u.hasResult()?new Yr(u.source,0):u));for(let u of e.effects)u.is(KI)&&(s=s&&s.setSelected(u.value,this.id));return a==this.active&&s==this.open?this:new Pg(a,this.id,s)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?Qme:Xme}}function Yme(t,e){if(t==e)return!0;for(let n=0,r=0;;){for(;n<t.length&&!t[n].hasResult();)n++;for(;r<e.length&&!e[r].hasResult();)r++;let i=n==t.length,a=r==e.length;if(i||a)return i==a;if(t[n++].result!=e[r++].result)return!1}}const Qme={"aria-autocomplete":"list"},Xme={};function B4(t,e){let n={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":t};return e>-1&&(n["aria-activedescendant"]=t+"-"+e),n}const Zme=[];function GI(t,e){if(t.isUserEvent("input.complete")){let r=t.annotation(WI);if(r&&e.activateOnCompletion(r))return 12}let n=t.isUserEvent("input.type");return n&&e.activateOnTyping?5:n?1:t.isUserEvent("delete.backward")?2:t.selection?8:t.docChanged?16:0}class Yr{constructor(e,n,r=!1){this.source=e,this.state=n,this.explicit=r}hasResult(){return!1}get isPending(){return this.state==1}update(e,n){let r=GI(e,n),i=this;(r&8||r&16&&this.touches(e))&&(i=new Yr(i.source,0)),r&4&&i.state==0&&(i=new Yr(this.source,1)),i=i.updateFor(e,r);for(let a of e.effects)if(a.is(Dg))i=new Yr(i.source,1,a.value);else if(a.is(cd))i=new Yr(i.source,0);else if(a.is(AN))for(let s of a.value)s.source==i.source&&(i=s);return i}updateFor(e,n){return this.map(e.changes)}map(e){return this}touches(e){return e.changes.touchesRange(Bl(e.state))}}class hc extends Yr{constructor(e,n,r,i,a,s){super(e,3,n),this.limit=r,this.result=i,this.from=a,this.to=s}hasResult(){return!0}updateFor(e,n){var r;if(!(n&3))return this.map(e.changes);let i=this.result;i.map&&!e.changes.empty&&(i=i.map(i,e.changes));let a=e.changes.mapPos(this.from),s=e.changes.mapPos(this.to,1),o=Bl(e.state);if(o>s||!i||n&2&&(Bl(e.startState)==this.from||o<this.limit))return new Yr(this.source,n&4?1:0);let u=e.changes.mapPos(this.limit);return Jme(i.validFor,e.state,a,s)?new hc(this.source,this.explicit,u,i,a,s):i.update&&(i=i.update(i,a,s,new HI(e.state,o,!1)))?new hc(this.source,this.explicit,u,i,i.from,(r=i.to)!==null&&r!==void 0?r:Bl(e.state)):new Yr(this.source,1,this.explicit)}map(e){return e.empty?this:(this.result.map?this.result.map(this.result,e):this.result)?new hc(this.source,this.explicit,e.mapPos(this.limit),this.result,e.mapPos(this.from),e.mapPos(this.to,1)):new Yr(this.source,0)}touches(e){return e.changes.touchesRange(this.from,this.to)}}function Jme(t,e,n,r){if(!t)return!1;let i=e.sliceDoc(n,r);return typeof t=="function"?t(i,n,r,e):FI(t,!0).test(i)}const AN=Be.define({map(t,e){return t.map(n=>n.map(e))}}),KI=Be.define(),Xn=On.define({create(){return Pg.start()},update(t,e){return t.update(e)},provide:t=>[hN.from(t,e=>e.tooltip),xe.contentAttributes.from(t,e=>e.attrs)]});function EN(t,e){const n=e.completion.apply||e.completion.label;let r=t.state.field(Xn).active.find(i=>i.source==e.source);return r instanceof hc?(typeof n=="string"?t.dispatch({...Ime(t.state,n,r.from,r.to),annotations:WI.of(e.completion)}):n(t,e.completion,r.from,r.to),!0):!1}const epe=Wme(Xn,EN);function qm(t,e="option"){return n=>{let r=n.state.field(Xn,!1);if(!r||!r.open||r.open.disabled||Date.now()-r.open.timestamp<n.state.facet(an).interactionDelay)return!1;let i=1,a;e=="page"&&(a=Cz(n,r.open.tooltip))&&(i=Math.max(2,Math.floor(a.dom.offsetHeight/a.dom.querySelector("li").offsetHeight)-1));let{length:s}=r.open.options,o=r.open.selected>-1?r.open.selected+i*(t?1:-1):t?0:s-1;return o<0?o=e=="page"?0:s-1:o>=s&&(o=e=="page"?s-1:0),n.dispatch({effects:KI.of(o)}),!0}}const tpe=t=>{let e=t.state.field(Xn,!1);return t.state.readOnly||!e||!e.open||e.open.selected<0||e.open.disabled||Date.now()-e.open.timestamp<t.state.facet(an).interactionDelay?!1:EN(t,e.open.options[e.open.selected])},P1=t=>t.state.field(Xn,!1)?(t.dispatch({effects:Dg.of(!0)}),!0):!1,npe=t=>{let e=t.state.field(Xn,!1);return!e||!e.active.some(n=>n.state!=0)?!1:(t.dispatch({effects:cd.of(null)}),!0)};class rpe{constructor(e,n){this.active=e,this.context=n,this.time=Date.now(),this.updates=[],this.done=void 0}}const ipe=50,ape=1e3,spe=Bt.fromClass(class{constructor(t){this.view=t,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let e of t.state.field(Xn).active)e.isPending&&this.startQuery(e)}update(t){let e=t.state.field(Xn),n=t.state.facet(an);if(!t.selectionSet&&!t.docChanged&&t.startState.field(Xn)==e)return;let r=t.transactions.some(a=>{let s=GI(a,n);return s&8||(a.selection||a.docChanged)&&!(s&3)});for(let a=0;a<this.running.length;a++){let s=this.running[a];if(r||s.context.abortOnDocChange&&t.docChanged||s.updates.length+t.transactions.length>ipe&&Date.now()-s.time>ape){for(let o of s.context.abortListeners)try{o()}catch(u){nr(this.view.state,u)}s.context.abortListeners=null,this.running.splice(a--,1)}else s.updates.push(...t.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),t.transactions.some(a=>a.effects.some(s=>s.is(Dg)))&&(this.pendingStart=!0);let i=this.pendingStart?50:n.activateOnTypingDelay;if(this.debounceUpdate=e.active.some(a=>a.isPending&&!this.running.some(s=>s.active.source==a.source))?setTimeout(()=>this.startUpdate(),i):-1,this.composing!=0)for(let a of t.transactions)a.isUserEvent("input.type")?this.composing=2:this.composing==2&&a.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:t}=this.view,e=t.field(Xn);for(let n of e.active)n.isPending&&!this.running.some(r=>r.active.source==n.source)&&this.startQuery(n);this.running.length&&e.open&&e.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(an).updateSyncTime))}startQuery(t){let{state:e}=this.view,n=Bl(e),r=new HI(e,n,t.explicit,this.view),i=new rpe(t,r);this.running.push(i),Promise.resolve(t.source(r)).then(a=>{i.context.aborted||(i.done=a||null,this.scheduleAccept())},a=>{this.view.dispatch({effects:cd.of(null)}),nr(this.view.state,a)})}scheduleAccept(){this.running.every(t=>t.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(an).updateSyncTime))}accept(){var t;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let e=[],n=this.view.state.facet(an),r=this.view.state.field(Xn);for(let i=0;i<this.running.length;i++){let a=this.running[i];if(a.done===void 0)continue;if(this.running.splice(i--,1),a.done){let o=Bl(a.updates.length?a.updates[0].startState:this.view.state),u=Math.min(o,a.done.from+(a.active.explicit?0:1)),f=new hc(a.active.source,a.active.explicit,u,a.done,a.done.from,(t=a.done.to)!==null&&t!==void 0?t:o);for(let h of a.updates)f=f.update(h,n);if(f.hasResult()){e.push(f);continue}}let s=r.active.find(o=>o.source==a.active.source);if(s&&s.isPending)if(a.done==null){let o=new Yr(a.active.source,0);for(let u of a.updates)o=o.update(u,n);o.isPending||e.push(o)}else this.startQuery(s)}(e.length||r.open&&r.open.disabled)&&this.view.dispatch({effects:AN.of(e)})}},{eventHandlers:{blur(t){let e=this.view.state.field(Xn,!1);if(e&&e.tooltip&&this.view.state.facet(an).closeOnBlur){let n=e.open&&Cz(this.view,e.open.tooltip);(!n||!n.dom.contains(t.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:cd.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:Dg.of(!1)}),20),this.composing=0}}}),lpe=typeof navigator=="object"&&/Win/.test(navigator.platform),ope=io.highest(xe.domEventHandlers({keydown(t,e){let n=e.state.field(Xn,!1);if(!n||!n.open||n.open.disabled||n.open.selected<0||t.key.length>1||t.ctrlKey&&!(lpe&&t.altKey)||t.metaKey)return!1;let r=n.open.options[n.open.selected],i=n.active.find(s=>s.source==r.source),a=r.completion.commitCharacters||i.result.commitCharacters;return a&&a.indexOf(t.key)>-1&&EN(e,r),!1}})),cpe=xe.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}}),ud={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},Ml=Be.define({map(t,e){let n=e.mapPos(t,-1,Ln.TrackAfter);return n??void 0}}),TN=new class extends Bs{};TN.startSide=1;TN.endSide=-1;const YI=On.define({create(){return He.empty},update(t,e){if(t=t.map(e.changes),e.selection){let n=e.state.doc.lineAt(e.selection.main.head);t=t.update({filter:r=>r>=n.from&&r<=n.to})}for(let n of e.effects)n.is(Ml)&&(t=t.update({add:[TN.range(n.value,n.value+1)]}));return t}});function upe(){return[dpe,YI]}const R1="()[]{}<>";function QI(t){for(let e=0;e<R1.length;e+=2)if(R1.charCodeAt(e)==t)return R1.charAt(e+1);return Q2(t<128?t:t+1)}function XI(t,e){return t.languageDataAt("closeBrackets",e)[0]||ud}const fpe=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),dpe=xe.inputHandler.of((t,e,n,r)=>{if((fpe?t.composing:t.compositionStarted)||t.state.readOnly)return!1;let i=t.state.selection.main;if(r.length>2||r.length==2&&Di(Qn(r,0))==1||e!=i.from||n!=i.to)return!1;let a=ppe(t.state,r);return a?(t.dispatch(a),!0):!1}),hpe=({state:t,dispatch:e})=>{if(t.readOnly)return!1;let r=XI(t,t.selection.main.head).brackets||ud.brackets,i=null,a=t.changeByRange(s=>{if(s.empty){let o=gpe(t.doc,s.head);for(let u of r)if(u==o&&ey(t.doc,s.head)==QI(Qn(u,0)))return{changes:{from:s.head-u.length,to:s.head+u.length},range:he.cursor(s.head-u.length)}}return{range:i=s}});return i||e(t.update(a,{scrollIntoView:!0,userEvent:"delete.backward"})),!i},mpe=[{key:"Backspace",run:hpe}];function ppe(t,e){let n=XI(t,t.selection.main.head),r=n.brackets||ud.brackets;for(let i of r){let a=QI(Qn(i,0));if(e==i)return a==i?vpe(t,i,r.indexOf(i+i+i)>-1,n):ype(t,i,a,n.before||ud.before);if(e==a&&ZI(t,t.selection.main.from))return xpe(t,i,a)}return null}function ZI(t,e){let n=!1;return t.field(YI).between(0,t.doc.length,r=>{r==e&&(n=!0)}),n}function ey(t,e){let n=t.sliceString(e,e+2);return n.slice(0,Di(Qn(n,0)))}function gpe(t,e){let n=t.sliceString(e-2,e);return Di(Qn(n,0))==n.length?n:n.slice(1)}function ype(t,e,n,r){let i=null,a=t.changeByRange(s=>{if(!s.empty)return{changes:[{insert:e,from:s.from},{insert:n,from:s.to}],effects:Ml.of(s.to+e.length),range:he.range(s.anchor+e.length,s.head+e.length)};let o=ey(t.doc,s.head);return!o||/\s/.test(o)||r.indexOf(o)>-1?{changes:{insert:e+n,from:s.head},effects:Ml.of(s.head+e.length),range:he.cursor(s.head+e.length)}:{range:i=s}});return i?null:t.update(a,{scrollIntoView:!0,userEvent:"input.type"})}function xpe(t,e,n){let r=null,i=t.changeByRange(a=>a.empty&&ey(t.doc,a.head)==n?{changes:{from:a.head,to:a.head+n.length,insert:n},range:he.cursor(a.head+n.length)}:r={range:a});return r?null:t.update(i,{scrollIntoView:!0,userEvent:"input.type"})}function vpe(t,e,n,r){let i=r.stringPrefixes||ud.stringPrefixes,a=null,s=t.changeByRange(o=>{if(!o.empty)return{changes:[{insert:e,from:o.from},{insert:e,from:o.to}],effects:Ml.of(o.to+e.length),range:he.range(o.anchor+e.length,o.head+e.length)};let u=o.head,f=ey(t.doc,u),h;if(f==e){if(z4(t,u))return{changes:{insert:e+e,from:u},effects:Ml.of(u+e.length),range:he.cursor(u+e.length)};if(ZI(t,u)){let y=n&&t.sliceDoc(u,u+e.length*3)==e+e+e?e+e+e:e;return{changes:{from:u,to:u+y.length,insert:y},range:he.cursor(u+y.length)}}}else{if(n&&t.sliceDoc(u-2*e.length,u)==e+e&&(h=I4(t,u-2*e.length,i))>-1&&z4(t,h))return{changes:{insert:e+e+e+e,from:u},effects:Ml.of(u+e.length),range:he.cursor(u+e.length)};if(t.charCategorizer(u)(f)!=wt.Word&&I4(t,u,i)>-1&&!bpe(t,u,e,i))return{changes:{insert:e+e,from:u},effects:Ml.of(u+e.length),range:he.cursor(u+e.length)}}return{range:a=o}});return a?null:t.update(s,{scrollIntoView:!0,userEvent:"input.type"})}function z4(t,e){let n=ln(t).resolveInner(e+1);return n.parent&&n.from==e}function bpe(t,e,n,r){let i=ln(t).resolveInner(e,-1),a=r.reduce((s,o)=>Math.max(s,o.length),0);for(let s=0;s<5;s++){let o=t.sliceDoc(i.from,Math.min(i.to,i.from+n.length+a)),u=o.indexOf(n);if(!u||u>-1&&r.indexOf(o.slice(0,u))>-1){let h=i.firstChild;for(;h&&h.from==i.from&&h.to-h.from>n.length+u;){if(t.sliceDoc(h.to-n.length,h.to)==n)return!1;h=h.firstChild}return!0}let f=i.to==e&&i.parent;if(!f)break;i=f}return!1}function I4(t,e,n){let r=t.charCategorizer(e);if(r(t.sliceDoc(e-1,e))!=wt.Word)return e;for(let i of n){let a=e-i.length;if(t.sliceDoc(a,e)==i&&r(t.sliceDoc(a-1,a))!=wt.Word)return a}return-1}function wpe(t={}){return[ope,Xn,an.of(t),spe,Spe,cpe]}const JI=[{key:"Ctrl-Space",run:P1},{mac:"Alt-`",run:P1},{mac:"Alt-i",run:P1},{key:"Escape",run:npe},{key:"ArrowDown",run:qm(!0)},{key:"ArrowUp",run:qm(!1)},{key:"PageDown",run:qm(!0,"page")},{key:"PageUp",run:qm(!1,"page")},{key:"Enter",run:tpe}],Spe=io.highest(F0.computeN([an],t=>t.facet(an).defaultKeymap?[JI]:[]));class U4{constructor(e,n,r){this.from=e,this.to=n,this.diagnostic=r}}class Nl{constructor(e,n,r){this.diagnostics=e,this.panel=n,this.selected=r}static init(e,n,r){let i=r.facet(fd).markerFilter;i&&(e=i(e,r));let a=e.slice().sort((x,b)=>x.from-b.from||x.to-b.to),s=new Pa,o=[],u=0,f=r.doc.iter(),h=0,p=r.doc.length;for(let x=0;;){let b=x==a.length?null:a[x];if(!b&&!o.length)break;let j,S;if(o.length)j=u,S=o.reduce((C,_)=>Math.min(C,_.to),b&&b.from>j?b.from:1e8);else{if(j=b.from,j>p)break;S=b.to,o.push(b),x++}for(;x<a.length;){let C=a[x];if(C.from==j&&(C.to>C.from||C.to==j))o.push(C),x++,S=Math.min(C.to,S);else{S=Math.min(C.from,S);break}}S=Math.min(S,p);let N=!1;if(o.some(C=>C.from==j&&(C.to==S||S==p))&&(N=j==S,!N&&S-j<10)){let C=j-(h+f.value.length);C>0&&(f.next(C),h=j);for(let _=j;;){if(_>=S){N=!0;break}if(!f.lineBreak&&h+f.value.length>_)break;_=h+f.value.length,h+=f.value.length,f.next()}}let O=Rpe(o);if(N)s.add(j,j,Me.widget({widget:new Mpe(O),diagnostics:o.slice()}));else{let C=o.reduce((_,P)=>P.markClass?_+" "+P.markClass:_,"");s.add(j,S,Me.mark({class:"cm-lintRange cm-lintRange-"+O+C,diagnostics:o.slice(),inclusiveEnd:o.some(_=>_.to>S)}))}if(u=S,u==p)break;for(let C=0;C<o.length;C++)o[C].to<=u&&o.splice(C--,1)}let y=s.finish();return new Nl(y,n,Hs(y))}}function Hs(t,e=null,n=0){let r=null;return t.between(n,1e9,(i,a,{spec:s})=>{if(!(e&&s.diagnostics.indexOf(e)<0))if(!r)r=new U4(i,a,e||s.diagnostics[0]);else{if(s.diagnostics.indexOf(r.diagnostic)<0)return!1;r=new U4(r.from,a,r.diagnostic)}}),r}function jpe(t,e){let n=e.pos,r=e.end||n,i=t.state.facet(fd).hideOn(t,n,r);if(i!=null)return i;let a=t.startState.doc.lineAt(e.pos);return!!(t.effects.some(s=>s.is(e7))||t.changes.touchesRange(a.from,Math.max(a.to,r)))}function Npe(t,e){return t.field(Cr,!1)?e:e.concat(Be.appendConfig.of(Lpe))}const e7=Be.define(),MN=Be.define(),t7=Be.define(),Cr=On.define({create(){return new Nl(Me.none,null,null)},update(t,e){if(e.docChanged&&t.diagnostics.size){let n=t.diagnostics.map(e.changes),r=null,i=t.panel;if(t.selected){let a=e.changes.mapPos(t.selected.from,1);r=Hs(n,t.selected.diagnostic,a)||Hs(n,null,a)}!n.size&&i&&e.state.facet(fd).autoPanel&&(i=null),t=new Nl(n,i,r)}for(let n of e.effects)if(n.is(e7)){let r=e.state.facet(fd).autoPanel?n.value.length?dd.open:null:t.panel;t=Nl.init(n.value,r,e.state)}else n.is(MN)?t=new Nl(t.diagnostics,n.value?dd.open:null,t.selected):n.is(t7)&&(t=new Nl(t.diagnostics,t.panel,n.value));return t},provide:t=>[id.from(t,e=>e.panel),xe.decorations.from(t,e=>e.diagnostics)]}),Cpe=Me.mark({class:"cm-lintRange cm-lintRange-active"});function kpe(t,e,n){let{diagnostics:r}=t.state.field(Cr),i,a=-1,s=-1;r.between(e-(n<0?1:0),e+(n>0?1:0),(u,f,{spec:h})=>{if(e>=u&&e<=f&&(u==f||(e>u||n>0)&&(e<f||n<0)))return i=h.diagnostics,a=u,s=f,!1});let o=t.state.facet(fd).tooltipFilter;return i&&o&&(i=o(i,t.state)),i?{pos:a,end:s,above:t.state.doc.lineAt(a).to<s,create(){return{dom:Ope(t,i)}}}:null}function Ope(t,e){return lt("ul",{class:"cm-tooltip-lint"},e.map(n=>r7(t,n,!1)))}const Ape=t=>{let e=t.state.field(Cr,!1);(!e||!e.panel)&&t.dispatch({effects:Npe(t.state,[MN.of(!0)])});let n=mN(t,dd.open);return n&&n.dom.querySelector(".cm-panel-lint ul").focus(),!0},$4=t=>{let e=t.state.field(Cr,!1);return!e||!e.panel?!1:(t.dispatch({effects:MN.of(!1)}),!0)},Epe=t=>{let e=t.state.field(Cr,!1);if(!e)return!1;let n=t.state.selection.main,r=Hs(e.diagnostics,null,n.to+1);return!r&&(r=Hs(e.diagnostics,null,0),!r||r.from==n.from&&r.to==n.to)?!1:(t.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0}),!0)},Tpe=[{key:"Mod-Shift-m",run:Ape,preventDefault:!0},{key:"F8",run:Epe}],fd=be.define({combine(t){return{sources:t.map(e=>e.source).filter(e=>e!=null),...Qi(t.map(e=>e.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:q4,tooltipFilter:q4,needsRefresh:(e,n)=>e?n?r=>e(r)||n(r):e:n,hideOn:(e,n)=>e?n?(r,i,a)=>e(r,i,a)||n(r,i,a):e:n,autoPanel:(e,n)=>e||n})}}});function q4(t,e){return t?e?(n,r)=>e(t(n,r),r):t:e}function n7(t){let e=[];if(t)e:for(let{name:n}of t){for(let r=0;r<n.length;r++){let i=n[r];if(/[a-zA-Z]/.test(i)&&!e.some(a=>a.toLowerCase()==i.toLowerCase())){e.push(i);continue e}}e.push("")}return e}function r7(t,e,n){var r;let i=n?n7(e.actions):[];return lt("li",{class:"cm-diagnostic cm-diagnostic-"+e.severity},lt("span",{class:"cm-diagnosticText"},e.renderMessage?e.renderMessage(t):e.message),(r=e.actions)===null||r===void 0?void 0:r.map((a,s)=>{let o=!1,u=x=>{if(x.preventDefault(),o)return;o=!0;let b=Hs(t.state.field(Cr).diagnostics,e);b&&a.apply(t,b.from,b.to)},{name:f}=a,h=i[s]?f.indexOf(i[s]):-1,p=h<0?f:[f.slice(0,h),lt("u",f.slice(h,h+1)),f.slice(h+1)],y=a.markClass?" "+a.markClass:"";return lt("button",{type:"button",class:"cm-diagnosticAction"+y,onclick:u,onmousedown:u,"aria-label":` Action: ${f}${h<0?"":` (access key "${i[s]})"`}.`},p)}),e.source&&lt("div",{class:"cm-diagnosticSource"},e.source))}class Mpe extends Xi{constructor(e){super(),this.sev=e}eq(e){return e.sev==this.sev}toDOM(){return lt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class H4{constructor(e,n){this.diagnostic=n,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=r7(e,n,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class dd{constructor(e){this.view=e,this.items=[];let n=i=>{if(!(i.ctrlKey||i.altKey||i.metaKey)){if(i.keyCode==27)$4(this.view),this.view.focus();else if(i.keyCode==38||i.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(i.keyCode==40||i.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(i.keyCode==36)this.moveSelection(0);else if(i.keyCode==35)this.moveSelection(this.items.length-1);else if(i.keyCode==13)this.view.focus();else if(i.keyCode>=65&&i.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:a}=this.items[this.selectedIndex],s=n7(a.actions);for(let o=0;o<s.length;o++)if(s[o].toUpperCase().charCodeAt(0)==i.keyCode){let u=Hs(this.view.state.field(Cr).diagnostics,a);u&&a.actions[o].apply(e,u.from,u.to)}}else return;i.preventDefault()}},r=i=>{for(let a=0;a<this.items.length;a++)this.items[a].dom.contains(i.target)&&this.moveSelection(a)};this.list=lt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:n,onclick:r}),this.dom=lt("div",{class:"cm-panel-lint"},this.list,lt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>$4(this.view)},"")),this.update()}get selectedIndex(){let e=this.view.state.field(Cr).selected;if(!e)return-1;for(let n=0;n<this.items.length;n++)if(this.items[n].diagnostic==e.diagnostic)return n;return-1}update(){let{diagnostics:e,selected:n}=this.view.state.field(Cr),r=0,i=!1,a=null,s=new Set;for(e.between(0,this.view.state.doc.length,(o,u,{spec:f})=>{for(let h of f.diagnostics){if(s.has(h))continue;s.add(h);let p=-1,y;for(let x=r;x<this.items.length;x++)if(this.items[x].diagnostic==h){p=x;break}p<0?(y=new H4(this.view,h),this.items.splice(r,0,y),i=!0):(y=this.items[p],p>r&&(this.items.splice(r,p-r),i=!0)),n&&y.diagnostic==n.diagnostic?y.dom.hasAttribute("aria-selected")||(y.dom.setAttribute("aria-selected","true"),a=y):y.dom.hasAttribute("aria-selected")&&y.dom.removeAttribute("aria-selected"),r++}});r<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)i=!0,this.items.pop();this.items.length==0&&(this.items.push(new H4(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),i=!0),a?(this.list.setAttribute("aria-activedescendant",a.id),this.view.requestMeasure({key:this,read:()=>({sel:a.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:o,panel:u})=>{let f=u.height/this.list.offsetHeight;o.top<u.top?this.list.scrollTop-=(u.top-o.top)/f:o.bottom>u.bottom&&(this.list.scrollTop+=(o.bottom-u.bottom)/f)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),i&&this.sync()}sync(){let e=this.list.firstChild;function n(){let r=e;e=r.nextSibling,r.remove()}for(let r of this.items)if(r.dom.parentNode==this.list){for(;e!=r.dom;)n();e=r.dom.nextSibling}else this.list.insertBefore(r.dom,e);for(;e;)n()}moveSelection(e){if(this.selectedIndex<0)return;let n=this.view.state.field(Cr),r=Hs(n.diagnostics,this.items[e].diagnostic);r&&this.view.dispatch({selection:{anchor:r.from,head:r.to},scrollIntoView:!0,effects:t7.of(r)})}static open(e){return new dd(e)}}function _pe(t,e='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${e}>${encodeURIComponent(t)}</svg>')`}function Hm(t){return _pe(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${t}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const Dpe=xe.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:Hm("#d11")},".cm-lintRange-warning":{backgroundImage:Hm("orange")},".cm-lintRange-info":{backgroundImage:Hm("#999")},".cm-lintRange-hint":{backgroundImage:Hm("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function Ppe(t){return t=="error"?4:t=="warning"?3:t=="info"?2:1}function Rpe(t){let e="hint",n=1;for(let r of t){let i=Ppe(r.severity);i>n&&(n=i,e=r.severity)}return e}const Lpe=[Cr,xe.decorations.compute([Cr],t=>{let{selected:e,panel:n}=t.field(Cr);return!e||!n||e.from==e.to?Me.none:Me.set([Cpe.range(e.from,e.to)])}),Cfe(kpe,{hideOn:jpe}),Dpe];var V4=function(e){e===void 0&&(e={});var{crosshairCursor:n=!1}=e,r=[];e.closeBracketsKeymap!==!1&&(r=r.concat(mpe)),e.defaultKeymap!==!1&&(r=r.concat(sme)),e.searchKeymap!==!1&&(r=r.concat(Dme)),e.historyKeymap!==!1&&(r=r.concat(hhe)),e.foldKeymap!==!1&&(r=r.concat(Ode)),e.completionKeymap!==!1&&(r=r.concat(JI)),e.lintKeymap!==!1&&(r=r.concat(Tpe));var i=[];return e.lineNumbers!==!1&&i.push(zfe()),e.highlightActiveLineGutter!==!1&&i.push($fe()),e.highlightSpecialChars!==!1&&i.push(efe()),e.history!==!1&&i.push(ihe()),e.foldGutter!==!1&&i.push(Mde()),e.drawSelection!==!1&&i.push(Hue()),e.dropCursor!==!1&&i.push(Kue()),e.allowMultipleSelections!==!1&&i.push(Ge.allowMultipleSelections.of(!0)),e.indentOnInput!==!1&&i.push(xde()),e.syntaxHighlighting!==!1&&i.push(Xz(Rde,{fallback:!0})),e.bracketMatching!==!1&&i.push(qde()),e.closeBrackets!==!1&&i.push(upe()),e.autocompletion!==!1&&i.push(wpe()),e.rectangularSelection!==!1&&i.push(mfe()),n!==!1&&i.push(yfe()),e.highlightActiveLine!==!1&&i.push(sfe()),e.highlightSelectionMatches!==!1&&i.push(dme()),e.tabSize&&typeof e.tabSize=="number"&&i.push(G0.of(" ".repeat(e.tabSize))),i.concat([F0.of(r.flat())]).filter(Boolean)};const Bpe="#e5c07b",F4="#e06c75",zpe="#56b6c2",Ipe="#ffffff",lp="#abb2bf",YS="#7d8799",Upe="#61afef",$pe="#98c379",W4="#d19a66",qpe="#c678dd",Hpe="#21252b",G4="#2c313a",K4="#282c34",L1="#353a42",Vpe="#3E4451",Y4="#528bff",Fpe=xe.theme({"&":{color:lp,backgroundColor:K4},".cm-content":{caretColor:Y4},".cm-cursor, .cm-dropCursor":{borderLeftColor:Y4},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:Vpe},".cm-panels":{backgroundColor:Hpe,color:lp},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:K4,color:YS,border:"none"},".cm-activeLineGutter":{backgroundColor:G4},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:L1},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:L1,borderBottomColor:L1},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:G4,color:lp}}},{dark:!0}),Wpe=zd.define([{tag:ae.keyword,color:qpe},{tag:[ae.name,ae.deleted,ae.character,ae.propertyName,ae.macroName],color:F4},{tag:[ae.function(ae.variableName),ae.labelName],color:Upe},{tag:[ae.color,ae.constant(ae.name),ae.standard(ae.name)],color:W4},{tag:[ae.definition(ae.name),ae.separator],color:lp},{tag:[ae.typeName,ae.className,ae.number,ae.changed,ae.annotation,ae.modifier,ae.self,ae.namespace],color:Bpe},{tag:[ae.operator,ae.operatorKeyword,ae.url,ae.escape,ae.regexp,ae.link,ae.special(ae.string)],color:zpe},{tag:[ae.meta,ae.comment],color:YS},{tag:ae.strong,fontWeight:"bold"},{tag:ae.emphasis,fontStyle:"italic"},{tag:ae.strikethrough,textDecoration:"line-through"},{tag:ae.link,color:YS,textDecoration:"underline"},{tag:ae.heading,fontWeight:"bold",color:F4},{tag:[ae.atom,ae.bool,ae.special(ae.variableName)],color:W4},{tag:[ae.processingInstruction,ae.string,ae.inserted],color:$pe},{tag:ae.invalid,color:Ipe}]),Gpe=[Fpe,Xz(Wpe)];var Kpe=xe.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),Ype=function(e){e===void 0&&(e={});var{indentWithTab:n=!0,editable:r=!0,readOnly:i=!1,theme:a="light",placeholder:s="",basicSetup:o=!0}=e,u=[];switch(n&&u.unshift(F0.of([lme])),o&&(typeof o=="boolean"?u.unshift(V4()):u.unshift(V4(o))),s&&u.unshift(ufe(s)),a){case"light":u.push(Kpe);break;case"dark":u.push(Gpe);break;case"none":break;default:u.push(a);break}return r===!1&&u.push(xe.editable.of(!1)),i&&u.push(Ge.readOnly.of(!0)),[...u]},Qpe=t=>({line:t.state.doc.lineAt(t.state.selection.main.from),lineCount:t.state.doc.lines,lineBreak:t.state.lineBreak,length:t.state.doc.length,readOnly:t.state.readOnly,tabSize:t.state.tabSize,selection:t.state.selection,selectionAsSingle:t.state.selection.asSingle().main,ranges:t.state.selection.ranges,selectionCode:t.state.sliceDoc(t.state.selection.main.from,t.state.selection.main.to),selections:t.state.selection.ranges.map(e=>t.state.sliceDoc(e.from,e.to)),selectedText:t.state.selection.ranges.some(e=>!e.empty)});class Xpe{constructor(e,n){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=n,this.timeoutMS=n,this.callbacks.push(e)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var e=this.callbacks.slice();this.callbacks.length=0,e.forEach(n=>{try{n()}catch(r){console.error("TimeoutLatch callback error:",r)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Q4{constructor(){this.interval=null,this.latches=new Set}add(e){this.latches.add(e),this.start()}remove(e){this.latches.delete(e),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(e=>{e.tick(),e.isDone&&this.remove(e)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var B1=null,Zpe=()=>typeof window>"u"?new Q4:(B1||(B1=new Q4),B1),X4=Yi.define(),Jpe=200,ege=[];function tge(t){var{value:e,selection:n,onChange:r,onStatistics:i,onCreateEditor:a,onUpdate:s,extensions:o=ege,autoFocus:u,theme:f="light",height:h=null,minHeight:p=null,maxHeight:y=null,width:x=null,minWidth:b=null,maxWidth:j=null,placeholder:S="",editable:N=!0,readOnly:O=!1,indentWithTab:C=!0,basicSetup:_=!0,root:P,initialState:D}=t,[T,L]=k.useState(),[I,q]=k.useState(),[U,z]=k.useState(),H=k.useState(()=>({current:null}))[0],X=k.useState(()=>({current:null}))[0],W=xe.theme({"&":{height:h,minHeight:p,maxHeight:y,width:x,minWidth:b,maxWidth:j},"& .cm-scroller":{height:"100% !important"}}),V=xe.updateListener.of(oe=>{if(oe.docChanged&&typeof r=="function"&&!oe.transactions.some($=>$.annotation(X4))){H.current?H.current.reset():(H.current=new Xpe(()=>{if(X.current){var $=X.current;X.current=null,$()}H.current=null},Jpe),Zpe().add(H.current));var ge=oe.state.doc,M=ge.toString();r(M,oe)}i&&i(Qpe(oe))}),Y=Ype({theme:f,editable:N,readOnly:O,placeholder:S,indentWithTab:C,basicSetup:_}),J=[V,W,...Y];return s&&typeof s=="function"&&J.push(xe.updateListener.of(s)),J=J.concat(o),k.useLayoutEffect(()=>{if(T&&!U){var oe={doc:e,selection:n,extensions:J},ge=D?Ge.fromJSON(D.json,oe,D.fields):Ge.create(oe);if(z(ge),!I){var M=new xe({state:ge,parent:T,root:P});q(M),a&&a(M,ge)}}return()=>{I&&(z(void 0),q(void 0))}},[T,U]),k.useEffect(()=>{t.container&&L(t.container)},[t.container]),k.useEffect(()=>()=>{I&&(I.destroy(),q(void 0)),H.current&&(H.current.cancel(),H.current=null)},[I]),k.useEffect(()=>{u&&I&&I.focus()},[u,I]),k.useEffect(()=>{I&&I.dispatch({effects:Be.reconfigure.of(J)})},[f,o,h,p,y,x,b,j,S,N,O,C,_,r,s]),k.useEffect(()=>{if(e!==void 0){var oe=I?I.state.doc.toString():"";if(I&&e!==oe){var ge=H.current&&!H.current.isDone,M=()=>{I&&e!==I.state.doc.toString()&&I.dispatch({changes:{from:0,to:I.state.doc.toString().length,insert:e||""},annotations:[X4.of(!0)]})};ge?X.current=M:M()}}},[e,I]),{state:U,setState:z,view:I,setView:q,container:T,setContainer:L}}var nge=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],_N=k.forwardRef((t,e)=>{var{className:n,value:r="",selection:i,extensions:a=[],onChange:s,onStatistics:o,onCreateEditor:u,onUpdate:f,autoFocus:h,theme:p="light",height:y,minHeight:x,maxHeight:b,width:j,minWidth:S,maxWidth:N,basicSetup:O,placeholder:C,indentWithTab:_,editable:P,readOnly:D,root:T,initialState:L}=t,I=Eoe(t,nge),q=k.useRef(null),{state:U,view:z,container:H,setContainer:X}=tge({root:T,value:r,autoFocus:h,theme:p,height:y,minHeight:x,maxHeight:b,width:j,minWidth:S,maxWidth:N,basicSetup:O,placeholder:C,indentWithTab:_,editable:P,readOnly:D,selection:i,onChange:s,onStatistics:o,onCreateEditor:u,onUpdate:f,extensions:a,initialState:L});k.useImperativeHandle(e,()=>({editor:q.current,state:U,view:z}),[q,H,U,z]);var W=k.useCallback(Y=>{q.current=Y,X(Y)},[X]);if(typeof r!="string")throw new Error("value must be typeof string but got "+typeof r);var V=typeof p=="string"?"cm-theme-"+p:"cm-theme";return E.jsx("div",nS({ref:W,className:""+V+(n?" "+n:"")},I))});_N.displayName="CodeMirror";var Z4={};class Rg{constructor(e,n,r,i,a,s,o,u,f,h=0,p){this.p=e,this.stack=n,this.state=r,this.reducePos=i,this.pos=a,this.score=s,this.buffer=o,this.bufferBase=u,this.curContext=f,this.lookAhead=h,this.parent=p}toString(){return`[${this.stack.filter((e,n)=>n%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(e,n,r=0){let i=e.parser.context;return new Rg(e,[],n,r,r,0,[],0,i?new J4(i,i.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(e,n){this.stack.push(this.state,n,this.bufferBase+this.buffer.length),this.state=e}reduce(e){var n;let r=e>>19,i=e&65535,{parser:a}=this.p,s=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),o=a.dynamicPrecedence(i);if(o&&(this.score+=o),r==0){this.pushState(a.getGoto(this.state,i,!0),this.reducePos),i<a.minRepeatTerm&&this.storeNode(i,this.reducePos,this.reducePos,s?8:4,!0),this.reduceContext(i,this.reducePos);return}let u=this.stack.length-(r-1)*3-(e&262144?6:0),f=u?this.stack[u-2]:this.p.ranges[0].from,h=this.reducePos-f;h>=2e3&&!(!((n=this.p.parser.nodeSet.types[i])===null||n===void 0)&&n.isAnonymous)&&(f==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=h):this.p.lastBigReductionSize<h&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=f,this.p.lastBigReductionSize=h));let p=u?this.stack[u-1]:0,y=this.bufferBase+this.buffer.length-p;if(i<a.minRepeatTerm||e&131072){let x=a.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(i,f,x,y+4,!0)}if(e&262144)this.state=this.stack[u];else{let x=this.stack[u-3];this.state=a.getGoto(x,i,!0)}for(;this.stack.length>u;)this.stack.pop();this.reduceContext(i,f)}storeNode(e,n,r,i=4,a=!1){if(e==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let s=this,o=this.buffer.length;if(o==0&&s.parent&&(o=s.bufferBase-s.parent.bufferBase,s=s.parent),o>0&&s.buffer[o-4]==0&&s.buffer[o-1]>-1){if(n==r)return;if(s.buffer[o-2]>=n){s.buffer[o-2]=r;return}}}if(!a||this.pos==r)this.buffer.push(e,n,r,i);else{let s=this.buffer.length;if(s>0&&(this.buffer[s-4]!=0||this.buffer[s-1]<0)){let o=!1;for(let u=s;u>0&&this.buffer[u-2]>r;u-=4)if(this.buffer[u-1]>=0){o=!0;break}if(o)for(;s>0&&this.buffer[s-2]>r;)this.buffer[s]=this.buffer[s-4],this.buffer[s+1]=this.buffer[s-3],this.buffer[s+2]=this.buffer[s-2],this.buffer[s+3]=this.buffer[s-1],s-=4,i>4&&(i-=4)}this.buffer[s]=e,this.buffer[s+1]=n,this.buffer[s+2]=r,this.buffer[s+3]=i}}shift(e,n,r,i){if(e&131072)this.pushState(e&65535,this.pos);else if((e&262144)==0){let a=e,{parser:s}=this.p;this.pos=i;let o=s.stateFlag(a,1);!o&&(i>r||n<=s.maxNode)&&(this.reducePos=i),this.pushState(a,o?r:Math.min(r,this.reducePos)),this.shiftContext(n,r),n<=s.maxNode&&this.buffer.push(n,r,i,4)}else this.pos=i,this.shiftContext(n,r),n<=this.p.parser.maxNode&&this.buffer.push(n,r,i,4)}apply(e,n,r,i){e&65536?this.reduce(e):this.shift(e,n,r,i)}useNode(e,n){let r=this.p.reused.length-1;(r<0||this.p.reused[r]!=e)&&(this.p.reused.push(e),r++);let i=this.pos;this.reducePos=this.pos=i+e.length,this.pushState(n,i),this.buffer.push(r,i,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,e,this,this.p.stream.reset(this.pos-e.length)))}split(){let e=this,n=e.buffer.length;for(;n>0&&e.buffer[n-2]>e.reducePos;)n-=4;let r=e.buffer.slice(n),i=e.bufferBase+n;for(;e&&i==e.bufferBase;)e=e.parent;return new Rg(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,r,i,this.curContext,this.lookAhead,e)}recoverByDelete(e,n){let r=e<=this.p.parser.maxNode;r&&this.storeNode(e,this.pos,n,4),this.storeNode(0,this.pos,n,r?8:4),this.pos=this.reducePos=n,this.score-=190}canShift(e){for(let n=new rge(this);;){let r=this.p.parser.stateSlot(n.state,4)||this.p.parser.hasAction(n.state,e);if(r==0)return!1;if((r&65536)==0)return!0;n.reduce(r)}}recoverByInsert(e){if(this.stack.length>=300)return[];let n=this.p.parser.nextStates(this.state);if(n.length>8||this.stack.length>=120){let i=[];for(let a=0,s;a<n.length;a+=2)(s=n[a+1])!=this.state&&this.p.parser.hasAction(s,e)&&i.push(n[a],s);if(this.stack.length<120)for(let a=0;i.length<8&&a<n.length;a+=2){let s=n[a+1];i.some((o,u)=>u&1&&o==s)||i.push(n[a],s)}n=i}let r=[];for(let i=0;i<n.length&&r.length<4;i+=2){let a=n[i+1];if(a==this.state)continue;let s=this.split();s.pushState(a,this.pos),s.storeNode(0,s.pos,s.pos,4,!0),s.shiftContext(n[i],this.pos),s.reducePos=this.pos,s.score-=200,r.push(s)}return r}forceReduce(){let{parser:e}=this.p,n=e.stateSlot(this.state,5);if((n&65536)==0)return!1;if(!e.validAction(this.state,n)){let r=n>>19,i=n&65535,a=this.stack.length-r*3;if(a<0||e.getGoto(this.stack[a],i,!1)<0){let s=this.findForcedReduction();if(s==null)return!1;n=s}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(n),!0}findForcedReduction(){let{parser:e}=this.p,n=[],r=(i,a)=>{if(!n.includes(i))return n.push(i),e.allActions(i,s=>{if(!(s&393216))if(s&65536){let o=(s>>19)-a;if(o>1){let u=s&65535,f=this.stack.length-o*3;if(f>=0&&e.getGoto(this.stack[f],u,!1)>=0)return o<<19|65536|u}}else{let o=r(s,a+1);if(o!=null)return o}})};return r(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:e}=this.p;return e.data[e.stateSlot(this.state,1)]==65535&&!e.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(e){if(this.state!=e.state||this.stack.length!=e.stack.length)return!1;for(let n=0;n<this.stack.length;n+=3)if(this.stack[n]!=e.stack[n])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(e){return this.p.parser.dialect.flags[e]}shiftContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,e,this,this.p.stream.reset(n)))}reduceContext(e,n){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,e,this,this.p.stream.reset(n)))}emitContext(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let e=this.buffer.length-1;(e<0||this.buffer[e]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(e){if(e!=this.curContext.context){let n=new J4(this.curContext.tracker,e);n.hash!=this.curContext.hash&&this.emitContext(),this.curContext=n}}setLookAhead(e){return e<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=e,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class J4{constructor(e,n){this.tracker=e,this.context=n,this.hash=e.strict?e.hash(n):0}}class rge{constructor(e){this.start=e,this.state=e.state,this.stack=e.stack,this.base=this.stack.length}reduce(e){let n=e&65535,r=e>>19;r==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(r-1)*3;let i=this.start.p.parser.getGoto(this.stack[this.base-3],n,!0);this.state=i}}class Lg{constructor(e,n,r){this.stack=e,this.pos=n,this.index=r,this.buffer=e.buffer,this.index==0&&this.maybeNext()}static create(e,n=e.bufferBase+e.buffer.length){return new Lg(e,n,n-e.bufferBase)}maybeNext(){let e=this.stack.parent;e!=null&&(this.index=this.stack.bufferBase-e.bufferBase,this.stack=e,this.buffer=e.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new Lg(this.stack,this.pos,this.index)}}function Vm(t,e=Uint16Array){if(typeof t!="string")return t;let n=null;for(let r=0,i=0;r<t.length;){let a=0;for(;;){let s=t.charCodeAt(r++),o=!1;if(s==126){a=65535;break}s>=92&&s--,s>=34&&s--;let u=s-32;if(u>=46&&(u-=46,o=!0),a+=u,o)break;a*=46}n?n[i++]=a:n=new e(a)}return n}class op{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const e3=new op;class ige{constructor(e,n){this.input=e,this.ranges=n,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=e3,this.rangeIndex=0,this.pos=this.chunkPos=n[0].from,this.range=n[0],this.end=n[n.length-1].to,this.readNext()}resolveOffset(e,n){let r=this.range,i=this.rangeIndex,a=this.pos+e;for(;a<r.from;){if(!i)return null;let s=this.ranges[--i];a-=r.from-s.to,r=s}for(;n<0?a>r.to:a>=r.to;){if(i==this.ranges.length-1)return null;let s=this.ranges[++i];a+=s.from-r.to,r=s}return a}clipPos(e){if(e>=this.range.from&&e<this.range.to)return e;for(let n of this.ranges)if(n.to>e)return Math.max(e,n.from);return this.end}peek(e){let n=this.chunkOff+e,r,i;if(n>=0&&n<this.chunk.length)r=this.pos+e,i=this.chunk.charCodeAt(n);else{let a=this.resolveOffset(e,1);if(a==null)return-1;if(r=a,r>=this.chunk2Pos&&r<this.chunk2Pos+this.chunk2.length)i=this.chunk2.charCodeAt(r-this.chunk2Pos);else{let s=this.rangeIndex,o=this.range;for(;o.to<=r;)o=this.ranges[++s];this.chunk2=this.input.chunk(this.chunk2Pos=r),r+this.chunk2.length>o.to&&(this.chunk2=this.chunk2.slice(0,o.to-r)),i=this.chunk2.charCodeAt(0)}}return r>=this.token.lookAhead&&(this.token.lookAhead=r+1),i}acceptToken(e,n=0){let r=n?this.resolveOffset(n,-1):this.pos;if(r==null||r<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=e,this.token.end=r}acceptTokenTo(e,n){this.token.value=e,this.token.end=n}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:e,chunkPos:n}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=e,this.chunk2Pos=n,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let e=this.input.chunk(this.pos),n=this.pos+e.length;this.chunk=n>this.range.to?e.slice(0,this.range.to-this.pos):e,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(e=1){for(this.chunkOff+=e;this.pos+e>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();e-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=e,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(e,n){if(n?(this.token=n,n.start=e,n.lookAhead=e+1,n.value=n.extended=-1):this.token=e3,this.pos!=e){if(this.pos=e,e==this.end)return this.setDone(),this;for(;e<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;e>=this.range.to;)this.range=this.ranges[++this.rangeIndex];e>=this.chunkPos&&e<this.chunkPos+this.chunk.length?this.chunkOff=e-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(e,n){if(e>=this.chunkPos&&n<=this.chunkPos+this.chunk.length)return this.chunk.slice(e-this.chunkPos,n-this.chunkPos);if(e>=this.chunk2Pos&&n<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(e-this.chunk2Pos,n-this.chunk2Pos);if(e>=this.range.from&&n<=this.range.to)return this.input.read(e,n);let r="";for(let i of this.ranges){if(i.from>=n)break;i.to>e&&(r+=this.input.read(Math.max(i.from,e),Math.min(i.to,n)))}return r}}class mc{constructor(e,n){this.data=e,this.id=n}token(e,n){let{parser:r}=n.p;sge(this.data,e,n,this.id,r.data,r.tokenPrecTable)}}mc.prototype.contextual=mc.prototype.fallback=mc.prototype.extend=!1;mc.prototype.fallback=mc.prototype.extend=!1;class age{constructor(e,n={}){this.token=e,this.contextual=!!n.contextual,this.fallback=!!n.fallback,this.extend=!!n.extend}}function sge(t,e,n,r,i,a){let s=0,o=1<<r,{dialect:u}=n.p.parser;e:for(;(o&t[s])!=0;){let f=t[s+1];for(let x=s+3;x<f;x+=2)if((t[x+1]&o)>0){let b=t[x];if(u.allows(b)&&(e.token.value==-1||e.token.value==b||lge(b,e.token.value,i,a))){e.acceptToken(b);break}}let h=e.next,p=0,y=t[s+2];if(e.next<0&&y>p&&t[f+y*3-3]==65535){s=t[f+y*3-1];continue e}for(;p<y;){let x=p+y>>1,b=f+x+(x<<1),j=t[b],S=t[b+1]||65536;if(h<j)y=x;else if(h>=S)p=x+1;else{s=t[b+2],e.advance();continue e}}break}}function t3(t,e,n){for(let r=e,i;(i=t[r])!=65535;r++)if(i==n)return r-e;return-1}function lge(t,e,n,r){let i=t3(n,r,e);return i<0||t3(n,r,t)<i}const br=typeof process<"u"&&Z4&&/\bparse\b/.test(Z4.LOG);let z1=null;function n3(t,e,n){let r=t.cursor(Mt.IncludeAnonymous);for(r.moveTo(e);;)if(!(n<0?r.childBefore(e):r.childAfter(e)))for(;;){if((n<0?r.to<e:r.from>e)&&!r.type.isError)return n<0?Math.max(0,Math.min(r.to-1,e-25)):Math.min(t.length,Math.max(r.from+1,e+25));if(n<0?r.prevSibling():r.nextSibling())break;if(!r.parent())return n<0?0:t.length}}class oge{constructor(e,n){this.fragments=e,this.nodeSet=n,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let e=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(e){for(this.safeFrom=e.openStart?n3(e.tree,e.from+e.offset,1)-e.offset:e.from,this.safeTo=e.openEnd?n3(e.tree,e.to+e.offset,-1)-e.offset:e.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(e.tree),this.start.push(-e.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(e){if(e<this.nextStart)return null;for(;this.fragment&&this.safeTo<=e;)this.nextFragment();if(!this.fragment)return null;for(;;){let n=this.trees.length-1;if(n<0)return this.nextFragment(),null;let r=this.trees[n],i=this.index[n];if(i==r.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let a=r.children[i],s=this.start[n]+r.positions[i];if(s>e)return this.nextStart=s,null;if(a instanceof Lt){if(s==e){if(s<this.safeFrom)return null;let o=s+a.length;if(o<=this.safeTo){let u=a.prop(Ue.lookAhead);if(!u||o+u<this.fragment.to)return a}}this.index[n]++,s+a.length>=Math.max(this.safeFrom,e)&&(this.trees.push(a),this.start.push(s),this.index.push(0))}else this.index[n]++,this.nextStart=s+a.length}}}class cge{constructor(e,n){this.stream=n,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=e.tokenizers.map(r=>new op)}getActions(e){let n=0,r=null,{parser:i}=e.p,{tokenizers:a}=i,s=i.stateSlot(e.state,3),o=e.curContext?e.curContext.hash:0,u=0;for(let f=0;f<a.length;f++){if((1<<f&s)==0)continue;let h=a[f],p=this.tokens[f];if(!(r&&!h.fallback)&&((h.contextual||p.start!=e.pos||p.mask!=s||p.context!=o)&&(this.updateCachedToken(p,h,e),p.mask=s,p.context=o),p.lookAhead>p.end+25&&(u=Math.max(p.lookAhead,u)),p.value!=0)){let y=n;if(p.extended>-1&&(n=this.addActions(e,p.extended,p.end,n)),n=this.addActions(e,p.value,p.end,n),!h.extend&&(r=p,n>y))break}}for(;this.actions.length>n;)this.actions.pop();return u&&e.setLookAhead(u),!r&&e.pos==this.stream.end&&(r=new op,r.value=e.p.parser.eofTerm,r.start=r.end=e.pos,n=this.addActions(e,r.value,r.end,n)),this.mainToken=r,this.actions}getMainToken(e){if(this.mainToken)return this.mainToken;let n=new op,{pos:r,p:i}=e;return n.start=r,n.end=Math.min(r+1,i.stream.end),n.value=r==i.stream.end?i.parser.eofTerm:0,n}updateCachedToken(e,n,r){let i=this.stream.clipPos(r.pos);if(n.token(this.stream.reset(i,e),r),e.value>-1){let{parser:a}=r.p;for(let s=0;s<a.specialized.length;s++)if(a.specialized[s]==e.value){let o=a.specializers[s](this.stream.read(e.start,e.end),r);if(o>=0&&r.p.parser.dialect.allows(o>>1)){(o&1)==0?e.value=o>>1:e.extended=o>>1;break}}}else e.value=0,e.end=this.stream.clipPos(i+1)}putAction(e,n,r,i){for(let a=0;a<i;a+=3)if(this.actions[a]==e)return i;return this.actions[i++]=e,this.actions[i++]=n,this.actions[i++]=r,i}addActions(e,n,r,i){let{state:a}=e,{parser:s}=e.p,{data:o}=s;for(let u=0;u<2;u++)for(let f=s.stateSlot(a,u?2:1);;f+=3){if(o[f]==65535)if(o[f+1]==1)f=xa(o,f+2);else{i==0&&o[f+1]==2&&(i=this.putAction(xa(o,f+2),n,r,i));break}o[f]==n&&(i=this.putAction(xa(o,f+1),n,r,i))}return i}}class uge{constructor(e,n,r,i){this.parser=e,this.input=n,this.ranges=i,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new ige(n,i),this.tokens=new cge(e,this.stream),this.topTerm=e.top[1];let{from:a}=i[0];this.stacks=[Rg.start(this,e.top[0],a)],this.fragments=r.length&&this.stream.end-a>e.bufferLength*4?new oge(r,e.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let e=this.stacks,n=this.minStackPos,r=this.stacks=[],i,a;if(this.bigReductionCount>300&&e.length==1){let[s]=e;for(;s.forceReduce()&&s.stack.length&&s.stack[s.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let s=0;s<e.length;s++){let o=e[s];for(;;){if(this.tokens.mainToken=null,o.pos>n)r.push(o);else{if(this.advanceStack(o,r,e))continue;{i||(i=[],a=[]),i.push(o);let u=this.tokens.getMainToken(o);a.push(u.value,u.end)}}break}}if(!r.length){let s=i&&dge(i);if(s)return br&&console.log("Finish with "+this.stackID(s)),this.stackToTree(s);if(this.parser.strict)throw br&&i&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+n);this.recovering||(this.recovering=5)}if(this.recovering&&i){let s=this.stoppedAt!=null&&i[0].pos>this.stoppedAt?i[0]:this.runRecovery(i,a,r);if(s)return br&&console.log("Force-finish "+this.stackID(s)),this.stackToTree(s.forceAll())}if(this.recovering){let s=this.recovering==1?1:this.recovering*3;if(r.length>s)for(r.sort((o,u)=>u.score-o.score);r.length>s;)r.pop();r.some(o=>o.reducePos>n)&&this.recovering--}else if(r.length>1){e:for(let s=0;s<r.length-1;s++){let o=r[s];for(let u=s+1;u<r.length;u++){let f=r[u];if(o.sameState(f)||o.buffer.length>500&&f.buffer.length>500)if((o.score-f.score||o.buffer.length-f.buffer.length)>0)r.splice(u--,1);else{r.splice(s--,1);continue e}}}r.length>12&&(r.sort((s,o)=>o.score-s.score),r.splice(12,r.length-12))}this.minStackPos=r[0].pos;for(let s=1;s<r.length;s++)r[s].pos<this.minStackPos&&(this.minStackPos=r[s].pos);return null}stopAt(e){if(this.stoppedAt!=null&&this.stoppedAt<e)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=e}advanceStack(e,n,r){let i=e.pos,{parser:a}=this,s=br?this.stackID(e)+" -> ":"";if(this.stoppedAt!=null&&i>this.stoppedAt)return e.forceReduce()?e:null;if(this.fragments){let f=e.curContext&&e.curContext.tracker.strict,h=f?e.curContext.hash:0;for(let p=this.fragments.nodeAt(i);p;){let y=this.parser.nodeSet.types[p.type.id]==p.type?a.getGoto(e.state,p.type.id):-1;if(y>-1&&p.length&&(!f||(p.prop(Ue.contextHash)||0)==h))return e.useNode(p,y),br&&console.log(s+this.stackID(e)+` (via reuse of ${a.getName(p.type.id)})`),!0;if(!(p instanceof Lt)||p.children.length==0||p.positions[0]>0)break;let x=p.children[0];if(x instanceof Lt&&p.positions[0]==0)p=x;else break}}let o=a.stateSlot(e.state,4);if(o>0)return e.reduce(o),br&&console.log(s+this.stackID(e)+` (via always-reduce ${a.getName(o&65535)})`),!0;if(e.stack.length>=8400)for(;e.stack.length>6e3&&e.forceReduce(););let u=this.tokens.getActions(e);for(let f=0;f<u.length;){let h=u[f++],p=u[f++],y=u[f++],x=f==u.length||!r,b=x?e:e.split(),j=this.tokens.mainToken;if(b.apply(h,p,j?j.start:b.pos,y),br&&console.log(s+this.stackID(b)+` (via ${(h&65536)==0?"shift":`reduce of ${a.getName(h&65535)}`} for ${a.getName(p)} @ ${i}${b==e?"":", split"})`),x)return!0;b.pos>i?n.push(b):r.push(b)}return!1}advanceFully(e,n){let r=e.pos;for(;;){if(!this.advanceStack(e,null,null))return!1;if(e.pos>r)return r3(e,n),!0}}runRecovery(e,n,r){let i=null,a=!1;for(let s=0;s<e.length;s++){let o=e[s],u=n[s<<1],f=n[(s<<1)+1],h=br?this.stackID(o)+" -> ":"";if(o.deadEnd&&(a||(a=!0,o.restart(),br&&console.log(h+this.stackID(o)+" (restarted)"),this.advanceFully(o,r))))continue;let p=o.split(),y=h;for(let x=0;x<10&&p.forceReduce()&&(br&&console.log(y+this.stackID(p)+" (via force-reduce)"),!this.advanceFully(p,r));x++)br&&(y=this.stackID(p)+" -> ");for(let x of o.recoverByInsert(u))br&&console.log(h+this.stackID(x)+" (via recover-insert)"),this.advanceFully(x,r);this.stream.end>o.pos?(f==o.pos&&(f++,u=0),o.recoverByDelete(u,f),br&&console.log(h+this.stackID(o)+` (via recover-delete ${this.parser.getName(u)})`),r3(o,r)):(!i||i.score<p.score)&&(i=p)}return i}stackToTree(e){return e.close(),Lt.build({buffer:Lg.create(e),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:e.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(e){let n=(z1||(z1=new WeakMap)).get(e);return n||z1.set(e,n=String.fromCodePoint(this.nextStackID++)),n+e}}function r3(t,e){for(let n=0;n<e.length;n++){let r=e[n];if(r.pos==t.pos&&r.sameState(t)){e[n].score<t.score&&(e[n]=t);return}}e.push(t)}class fge{constructor(e,n,r){this.source=e,this.flags=n,this.disabled=r}allows(e){return!this.disabled||this.disabled[e]==0}}class Bg extends Rz{constructor(e){if(super(),this.wrappers=[],e.version!=14)throw new RangeError(`Parser version (${e.version}) doesn't match runtime version (14)`);let n=e.nodeNames.split(" ");this.minRepeatTerm=n.length;for(let o=0;o<e.repeatNodeCount;o++)n.push("");let r=Object.keys(e.topRules).map(o=>e.topRules[o][1]),i=[];for(let o=0;o<n.length;o++)i.push([]);function a(o,u,f){i[o].push([u,u.deserialize(String(f))])}if(e.nodeProps)for(let o of e.nodeProps){let u=o[0];typeof u=="string"&&(u=Ue[u]);for(let f=1;f<o.length;){let h=o[f++];if(h>=0)a(h,u,o[f++]);else{let p=o[f+-h];for(let y=-h;y>0;y--)a(o[f++],u,p);f++}}}this.nodeSet=new pN(n.map((o,u)=>ar.define({name:u>=this.minRepeatTerm?void 0:o,id:u,props:i[u],top:r.indexOf(u)>-1,error:u==0,skipped:e.skippedNodes&&e.skippedNodes.indexOf(u)>-1}))),e.propSources&&(this.nodeSet=this.nodeSet.extend(...e.propSources)),this.strict=!1,this.bufferLength=Mz;let s=Vm(e.tokenData);this.context=e.context,this.specializerSpecs=e.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let o=0;o<this.specializerSpecs.length;o++)this.specialized[o]=this.specializerSpecs[o].term;this.specializers=this.specializerSpecs.map(i3),this.states=Vm(e.states,Uint32Array),this.data=Vm(e.stateData),this.goto=Vm(e.goto),this.maxTerm=e.maxTerm,this.tokenizers=e.tokenizers.map(o=>typeof o=="number"?new mc(s,o):o),this.topRules=e.topRules,this.dialects=e.dialects||{},this.dynamicPrecedences=e.dynamicPrecedences||null,this.tokenPrecTable=e.tokenPrec,this.termNames=e.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(e,n,r){let i=new uge(this,e,n,r);for(let a of this.wrappers)i=a(i,e,n,r);return i}getGoto(e,n,r=!1){let i=this.goto;if(n>=i[0])return-1;for(let a=i[n+1];;){let s=i[a++],o=s&1,u=i[a++];if(o&&r)return u;for(let f=a+(s>>1);a<f;a++)if(i[a]==e)return u;if(o)return-1}}hasAction(e,n){let r=this.data;for(let i=0;i<2;i++)for(let a=this.stateSlot(e,i?2:1),s;;a+=3){if((s=r[a])==65535)if(r[a+1]==1)s=r[a=xa(r,a+2)];else{if(r[a+1]==2)return xa(r,a+2);break}if(s==n||s==0)return xa(r,a+1)}return 0}stateSlot(e,n){return this.states[e*6+n]}stateFlag(e,n){return(this.stateSlot(e,0)&n)>0}validAction(e,n){return!!this.allActions(e,r=>r==n?!0:null)}allActions(e,n){let r=this.stateSlot(e,4),i=r?n(r):void 0;for(let a=this.stateSlot(e,1);i==null;a+=3){if(this.data[a]==65535)if(this.data[a+1]==1)a=xa(this.data,a+2);else break;i=n(xa(this.data,a+1))}return i}nextStates(e){let n=[];for(let r=this.stateSlot(e,1);;r+=3){if(this.data[r]==65535)if(this.data[r+1]==1)r=xa(this.data,r+2);else break;if((this.data[r+2]&1)==0){let i=this.data[r+1];n.some((a,s)=>s&1&&a==i)||n.push(this.data[r],i)}}return n}configure(e){let n=Object.assign(Object.create(Bg.prototype),this);if(e.props&&(n.nodeSet=this.nodeSet.extend(...e.props)),e.top){let r=this.topRules[e.top];if(!r)throw new RangeError(`Invalid top rule name ${e.top}`);n.top=r}return e.tokenizers&&(n.tokenizers=this.tokenizers.map(r=>{let i=e.tokenizers.find(a=>a.from==r);return i?i.to:r})),e.specializers&&(n.specializers=this.specializers.slice(),n.specializerSpecs=this.specializerSpecs.map((r,i)=>{let a=e.specializers.find(o=>o.from==r.external);if(!a)return r;let s=Object.assign(Object.assign({},r),{external:a.to});return n.specializers[i]=i3(s),s})),e.contextTracker&&(n.context=e.contextTracker),e.dialect&&(n.dialect=this.parseDialect(e.dialect)),e.strict!=null&&(n.strict=e.strict),e.wrap&&(n.wrappers=n.wrappers.concat(e.wrap)),e.bufferLength!=null&&(n.bufferLength=e.bufferLength),n}hasWrappers(){return this.wrappers.length>0}getName(e){return this.termNames?this.termNames[e]:String(e<=this.maxNode&&this.nodeSet.types[e].name||e)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(e){let n=this.dynamicPrecedences;return n==null?0:n[e]||0}parseDialect(e){let n=Object.keys(this.dialects),r=n.map(()=>!1);if(e)for(let a of e.split(" ")){let s=n.indexOf(a);s>=0&&(r[s]=!0)}let i=null;for(let a=0;a<n.length;a++)if(!r[a])for(let s=this.dialects[n[a]],o;(o=this.data[s++])!=65535;)(i||(i=new Uint8Array(this.maxTerm+1)))[o]=1;return new fge(e,r,i)}static deserialize(e){return new Bg(e)}}function xa(t,e){return t[e]|t[e+1]<<16}function dge(t){let e=null;for(let n of t){let r=n.p.stoppedAt;(n.pos==n.p.stream.end||r!=null&&n.pos>r)&&n.p.parser.stateFlag(n.state,2)&&(!e||e.score<n.score)&&(e=n)}return e}function i3(t){if(t.external){let e=t.extend?1:0;return(n,r)=>t.external(n,r)<<1|e}return t.get}const hge=36,a3=1,mge=2,Ko=3,I1=4,pge=5,gge=6,yge=7,xge=8,vge=9,bge=10,wge=11,Sge=12,jge=13,Nge=14,Cge=15,kge=16,Oge=17,s3=18,Age=19,i7=20,a7=21,l3=22,Ege=23,Tge=24;function QS(t){return t>=65&&t<=90||t>=97&&t<=122||t>=48&&t<=57}function Mge(t){return t>=48&&t<=57||t>=97&&t<=102||t>=65&&t<=70}function Sl(t,e,n){for(let r=!1;;){if(t.next<0)return;if(t.next==e&&!r){t.advance();return}r=n&&!r&&t.next==92,t.advance()}}function _ge(t,e){e:for(;;){if(t.next<0)return;if(t.next==36){t.advance();for(let n=0;n<e.length;n++){if(t.next!=e.charCodeAt(n))continue e;t.advance()}if(t.next==36){t.advance();return}}else t.advance()}}function Dge(t,e){let n="[{<(".indexOf(String.fromCharCode(e)),r=n<0?e:"]}>)".charCodeAt(n);for(;;){if(t.next<0)return;if(t.next==r&&t.peek(1)==39){t.advance(2);return}t.advance()}}function XS(t,e){for(;!(t.next!=95&&!QS(t.next));)e!=null&&(e+=String.fromCharCode(t.next)),t.advance();return e}function Pge(t){if(t.next==39||t.next==34||t.next==96){let e=t.next;t.advance(),Sl(t,e,!1)}else XS(t)}function o3(t,e){for(;t.next==48||t.next==49;)t.advance();e&&t.next==e&&t.advance()}function c3(t,e){for(;;){if(t.next==46){if(e)break;e=!0}else if(t.next<48||t.next>57)break;t.advance()}if(t.next==69||t.next==101)for(t.advance(),(t.next==43||t.next==45)&&t.advance();t.next>=48&&t.next<=57;)t.advance()}function u3(t){for(;!(t.next<0||t.next==10);)t.advance()}function yl(t,e){for(let n=0;n<e.length;n++)if(e.charCodeAt(n)==t)return!0;return!1}const U1=` 	\r
`;function s7(t,e,n){let r=Object.create(null);r.true=r.false=pge,r.null=r.unknown=gge;for(let i of t.split(" "))i&&(r[i]=i7);for(let i of e.split(" "))i&&(r[i]=a7);for(let i of(n||"").split(" "))i&&(r[i]=Tge);return r}const Rge="array binary bit boolean char character clob date decimal double float int integer interval large national nchar nclob numeric object precision real smallint time timestamp varchar varying ",Lge="absolute action add after all allocate alter and any are as asc assertion at authorization before begin between both breadth by call cascade cascaded case cast catalog check close collate collation column commit condition connect connection constraint constraints constructor continue corresponding count create cross cube current current_date current_default_transform_group current_transform_group_for_type current_path current_role current_time current_timestamp current_user cursor cycle data day deallocate declare default deferrable deferred delete depth deref desc describe descriptor deterministic diagnostics disconnect distinct do domain drop dynamic each else elseif end end-exec equals escape except exception exec execute exists exit external fetch first for foreign found from free full function general get global go goto grant group grouping handle having hold hour identity if immediate in indicator initially inner inout input insert intersect into is isolation join key language last lateral leading leave left level like limit local localtime localtimestamp locator loop map match method minute modifies module month names natural nesting new next no none not of old on only open option or order ordinality out outer output overlaps pad parameter partial path prepare preserve primary prior privileges procedure public read reads recursive redo ref references referencing relative release repeat resignal restrict result return returns revoke right role rollback rollup routine row rows savepoint schema scroll search second section select session session_user set sets signal similar size some space specific specifictype sql sqlexception sqlstate sqlwarning start state static system_user table temporary then timezone_hour timezone_minute to trailing transaction translation treat trigger under undo union unique unnest until update usage user using value values view when whenever where while with without work write year zone ",ZS={backslashEscapes:!1,hashComments:!1,spaceAfterDashes:!1,slashComments:!1,doubleQuotedStrings:!1,doubleDollarQuotedStrings:!1,unquotedBitLiterals:!1,treatBitsAsBytes:!1,charSetCasts:!1,plsqlQuotingMechanism:!1,operatorChars:"*+-%<>!=&|~^/",specialVar:"?",identifierQuotes:'"',caseInsensitiveIdentifiers:!1,words:s7(Lge,Rge)};function Bge(t,e,n,r){let i={};for(let a in ZS)i[a]=(t.hasOwnProperty(a)?t:ZS)[a];return e&&(i.words=s7(e,n||"",r)),i}function l7(t){return new age(e=>{var n;let{next:r}=e;if(e.advance(),yl(r,U1)){for(;yl(e.next,U1);)e.advance();e.acceptToken(hge)}else if(r==36&&t.doubleDollarQuotedStrings){let i=XS(e,"");e.next==36&&(e.advance(),_ge(e,i),e.acceptToken(Ko))}else if(r==39||r==34&&t.doubleQuotedStrings)Sl(e,r,t.backslashEscapes),e.acceptToken(Ko);else if(r==35&&t.hashComments||r==47&&e.next==47&&t.slashComments)u3(e),e.acceptToken(a3);else if(r==45&&e.next==45&&(!t.spaceAfterDashes||e.peek(1)==32))u3(e),e.acceptToken(a3);else if(r==47&&e.next==42){e.advance();for(let i=1;;){let a=e.next;if(e.next<0)break;if(e.advance(),a==42&&e.next==47){if(i--,e.advance(),!i)break}else a==47&&e.next==42&&(i++,e.advance())}e.acceptToken(mge)}else if((r==101||r==69)&&e.next==39)e.advance(),Sl(e,39,!0),e.acceptToken(Ko);else if((r==110||r==78)&&e.next==39&&t.charSetCasts)e.advance(),Sl(e,39,t.backslashEscapes),e.acceptToken(Ko);else if(r==95&&t.charSetCasts)for(let i=0;;i++){if(e.next==39&&i>1){e.advance(),Sl(e,39,t.backslashEscapes),e.acceptToken(Ko);break}if(!QS(e.next))break;e.advance()}else if(t.plsqlQuotingMechanism&&(r==113||r==81)&&e.next==39&&e.peek(1)>0&&!yl(e.peek(1),U1)){let i=e.peek(1);e.advance(2),Dge(e,i),e.acceptToken(Ko)}else if(yl(r,t.identifierQuotes)){const i=r==91?93:r;Sl(e,i,!1),e.acceptToken(Age)}else if(r==40)e.acceptToken(yge);else if(r==41)e.acceptToken(xge);else if(r==123)e.acceptToken(vge);else if(r==125)e.acceptToken(bge);else if(r==91)e.acceptToken(wge);else if(r==93)e.acceptToken(Sge);else if(r==59)e.acceptToken(jge);else if(t.unquotedBitLiterals&&r==48&&e.next==98)e.advance(),o3(e),e.acceptToken(l3);else if((r==98||r==66)&&(e.next==39||e.next==34)){const i=e.next;e.advance(),t.treatBitsAsBytes?(Sl(e,i,t.backslashEscapes),e.acceptToken(Ege)):(o3(e,i),e.acceptToken(l3))}else if(r==48&&(e.next==120||e.next==88)||(r==120||r==88)&&e.next==39){let i=e.next==39;for(e.advance();Mge(e.next);)e.advance();i&&e.next==39&&e.advance(),e.acceptToken(I1)}else if(r==46&&e.next>=48&&e.next<=57)c3(e,!0),e.acceptToken(I1);else if(r==46)e.acceptToken(Nge);else if(r>=48&&r<=57)c3(e,!1),e.acceptToken(I1);else if(yl(r,t.operatorChars)){for(;yl(e.next,t.operatorChars);)e.advance();e.acceptToken(Cge)}else if(yl(r,t.specialVar))e.next==r&&e.advance(),Pge(e),e.acceptToken(Oge);else if(r==58||r==44)e.acceptToken(kge);else if(QS(r)){let i=XS(e,String.fromCharCode(r));e.acceptToken(e.next==46||e.peek(-i.length-1)==46?s3:(n=t.words[i.toLowerCase()])!==null&&n!==void 0?n:s3)}})}const o7=l7(ZS),zge=Bg.deserialize({version:14,states:"%vQ]QQOOO#wQRO'#DSO$OQQO'#CwO%eQQO'#CxO%lQQO'#CyO%sQQO'#CzOOQQ'#DS'#DSOOQQ'#C}'#C}O'UQRO'#C{OOQQ'#Cv'#CvOOQQ'#C|'#C|Q]QQOOQOQQOOO'`QQO'#DOO(xQRO,59cO)PQQO,59cO)UQQO'#DSOOQQ,59d,59dO)cQQO,59dOOQQ,59e,59eO)jQQO,59eOOQQ,59f,59fO)qQQO,59fOOQQ-E6{-E6{OOQQ,59b,59bOOQQ-E6z-E6zOOQQ,59j,59jOOQQ-E6|-E6|O+VQRO1G.}O+^QQO,59cOOQQ1G/O1G/OOOQQ1G/P1G/POOQQ1G/Q1G/QP+kQQO'#C}O+rQQO1G.}O)PQQO,59cO,PQQO'#Cw",stateData:",[~OtOSPOSQOS~ORUOSUOTUOUUOVROXSOZTO]XO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O^]ORvXSvXTvXUvXVvXXvXZvX]vX_vX`vXavXbvXcvXdvXevXfvXgvXhvX~OsvX~P!jOa_Ob_Oc_O~ORUOSUOTUOUUOVROXSOZTO^tO_UO`UOa`Ob`Oc`OdUOeUOfUOgUOhUO~OWaO~P$ZOYcO~P$ZO[eO~P$ZORUOSUOTUOUUOVROXSOZTO^QO_UO`UOaPObPOcPOdUOeUOfUOgUOhUO~O]hOsoX~P%zOajObjOcjO~O^]ORkaSkaTkaUkaVkaXkaZka]ka_ka`kaakabkackadkaekafkagkahka~Oska~P'kO^]O~OWvXYvX[vX~P!jOWnO~P$ZOYoO~P$ZO[pO~P$ZO^]ORkiSkiTkiUkiVkiXkiZki]ki_ki`kiakibkickidkiekifkigkihki~Oski~P)xOWkaYka[ka~P'kO]hO~P$ZOWkiYki[ki~P)xOasObsOcsO~O",goto:"#hwPPPPPPPPPPPPPPPPPPPPPPPPPPx||||!Y!^!d!xPPP#[TYOZeUORSTWZbdfqT[OZQZORiZSWOZQbRQdSQfTZgWbdfqQ^PWk^lmrQl_Qm`RrseVORSTWZbdfq",nodeNames:" LineComment BlockComment String Number Bool Null ( ) { } [ ] ; . Operator Punctuation SpecialVar Identifier QuotedIdentifier Keyword Type Bits Bytes Builtin Script Statement CompositeIdentifier Parens Braces Brackets Statement",maxTerm:38,nodeProps:[["isolate",-4,1,2,3,19,""]],skippedNodes:[0,1,2],repeatNodeCount:3,tokenData:"RORO",tokenizers:[0,o7],topRules:{Script:[0,25]},tokenPrec:0});function JS(t){let e=t.cursor().moveTo(t.from,-1);for(;/Comment/.test(e.name);)e.moveTo(e.from,-1);return e.node}function hd(t,e){let n=t.sliceString(e.from,e.to),r=/^([`'"\[])(.*)([`'"\]])$/.exec(n);return r?r[2]:n}function zg(t){return t&&(t.name=="Identifier"||t.name=="QuotedIdentifier")}function Ige(t,e){if(e.name=="CompositeIdentifier"){let n=[];for(let r=e.firstChild;r;r=r.nextSibling)zg(r)&&n.push(hd(t,r));return n}return[hd(t,e)]}function f3(t,e){for(let n=[];;){if(!e||e.name!=".")return n;let r=JS(e);if(!zg(r))return n;n.unshift(hd(t,r)),e=JS(r)}}function Uge(t,e){let n=ln(t).resolveInner(e,-1),r=qge(t.doc,n);return n.name=="Identifier"||n.name=="QuotedIdentifier"||n.name=="Keyword"?{from:n.from,quoted:n.name=="QuotedIdentifier"?t.doc.sliceString(n.from,n.from+1):null,parents:f3(t.doc,JS(n)),aliases:r}:n.name=="."?{from:e,quoted:null,parents:f3(t.doc,n),aliases:r}:{from:e,quoted:null,parents:[],empty:!0,aliases:r}}const $ge=new Set("where group having order union intersect except all distinct limit offset fetch for".split(" "));function qge(t,e){let n;for(let i=e;!n;i=i.parent){if(!i)return null;i.name=="Statement"&&(n=i)}let r=null;for(let i=n.firstChild,a=!1,s=null;i;i=i.nextSibling){let o=i.name=="Keyword"?t.sliceString(i.from,i.to).toLowerCase():null,u=null;if(!a)a=o=="from";else if(o=="as"&&s&&zg(i.nextSibling))u=hd(t,i.nextSibling);else{if(o&&$ge.has(o))break;s&&zg(i)&&(u=hd(t,i))}u&&(r||(r=Object.create(null)),r[u]=Ige(t,s)),s=/Identifier$/.test(i.name)?i:null}return r}function Hge(t,e,n){return n.map(r=>({...r,label:r.label[0]==t?r.label:t+r.label+e,apply:void 0}))}const Vge=/^\w*$/,Fge=/^[`'"\[]?\w*[`'"\]]?$/;function d3(t){return t.self&&typeof t.self.label=="string"}class DN{constructor(e,n){this.idQuote=e,this.idCaseInsensitive=n,this.list=[],this.children=void 0}child(e){let n=this.children||(this.children=Object.create(null)),r=n[e];return r||(e&&!this.list.some(i=>i.label==e)&&this.list.push(h3(e,"type",this.idQuote,this.idCaseInsensitive)),n[e]=new DN(this.idQuote,this.idCaseInsensitive))}maybeChild(e){return this.children?this.children[e]:null}addCompletion(e){let n=this.list.findIndex(r=>r.label==e.label);n>-1?this.list[n]=e:this.list.push(e)}addCompletions(e){for(let n of e)this.addCompletion(typeof n=="string"?h3(n,"property",this.idQuote,this.idCaseInsensitive):n)}addNamespace(e){Array.isArray(e)?this.addCompletions(e):d3(e)?this.addNamespace(e.children):this.addNamespaceObject(e)}addNamespaceObject(e){for(let n of Object.keys(e)){let r=e[n],i=null,a=n.replace(/\\?\./g,o=>o=="."?"\0":o).split("\0"),s=this;d3(r)&&(i=r.self,r=r.children);for(let o=0;o<a.length;o++)i&&o==a.length-1&&s.addCompletion(i),s=s.child(a[o].replace(/\\\./g,"."));s.addNamespace(r)}}}function h3(t,e,n,r){return new RegExp("^[a-z_][a-z_\\d]*$",r?"i":"").test(t)?{label:t,type:e}:{label:t,type:e,apply:n+t+c7(n)}}function c7(t){return t==="["?"]":t}function Wge(t,e,n,r,i,a){var s;let o=((s=a?.spec.identifierQuotes)===null||s===void 0?void 0:s[0])||'"',u=new DN(o,!!a?.spec.caseInsensitiveIdentifiers),f=i?u.child(i):null;return u.addNamespace(t),e&&(f||u).addCompletions(e),n&&u.addCompletions(n),f&&u.addCompletions(f.list),r&&u.addCompletions((f||u).child(r).list),h=>{let{parents:p,from:y,quoted:x,empty:b,aliases:j}=Uge(h.state,h.pos);if(b&&!h.explicit)return null;j&&p.length==1&&(p=j[p[0]]||p);let S=u;for(let O of p){for(;!S.children||!S.children[O];)if(S==u&&f)S=f;else if(S==f&&r)S=S.child(r);else return null;let C=S.maybeChild(O);if(!C)return null;S=C}let N=S.list;if(S==u&&j&&(N=N.concat(Object.keys(j).map(O=>({label:O,type:"constant"})))),x){let O=x[0],C=c7(O),_=h.state.sliceDoc(h.pos,h.pos+1)==C;return{from:y,to:_?h.pos+1:void 0,options:Hge(O,C,N),validFor:Fge}}else return{from:y,options:N,validFor:Vge}}}function Gge(t){return t==a7?"type":t==i7?"keyword":"variable"}function Kge(t,e,n){let r=Object.keys(t).map(i=>n(e?i.toUpperCase():i,Gge(t[i])));return zme(["QuotedIdentifier","String","LineComment","BlockComment","."],VI(r))}let Yge=zge.configure({props:[Uz.add({Statement:gde()}),qz.add({Statement(t,e){return{from:Math.min(t.from+100,e.doc.lineAt(t.from).to),to:t.to}},BlockComment(t){return{from:t.from+2,to:t.to-2}}}),Lz({Keyword:ae.keyword,Type:ae.typeName,Builtin:ae.standard(ae.name),Bits:ae.number,Bytes:ae.string,Bool:ae.bool,Null:ae.null,Number:ae.number,String:ae.string,Identifier:ae.name,QuotedIdentifier:ae.special(ae.string),SpecialVar:ae.special(ae.name),LineComment:ae.lineComment,BlockComment:ae.blockComment,Operator:ae.operator,"Semi Punctuation":ae.punctuation,"( )":ae.paren,"{ }":ae.brace,"[ ]":ae.squareBracket})]});class Ig{constructor(e,n,r){this.dialect=e,this.language=n,this.spec=r}get extension(){return this.language.extension}configureLanguage(e,n){return new Ig(this.dialect,this.language.configure(e,n),this.spec)}static define(e){let n=Bge(e,e.keywords,e.types,e.builtin),r=Sg.define({name:"sql",parser:Yge.configure({tokenizers:[{from:o7,to:l7(n)}]}),languageData:{commentTokens:{line:"--",block:{open:"/*",close:"*/"}},closeBrackets:{brackets:["(","[","{","'",'"',"`"]}}});return new Ig(n,r,e)}}function Qge(t,e){return{label:t,type:e,boost:-1}}function Xge(t,e=!1,n){return Kge(t.dialect.words,e,n||Qge)}function Zge(t){return t.schema?Wge(t.schema,t.tables,t.schemas,t.defaultTable,t.defaultSchema,t.dialect||PN):()=>null}function Jge(t){return t.schema?(t.dialect||PN).language.data.of({autocomplete:Zge(t)}):[]}function e0e(t={}){let e=t.dialect||PN;return new lde(e.language,[Jge(t),e.language.data.of({autocomplete:Xge(e,t.upperCaseKeywords,t.keywordCompletion)})])}const PN=Ig.define({}),u7="timeseriesui_query_history",f7="timeseriesui_last_db",t0e=30,m3=["#3b82f6","#8b5cf6","#ec4899","#f59e0b","#22c55e","#06b6d4"],n0e=[{value:"",label:"Default"},{value:"rfc3339",label:"RFC3339"},{value:"ns",label:"ns"},{value:"us",label:"us"},{value:"ms",label:"ms"},{value:"s",label:"s"}];function r0e(t,e){if(t==null)return"";const n=String(t);if(typeof t=="string"&&/^\d{4}-\d{2}-\d{2}T/.test(t)){const s=new Date(t);return isNaN(s.getTime())?n:s.toLocaleString()}const r=Number(t);if(isNaN(r))return n;let i;switch(e){case"ns":i=r/1e6;break;case"us":i=r/1e3;break;case"ms":i=r;break;case"s":i=r*1e3;break;default:r>1e15?i=r/1e6:r>1e12?i=r/1e3:r>1e10?i=r:i=r*1e3;break}const a=new Date(i);return isNaN(a.getTime())?n:a.toLocaleString()}const i0e=["SELECT","FROM","WHERE","GROUP BY","ORDER BY","LIMIT","OFFSET","INTO","SHOW","CREATE","DROP","ALTER","GRANT","REVOKE","SET","AND","OR","AS","ON","BY","FILL","SLIMIT","SOFFSET","WITH","KEY","IN","NOT","ASC","DESC","DISTINCT","MEAN","SUM","COUNT","MIN","MAX","FIRST","LAST","STDDEV","MEDIAN","PERCENTILE","DERIVATIVE","NON_NEGATIVE_DERIVATIVE","DIFFERENCE","MOVING_AVERAGE","CUMULATIVE_SUM","HOLT_WINTERS","ELAPSED","TIME","NOW","NULL","TRUE","FALSE"],a0e={float:"text-blue-400",integer:"text-green-400",string:"text-amber-400",boolean:"text-purple-400"};function d7(){try{return JSON.parse(localStorage.getItem(u7)||"[]")}catch{return[]}}function s0e(t){try{localStorage.setItem(u7,JSON.stringify(t.slice(0,t0e)))}catch{}}function l0e(t){const e=d7().filter(n=>n!==t);e.unshift(t),s0e(e)}function o0e(){return localStorage.getItem(f7)||""}function $1(t){try{localStorage.setItem(f7,t)}catch{}}function c0e(t){return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}function u0e(t){let e=t;const n=[...i0e].sort((r,i)=>i.length-r.length);for(const r of n){const i=r.replace(/\s+/g,"\\s+");e=e.replace(new RegExp(`\\b${i}\\b`,"gi"),r)}return e}function f0e(t){const e=[];for(const n of t?.results??[])if(!n.error)for(const r of n.series??[]){const i=(r.values??[]).map(a=>{const s={};return r.columns.forEach((o,u)=>{s[o]=a[u]}),s});e.push({name:r.name,tags:r.tags??{},columns:r.columns,rows:i})}return e}function h7(t,e,n){const r=new Blob([t],{type:n}),i=URL.createObjectURL(r),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(i)}function d0e(t){const e=[];for(const n of t){t.length>1&&e.push(`# ${n.name}${Object.keys(n.tags).length?" "+JSON.stringify(n.tags):""}`),e.push(n.columns.join(","));for(const r of n.rows)e.push(n.columns.map(i=>{const a=r[i];if(a==null)return"";const s=String(a);return s.includes(",")||s.includes('"')||s.includes(`
`)?`"${s.replace(/"/g,'""')}"`:s}).join(","));e.push("")}h7(e.join(`
`),"query_results.csv","text/csv")}function h0e(t){const e=t.map(n=>({name:n.name,tags:n.tags,columns:n.columns,values:n.rows}));h7(JSON.stringify(e,null,2),"query_results.json","application/json")}function ej(t){const e=Object.entries(t);return e.length===0?"":"{"+e.map(([n,r])=>`${n}=${r}`).join(",")+"}"}function m0e({onInsert:t}){const[e,n]=R.useState([]),[r,i]=R.useState(new Set),[a,s]=R.useState({}),[o,u]=R.useState(new Set),[f,h]=R.useState(""),[p,y]=R.useState({});R.useEffect(()=>{Ne.getDatabases().then(n).catch(()=>{})},[]);const x=R.useCallback(async(C,_,P,D,T,L)=>{if(i(I=>{const q=new Set(I);return q.has(C)?q.delete(C):q.add(C),q}),!a[C]){u(I=>new Set(I).add(C));try{if(_==="database"&&P){const q=(await Ne.getRetentionPolicies(P)).map(U=>({type:"rp",name:U.name,dbName:P}));s(U=>({...U,[C]:q}))}else if(_==="rp"&&P){const q=(await Ne.getMeasurements(P)).map(U=>({type:"measurement",name:U,dbName:P,rpName:L}));s(U=>({...U,[C]:q}))}else if(_==="measurement"&&P&&T){const[I,q]=await Promise.all([Ne.getFieldKeys(P,T),Ne.getTagKeys(P,T)]),U=I.map(X=>({type:"field",name:X.key,fieldType:X.type,dbName:P,measurementName:T})),z=q.map(X=>({type:"tag",name:X,dbName:P,measurementName:T})),H=[{type:"fields-header",name:"Fields",children:U},{type:"tags-header",name:"Tags",children:z}];s(X=>({...X,[C]:H}))}}catch{}finally{u(I=>{const q=new Set(I);return q.delete(C),q})}}},[a]),b=()=>{const C=[],_=P=>{const D=`db:${P}`,T=r.has(D);if(C.push({type:"database",name:P,dbName:P,depth:0,id:D,expanded:T}),!T)return;const L=a[D]??[];for(const I of L){const q=`rp:${P}:${I.name}`,U=r.has(q);if(C.push({...I,depth:1,id:q,expanded:U}),!U)continue;const z=a[q]??[];for(const H of z){const X=`meas:${P}:${H.name}`,W=r.has(X);if(C.push({...H,depth:2,id:X,expanded:W}),!W)continue;const V=a[X]??[];for(const Y of V){const J=`group:${P}:${H.name}:${Y.name}`,oe=r.has(J);if(C.push({...Y,depth:3,id:J,expanded:oe}),!!oe)for(const ge of Y.children??[]){const M=`leaf:${P}:${H.name}:${Y.name}:${ge.name}`;C.push({...ge,depth:4,id:M})}}}}};for(const P of e)_(P);return C},j=f.trim()?b().filter(C=>C.name.toLowerCase().includes(f.toLowerCase())):b(),S=C=>{if(C.type==="database")x(C.id,"database",C.dbName,void 0,void 0,C.name);else if(C.type==="rp")x(C.id,"rp",C.dbName,C.name,void 0,C.name);else if(C.type==="measurement")x(C.id,"measurement",C.dbName,C.rpName,C.name,C.name),t(`FROM "${C.name}"`);else if(C.type==="fields-header"||C.type==="tags-header")i(_=>{const P=new Set(_);return P.has(C.id)?P.delete(C.id):P.add(C.id),P});else if(C.type==="field")t(`"${C.name}"`);else if(C.type==="tag"){t(`"${C.name}"`);const _=`tv:${C.dbName}:${C.measurementName}:${C.name}`;p[_]?y(P=>{const D={...P};return delete D[_],D}):C.dbName&&C.measurementName&&(u(P=>new Set(P).add(_)),Ne.getTagValues(C.dbName,C.measurementName,C.name).then(P=>y(D=>({...D,[_]:P}))).catch(()=>{}).finally(()=>u(P=>{const D=new Set(P);return D.delete(_),D})))}},N=C=>{const _=o.has(C.id);return["database","rp","measurement","fields-header","tags-header"].includes(C.type)?_?m.jsxs("svg",{className:"w-4 h-4 animate-spin text-gray-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):C.expanded?m.jsx(Hi,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):m.jsx(Ds,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}):m.jsx("span",{className:"w-4 h-4 inline-block"})},O=C=>{const _=C.type==="field"&&C.fieldType?a0e[C.fieldType]??"text-gray-300":"text-gray-300";return m.jsxs("span",{className:"flex items-center gap-1 min-w-0",children:[m.jsx("span",{className:`truncate text-sm ${_}`,children:C.name}),C.type==="field"&&C.fieldType&&m.jsx("span",{className:"text-xs text-gray-500 flex-shrink-0 ml-1",children:C.fieldType})]})};return m.jsxs("div",{className:"flex flex-col h-full bg-gray-900",children:[m.jsxs("div",{className:"px-3 py-2 border-b border-gray-700",children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Schema Explorer"}),m.jsxs("div",{className:"relative",children:[m.jsx(Rc,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-500"}),m.jsx("input",{type:"text",value:f,onChange:C=>h(C.target.value),placeholder:"Filter...",className:"w-full bg-gray-800 text-gray-300 text-xs pl-7 pr-2 py-1.5 rounded border border-gray-700 focus:outline-none focus:border-blue-500 placeholder-gray-600"})]})]}),m.jsxs("div",{className:"flex-1 overflow-y-auto py-1",children:[j.length===0&&e.length===0&&m.jsx("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:"Loading databases..."}),j.length===0&&e.length>0&&f&&m.jsxs("div",{className:"text-xs text-gray-500 px-3 py-4 text-center",children:['No results for "',f,'"']}),j.map(C=>{const _=C.type==="tag"?`tv:${C.dbName}:${C.measurementName}:${C.name}`:"",P=_&&o.has(_),D=_?p[_]:void 0;return m.jsxs("div",{children:[m.jsxs("div",{style:{paddingLeft:`${C.depth*16+8}px`},className:"flex items-center gap-1.5 py-0.5 pr-2 cursor-pointer hover:bg-gray-800 transition-colors duration-150 group select-none",onClick:()=>S(C),children:[m.jsx("span",{className:"flex-shrink-0",children:N(C)}),O(C),P&&m.jsxs("svg",{className:"w-3 h-3 animate-spin text-gray-500 ml-1",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]})]}),D&&D.length>0&&m.jsx("div",{style:{paddingLeft:`${(C.depth+1)*16+8}px`},className:"py-0.5",children:m.jsxs("div",{className:"flex flex-wrap gap-1 py-1",children:[D.slice(0,50).map(T=>m.jsx("span",{onClick:()=>t(`'${T}'`),className:"inline-block px-1.5 py-0.5 text-[10px] bg-gray-800 border border-gray-700 rounded text-cyan-300 cursor-pointer hover:bg-gray-700 font-mono truncate max-w-[120px]",title:T,children:T},T)),D.length>50&&m.jsxs("span",{className:"text-[10px] text-gray-500",children:["+",D.length-50," more"]})]})})]},C.id)})]})]})}function p0e({series:t,humanTime:e,epochUnit:n=""}){const[r,i]=R.useState(null),[a,s]=R.useState("asc");if(t.length===0)return m.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const o=u=>{r===u?s(f=>f==="asc"?"desc":"asc"):(i(u),s("asc"))};return m.jsx("div",{className:"flex flex-col gap-4 h-full overflow-y-auto",children:t.map((u,f)=>{const h=u.name+ej(u.tags);let p=[...u.rows];return r&&u.columns.includes(r)&&p.sort((y,x)=>{const b=y[r],j=x[r];if(b==null)return 1;if(j==null)return-1;const S=b<j?-1:b>j?1:0;return a==="asc"?S:-S}),m.jsxs("div",{className:"flex flex-col min-w-0",children:[t.length>1&&m.jsx("div",{className:"text-xs font-medium text-blue-400 px-1 mb-1",children:h}),m.jsx("div",{className:"overflow-x-auto rounded border border-gray-700",children:m.jsxs("table",{className:"min-w-full text-xs bg-gray-800",children:[m.jsx("thead",{children:m.jsx("tr",{className:"border-b border-gray-700",children:u.columns.map(y=>m.jsx("th",{onClick:()=>o(y),className:"px-3 py-2 text-left font-semibold text-gray-400 cursor-pointer hover:text-gray-200 hover:bg-gray-750 select-none whitespace-nowrap transition-colors duration-150",children:m.jsxs("span",{className:"flex items-center gap-1",children:[y,r===y&&m.jsx("span",{className:"text-blue-400",children:a==="asc"?"":""})]})},y))})}),m.jsx("tbody",{children:p.map((y,x)=>m.jsx("tr",{className:"border-b border-gray-700/50 hover:bg-gray-700/30 transition-colors duration-150",children:u.columns.map(b=>{const j=y[b],S=/^time$/i.test(b);let N;if(j==null)N=m.jsx("span",{className:"text-gray-600 italic",children:"null"});else if(e&&S){const O=r0e(j,n);N=m.jsx("span",{title:String(j),children:O})}else N=String(j);return m.jsx("td",{className:"px-3 py-1.5 text-gray-300 whitespace-nowrap font-mono",children:N},b)})},x))})]})}),m.jsxs("div",{className:"text-xs text-gray-500 mt-1 px-1",children:[p.length," row",p.length!==1?"s":""]})]},f)})})}function g0e({series:t}){if(t.length===0)return m.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"No results"});const e=t[0],n=e.columns.find(u=>u==="time")??null,r=e.columns.filter(u=>u!=="time"&&u!=="name");if(!n)return m.jsx("div",{className:"text-gray-500 text-sm text-center py-8",children:"Chart requires a 'time' column in the results."});const i=new Map;t.forEach(u=>{const f=ej(u.tags);u.rows.forEach(h=>{const p=String(h[n]);i.has(p)||i.set(p,{time:p});const y=i.get(p);r.forEach(x=>{const b=t.length>1?`${u.name}${f||""}.${x}`:x,j=h[x];j!=null&&(y[b]=typeof j=="number"?j:parseFloat(j))})})});const a=Array.from(i.values()).sort((u,f)=>u.time<f.time?-1:u.time>f.time?1:0),s=[];t.forEach(u=>{const f=ej(u.tags);r.forEach(h=>{const p=t.length>1?`${u.name}${f||""}.${h}`:h;s.includes(p)||s.push(p)})});const o=u=>{try{const f=new Date(u);if(!isNaN(f.getTime()))return f.toLocaleTimeString()}catch{}return u};return m.jsx("div",{className:"w-full h-full min-h-0",children:m.jsx(xc,{width:"100%",height:"100%",children:m.jsxs(Cc,{data:a,margin:{top:8,right:24,left:0,bottom:8},children:[m.jsx(Gl,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Yl,{dataKey:"time",tickFormatter:o,tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"}}),m.jsx(Ql,{tick:{fill:"#9ca3af",fontSize:11},axisLine:{stroke:"#4b5563"},tickLine:{stroke:"#4b5563"},width:60}),m.jsx(Nc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:"6px"},labelStyle:{color:"#9ca3af",fontSize:11},itemStyle:{color:"#d1d5db",fontSize:12},formatter:u=>[typeof u=="number"?u.toLocaleString():u]}),m.jsx(Sd,{wrapperStyle:{fontSize:12,color:"#9ca3af",paddingTop:"8px"}}),s.map((u,f)=>m.jsx(Kl,{type:"monotone",dataKey:u,stroke:m3[f%m3.length],dot:!1,strokeWidth:2,connectNulls:!1},u))]})})})}function y0e({onSelect:t}){const[e,n]=R.useState(!1),[r,i]=R.useState([]),a=R.useRef(null),s=()=>i(d7());return R.useEffect(()=>{if(!e)return;s();const o=u=>{a.current&&!a.current.contains(u.target)&&n(!1)};return document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)},[e]),m.jsxs("div",{className:"relative",ref:a,children:[m.jsxs("button",{onClick:()=>n(o=>!o),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[m.jsx(ka,{className:"w-3.5 h-3.5"}),"History",m.jsx(Hi,{className:"w-3 h-3 text-gray-500"})]}),e&&m.jsx("div",{className:"absolute right-0 top-full mt-1 w-96 bg-gray-800 border border-gray-600 rounded shadow-2xl z-50 max-h-80 overflow-y-auto",children:r.length===0?m.jsx("div",{className:"text-gray-500 text-xs text-center py-4",children:"No query history"}):r.map((o,u)=>m.jsx("div",{onClick:()=>{t(o),n(!1)},className:"px-3 py-2 text-xs text-gray-300 hover:bg-gray-700 cursor-pointer truncate border-b border-gray-700 last:border-0 font-mono transition-colors duration-150",title:o,children:o},u))})]})}function x0e(){const[t,e]=R.useState([]),[n,r]=R.useState(o0e()),[i,a]=R.useState([]),[s,o]=R.useState(""),[u,f]=R.useState("rfc3339"),[h,p]=R.useState('SELECT * FROM "measurement" LIMIT 100'),[y,x]=R.useState(null),[b,j]=R.useState(!1),[S,N]=R.useState("table"),[O,C]=R.useState(!0),[_,P]=R.useState(0);R.useEffect(()=>{const U=()=>{P(z=>z+1),x(null),r(""),a([]),o(""),Ne.getDatabases().then(z=>{e(z),z.length>0&&(r(z[0]),$1(z[0]))}).catch(()=>{e([])})};return window.addEventListener("timeseriesui-connection-change",U),()=>window.removeEventListener("timeseriesui-connection-change",U)},[]),R.useEffect(()=>{Ne.getDatabases().then(U=>{e(U),!n&&U.length>0&&(r(U[0]),$1(U[0]))}).catch(()=>{})},[]),R.useEffect(()=>{if(!n){a([]),o("");return}$1(n),Ne.getRetentionPolicies(n).then(U=>{a(U);const z=U.find(H=>H.default);o(z?.name??U[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const D=R.useCallback(async()=>{if(!h.trim()||b)return;j(!0);const U=performance.now();try{l0e(h.trim());const z=await Ne.query(h.trim(),n||void 0,u||void 0),H=Math.round(performance.now()-U),X=z.results?.[0]?.error,W=f0e(z);x({series:W,duration:H,error:X})}catch(z){const H=Math.round(performance.now()-U);x({series:[],duration:H,error:z?.message??"Unknown error"})}finally{j(!1)}},[h,n,u,b]),T=()=>{p(U=>u0e(U))},L=R.useCallback(U=>{p(z=>{const H=z.trimEnd(),X=H.length>0?" ":"";return H+X+U})},[]),I=U=>{U.key==="Enter"&&(U.ctrlKey||U.metaKey)&&(U.preventDefault(),D())},q=y?.series.reduce((U,z)=>U+z.rows.length,0)??0;return m.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100",children:[m.jsxs("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[m.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Query Explorer"}),m.jsxs("div",{className:"flex items-center gap-2 ml-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Database"}),m.jsxs("select",{value:n,onChange:U=>r(U.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"",children:" select "}),t.map(U=>m.jsx("option",{value:U,children:U},U))]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"RP"}),m.jsxs("select",{value:s,onChange:U=>o(U.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",disabled:i.length===0,children:[m.jsx("option",{value:"",children:" default "}),i.map(U=>m.jsxs("option",{value:U.name,children:[U.name,U.default?" (default)":""]},U.name))]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Epoch"}),m.jsx("select",{value:u,onChange:U=>f(U.target.value),className:"bg-gray-800 border border-gray-600 text-gray-200 text-xs rounded px-2 py-1 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:n0e.map(U=>m.jsx("option",{value:U.value,children:U.label},U.value))})]})]}),m.jsxs("div",{className:"flex flex-1 min-h-0 overflow-hidden",children:[m.jsx("div",{className:"flex-shrink-0 border-r border-gray-700 overflow-hidden flex flex-col",style:{width:"250px"},children:m.jsx(m0e,{onInsert:L},_)}),m.jsxs("div",{className:"flex flex-col flex-1 min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"flex-shrink-0 border-b border-gray-700 flex flex-col",style:{height:"200px"},children:[m.jsxs("div",{className:"flex items-center justify-between px-3 py-1.5 bg-gray-900 border-b border-gray-700",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"InfluxQL    Ctrl+Enter to run"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:T,className:"px-2.5 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:"Format"}),m.jsx(y0e,{onSelect:p}),m.jsxs("button",{onClick:()=>{const U=h.trim();U&&!U.toUpperCase().startsWith("EXPLAIN")&&p("EXPLAIN "+U),D()},disabled:b,title:"Explain query plan",className:"flex items-center gap-1.5 px-2.5 py-1.5 text-xs bg-amber-700 hover:bg-amber-600 disabled:bg-amber-900 disabled:text-amber-400 text-white rounded transition-colors duration-150",children:[m.jsx(Il,{className:"w-3.5 h-3.5"}),"Explain"]}),m.jsxs("button",{onClick:D,disabled:b,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 text-white rounded transition-colors duration-150",children:[m.jsx(zl,{className:"w-3.5 h-3.5"}),b?"Running":"Run"]})]})]}),m.jsx("div",{className:"flex-1 overflow-hidden",onKeyDown:I,children:m.jsx(_N,{value:h,onChange:p,extensions:[e0e()],theme:"dark",height:"150px",style:{height:"150px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!0,autocompletion:!0,indentOnInput:!0}})})]}),m.jsxs("div",{className:"flex-1 flex flex-col min-h-0 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-1 px-3 py-1.5 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:[m.jsxs("button",{onClick:()=>N("table"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${S==="table"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[m.jsx(Kg,{className:"w-3.5 h-3.5"}),"Table"]}),m.jsxs("button",{onClick:()=>N("chart"),className:`flex items-center gap-1.5 px-3 py-1 text-xs rounded transition-colors duration-150 ${S==="chart"?"bg-gray-700 text-gray-100":"text-gray-400 hover:text-gray-200 hover:bg-gray-800"}`,children:[m.jsx(ja,{className:"w-3.5 h-3.5"}),"Chart"]}),y&&!y.error&&m.jsxs("div",{className:"ml-auto flex items-center gap-3",children:[m.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer select-none",title:"Toggle between raw epoch and readable timestamps",children:[m.jsx(ka,{className:"w-3 h-3 text-gray-500"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Readable time"}),m.jsx("button",{type:"button",role:"switch","aria-checked":O,onClick:()=>C(U=>!U),className:`relative inline-flex h-4 w-7 items-center rounded-full transition-colors duration-200 ${O?"bg-blue-600":"bg-gray-600"}`,children:m.jsx("span",{className:`inline-block h-3 w-3 rounded-full bg-white transition-transform duration-200 ${O?"translate-x-3.5":"translate-x-0.5"}`})})]}),m.jsx("span",{className:"text-xs text-gray-600",children:"|"}),m.jsxs("span",{className:"text-xs text-gray-500",children:[q," row",q!==1?"s":""]}),m.jsxs("button",{onClick:()=>d0e(y.series),title:"Download CSV",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[m.jsx(gc,{className:"w-3 h-3"})," CSV"]}),m.jsxs("button",{onClick:()=>h0e(y.series),title:"Download JSON",className:"flex items-center gap-1 px-2 py-1 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded border border-gray-600 transition-colors duration-150",children:[m.jsx(Bq,{className:"w-3 h-3"})," JSON"]})]})]}),m.jsxs("div",{className:"flex-1 overflow-hidden min-h-0 bg-gray-950 p-3",children:[!y&&m.jsxs("div",{className:"flex flex-col items-center justify-center h-full gap-2 text-gray-600",children:[m.jsx(zl,{className:"w-8 h-8 opacity-30"}),m.jsx("span",{className:"text-sm",children:"Run a query to see results"})]}),y&&y.error&&m.jsx("div",{className:"bg-red-950/50 border border-red-700 rounded p-3 text-red-300 text-sm font-mono",children:y.error}),y&&!y.error&&m.jsxs("div",{className:"h-full overflow-hidden",children:[S==="table"&&m.jsx(p0e,{series:y.series,humanTime:O,epochUnit:u}),S==="chart"&&m.jsx(g0e,{series:y.series})]})]}),m.jsxs("div",{className:"flex-shrink-0 flex items-center gap-3 px-3 py-1 bg-gray-900 border-t border-gray-700 text-xs text-gray-500",children:[b&&m.jsxs("span",{className:"flex items-center gap-1.5 text-blue-400",children:[m.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Executing"]}),y&&!b&&m.jsxs(m.Fragment,{children:[m.jsxs("span",{className:"flex items-center gap-1",children:[m.jsx(ka,{className:"w-3 h-3"}),c0e(y.duration)]}),!y.error&&m.jsxs("span",{children:[q," row",q!==1?"s":""," returned"]}),y.error&&m.jsx("span",{className:"text-red-400",children:"Query failed"})]}),!y&&!b&&m.jsx("span",{children:"Ready"})]})]})]})]})]})}function md({title:t,message:e,confirmLabel:n="Confirm",onConfirm:r,onCancel:i,danger:a=!0,requireTypedConfirmation:s}){const[o,u]=R.useState(""),f=!s||o===s;return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsx("h3",{className:"text-lg font-semibold text-gray-100 mb-2",children:t}),m.jsx("p",{className:"text-sm text-gray-400 mb-4",children:e}),s&&m.jsxs("div",{className:"mb-4",children:[m.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Type ",m.jsx("span",{className:"font-mono text-red-400 font-semibold",children:s})," to confirm:"]}),m.jsx("input",{type:"text",value:o,onChange:h=>u(h.target.value),autoFocus:!0,placeholder:s,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-600 focus:outline-none focus:border-red-500 transition-colors duration-150 font-mono"})]}),m.jsxs("div",{className:"flex justify-end gap-3",children:[m.jsx("button",{onClick:i,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150",children:"Cancel"}),m.jsx("button",{onClick:r,disabled:!f,className:`px-4 py-2 text-sm font-semibold text-white rounded-md transition-colors duration-150 disabled:opacity-40 disabled:cursor-not-allowed ${a?"bg-red-600 hover:bg-red-700":"bg-blue-600 hover:bg-blue-700"}`,children:n})]})]})})}function v0e({message:t,onDismiss:e}){return m.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[m.jsx("span",{className:"font-mono break-all",children:t}),m.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function b0e({message:t,onDismiss:e}){return m.jsxs("div",{className:"flex items-start justify-between bg-green-950/60 border border-green-700 rounded-md px-4 py-3 mb-4 text-sm text-green-300",children:[m.jsx("span",{children:t}),m.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-green-400 hover:text-green-200 transition-colors duration-150",children:""})]})}function w0e({onClose:t,onCreated:e}){const[n,r]=R.useState(""),[i,a]=R.useState("30d"),[s,o]=R.useState(!1),[u,f]=R.useState(""),h=async()=>{const p=n.trim();if(!p){f("Database name is required.");return}o(!0),f("");try{const y=i.trim()||"INF";await Ne.query(`CREATE DATABASE "${p}" WITH DURATION ${y}`),e(),t()}catch(y){f(y?.message??"Failed to create database.")}finally{o(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(ir,{className:"w-5 h-5 text-blue-400"}),"Create Database"]}),u&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:u}),m.jsxs("div",{className:"flex flex-col gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database Name"}),m.jsx("input",{type:"text",value:n,onChange:p=>r(p.target.value),placeholder:"my_database",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Default RP Duration",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 30d, 1h, INF)"})]}),m.jsx("input",{type:"text",value:i,onChange:p=>a(p.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:t,disabled:s,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:h,disabled:s,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[s&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Database"]})]})]})})}function S0e({database:t,onClose:e,onCreated:n}){const[r,i]=R.useState(""),[a,s]=R.useState("30d"),[o,u]=R.useState(""),[f,h]=R.useState("1"),[p,y]=R.useState(!1),[x,b]=R.useState(!1),[j,S]=R.useState(""),N=async()=>{const O=r.trim();if(!O){S("Retention policy name is required.");return}const C=a.trim();if(!C){S("Duration is required.");return}b(!0),S("");try{let _=`CREATE RETENTION POLICY "${O}" ON "${t}" DURATION ${C} REPLICATION ${f||"1"}`;o.trim()&&(_+=` SHARD DURATION ${o.trim()}`),p&&(_+=" DEFAULT"),await Ne.query(_),n(),e()}catch(_){S(_?.message??"Failed to create retention policy.")}finally{b(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[m.jsx(Vi,{className:"w-5 h-5 text-blue-400"}),"Create Retention Policy"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["on database ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),j&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:j}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Policy Name"}),m.jsx("input",{type:"text",value:r,onChange:O=>i(O.target.value),placeholder:"my_policy",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),m.jsx("input",{type:"text",value:a,onChange:O=>s(O.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(optional, e.g. 1d)"})]}),m.jsx("input",{type:"text",value:o,onChange:O=>u(O.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),m.jsx("input",{type:"number",min:"1",value:f,onChange:O=>h(O.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",checked:p,onChange:O=>y(O.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),m.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:e,disabled:x,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:N,disabled:x,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[x&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create Policy"]})]})]})})}function j0e({database:t,rp:e,onClose:n,onAltered:r}){const[i,a]=R.useState(e.duration||""),[s,o]=R.useState(e.shardGroupDuration||""),[u,f]=R.useState(String(e.replicaN??1)),[h,p]=R.useState(e.default),[y,x]=R.useState(!1),[b,j]=R.useState(""),S=async()=>{x(!0),j("");try{let N=`ALTER RETENTION POLICY "${e.name}" ON "${t}"`;i.trim()&&(N+=` DURATION ${i.trim()}`),N+=` REPLICATION ${u||"1"}`,s.trim()&&(N+=` SHARD DURATION ${s.trim()}`),h&&(N+=" DEFAULT"),await Ne.query(N),r(),n()}catch(N){j(N?.message??"Failed to alter retention policy.")}finally{x(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-1 flex items-center gap-2",children:[m.jsx(cj,{className:"w-5 h-5 text-blue-400"}),"Alter Retention Policy"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:[m.jsx("span",{className:"text-blue-400 font-mono",children:e.name})," on ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),b&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:b}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Duration ",m.jsx("span",{className:"text-xs text-gray-500",children:"(e.g. 7d, 30d, INF)"})]}),m.jsx("input",{type:"text",value:i,onChange:N=>a(N.target.value),placeholder:"30d",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Shard Group Duration ",m.jsx("span",{className:"text-xs text-gray-500",children:"(optional)"})]}),m.jsx("input",{type:"text",value:s,onChange:N=>o(N.target.value),placeholder:"auto",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Replication Factor"}),m.jsx("input",{type:"number",min:"1",value:u,onChange:N=>f(N.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",checked:h,onChange:N=>p(N.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),m.jsx("span",{className:"text-sm text-gray-300",children:"Set as default retention policy"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,disabled:y,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:S,disabled:y,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[y&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Alter Policy"]})]})]})})}function N0e({onError:t,onSuccess:e}){const[n,r]=R.useState([]),[i,a]=R.useState(!0),[s,o]=R.useState(!1),[u,f]=R.useState(null),[h,p]=R.useState(null),[y,x]=R.useState(null),[b,j]=R.useState(null),S=R.useCallback(async()=>{a(!0);try{const T=await Ne.getDatabases();r(L=>{const I=new Map(L.map(q=>[q.name,q]));return T.map(q=>I.get(q)??{name:q,expanded:!1,retentionPolicies:null,seriesCardinality:null,loadingRPs:!1,loadingCardinality:!1})})}catch(T){t(T?.message??"Failed to load databases.")}finally{a(!1)}},[t]);R.useEffect(()=>{S()},[S]);const N=R.useCallback(async T=>{r(I=>I.map(q=>q.name!==T?q:{...q,expanded:!q.expanded}));const L=n.find(I=>I.name===T);if(!(!L||L.retentionPolicies!==null)){r(I=>I.map(q=>q.name===T?{...q,loadingRPs:!0,loadingCardinality:!0}:q));try{const[I,q]=await Promise.all([Ne.getRetentionPolicies(T),Ne.getSeriesCardinality(T)]),U=I.map(z=>({name:z.name,duration:z.duration,shardGroupDuration:z.shardGroupDuration,replicaN:z.replicaN,default:z.default}));r(z=>z.map(H=>H.name===T?{...H,retentionPolicies:U,seriesCardinality:q,loadingRPs:!1,loadingCardinality:!1}:H))}catch(I){r(q=>q.map(U=>U.name===T?{...U,loadingRPs:!1,loadingCardinality:!1}:U)),t(I?.message??`Failed to load details for ${T}.`)}}},[n,t]),O=async T=>{f(null);try{await Ne.query(`DROP DATABASE "${T}"`),e(`Database "${T}" dropped successfully.`),S()}catch(L){t(L?.message??`Failed to drop database "${T}".`)}},C=T=>{r(L=>L.map(I=>I.name===T?{...I,retentionPolicies:null,seriesCardinality:null}:I))},_=T=>{C(T),e(`Retention policy created on "${T}".`)},P=async(T,L)=>{j(null);try{await Ne.query(`DROP RETENTION POLICY "${L}" ON "${T}"`),C(T),e(`Retention policy "${L}" dropped from "${T}".`),r(I=>I.map(q=>q.name===T?{...q,expanded:!1}:q)),setTimeout(()=>N(T),100)}catch(I){t(I?.message??`Failed to drop retention policy "${L}".`)}},D=T=>{C(T),e(`Retention policy altered on "${T}".`),r(L=>L.map(I=>I.name===T?{...I,expanded:!1}:I)),setTimeout(()=>N(T),100)};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(ir,{className:"w-5 h-5 text-blue-400"}),"Databases"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:S,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(Nt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),m.jsxs("button",{onClick:()=>o(!0),className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Vi,{className:"w-4 h-4"}),"Create Database"]})]})]}),i&&n.length===0?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading databases..."]}):n.length===0?m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(ir,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No databases found."})]}):m.jsx("div",{className:"flex flex-col gap-2",children:n.map(T=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("button",{onClick:()=>N(T.name),className:"flex items-center gap-2 text-left group",children:[m.jsx("span",{className:`text-gray-400 transition-transform duration-150 ${T.expanded?"rotate-90":"rotate-0"}`,children:""}),m.jsx(ir,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-medium text-gray-100 group-hover:text-white transition-colors duration-150 font-mono",children:T.name})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:()=>p(T.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[m.jsx(Vi,{className:"w-3.5 h-3.5"}),"Create RP"]}),m.jsxs("button",{onClick:()=>f(T.name),className:"flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(hi,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),T.expanded&&m.jsx("div",{className:"border-t border-gray-700 px-4 py-3",children:T.loadingRPs?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-2",children:[m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading details..."]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"Series Cardinality:"}),m.jsx("span",{className:"text-xs font-mono text-blue-300",children:T.seriesCardinality!==null?T.seriesCardinality.toLocaleString():"N/A"})]}),m.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Retention Policies"}),T.retentionPolicies&&T.retentionPolicies.length>0?m.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Name"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Duration"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Shard Group Duration"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Replication"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Default"}),m.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400 whitespace-nowrap",children:"Actions"})]})}),m.jsx("tbody",{children:T.retentionPolicies.map(L=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-3 py-2 font-mono text-gray-200",children:L.name}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:L.duration||"INF"}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:L.shardGroupDuration||"auto"}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:L.replicaN}),m.jsx("td",{className:"px-3 py-2",children:L.default?m.jsx("span",{className:"inline-flex items-center px-1.5 py-0.5 rounded text-xs font-semibold bg-blue-900/60 text-blue-300 border border-blue-700",children:"default"}):m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-3 py-2 text-right",children:m.jsxs("div",{className:"flex items-center gap-1 justify-end",children:[m.jsx("button",{onClick:()=>x({db:T.name,rp:L}),title:"Edit",className:"p-1.5 text-gray-400 hover:text-blue-300 hover:bg-gray-700 rounded transition-colors duration-150",children:m.jsx(cj,{className:"w-3.5 h-3.5"})}),m.jsx("button",{onClick:()=>j({db:T.name,rpName:L.name}),title:"Drop",className:"p-1.5 text-gray-400 hover:text-red-300 hover:bg-gray-700 rounded transition-colors duration-150",children:m.jsx(hi,{className:"w-3.5 h-3.5"})})]})})]},L.name))})]})}):m.jsx("p",{className:"text-sm text-gray-500",children:"No retention policies found."})]})})]},T.name))}),s&&m.jsx(w0e,{onClose:()=>o(!1),onCreated:()=>{e("Database created successfully."),S()}}),u&&m.jsx(md,{title:"Drop Database",message:`Are you sure you want to drop the database "${u}"? This action is irreversible and all data will be permanently deleted.`,confirmLabel:"Drop Database",requireTypedConfirmation:u,onConfirm:()=>O(u),onCancel:()=>f(null)}),h&&m.jsx(S0e,{database:h,onClose:()=>p(null),onCreated:()=>_(h)}),y&&m.jsx(j0e,{database:y.db,rp:y.rp,onClose:()=>x(null),onAltered:()=>D(y.db)}),b&&m.jsx(md,{title:"Drop Retention Policy",message:`Are you sure you want to drop the retention policy "${b.rpName}" on database "${b.db}"? All data in this policy will be permanently deleted.`,confirmLabel:"Drop RP",requireTypedConfirmation:b.rpName,onConfirm:()=>P(b.db,b.rpName),onCancel:()=>j(null)})]})}function C0e({databases:t,onClose:e,onCreated:n}){const[r,i]=R.useState(""),[a,s]=R.useState(t[0]??""),[o,u]=R.useState(""),[f,h]=R.useState(""),[p,y]=R.useState(""),[x,b]=R.useState(!1),[j,S]=R.useState(""),N=async()=>{const O=r.trim();if(!O){S("Continuous query name is required.");return}if(!a){S("Database is required.");return}const C=p.trim();if(!C){S("SELECT query is required.");return}b(!0),S("");try{let _="";const P=o.trim(),D=f.trim();(P||D)&&(_=" RESAMPLE",P&&(_+=` EVERY ${P}`),D&&(_+=` FOR ${D}`));const T=`CREATE CONTINUOUS QUERY "${O}" ON "${a}"${_} BEGIN ${C} END`;await Ne.query(T),n(),e()}catch(_){S(_?.message??"Failed to create continuous query.")}finally{b(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-lg mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(Nt,{className:"w-5 h-5 text-blue-400"}),"Create Continuous Query"]}),j&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono break-all",children:j}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"CQ Name"}),m.jsx("input",{type:"text",value:r,onChange:O=>i(O.target.value),placeholder:"my_cq",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),m.jsx("select",{value:a,onChange:O=>s(O.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:t.map(O=>m.jsx("option",{value:O,children:O},O))})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample Every",m.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),m.jsx("input",{type:"text",value:o,onChange:O=>u(O.target.value),placeholder:"e.g. 1h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Resample For",m.jsx("span",{className:"ml-1 text-xs text-gray-500",children:"(optional)"})]}),m.jsx("input",{type:"text",value:f,onChange:O=>h(O.target.value),placeholder:"e.g. 2h",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["SELECT Query",m.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(the full SELECT ... INTO ... FROM ... GROUP BY time(...) statement)"})]}),m.jsx("textarea",{value:p,onChange:O=>y(O.target.value),placeholder:'SELECT mean("value") INTO "downsampled"."autogen"."cpu" FROM "cpu" GROUP BY time(1h)',rows:4,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 font-mono resize-y"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:e,disabled:x,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsxs("button",{onClick:N,disabled:x,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 flex items-center gap-2",children:[x&&m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Create CQ"]})]})]})})}function k0e({onError:t,onSuccess:e}){const[n,r]=R.useState([]),[i,a]=R.useState(!0),[s,o]=R.useState(!1),[u,f]=R.useState([]),[h,p]=R.useState(null),y=R.useCallback(async()=>{try{const S=await Ne.getDatabases();f(S)}catch{}},[]),x=R.useCallback(async()=>{a(!0);try{const N=(await Ne.getContinuousQueries()).map(O=>{const C=O.columns?.indexOf("name")??0,_=O.columns?.indexOf("query")??1,P=(O.values??[]).map(D=>({name:D[C],query:D[_]}));return{database:O.name,queries:P}});r(N)}catch(S){t(S?.message??"Failed to load continuous queries.")}finally{a(!1)}},[t]);R.useEffect(()=>{x(),y()},[x,y]);const b=async(S,N)=>{p(null);try{await Ne.query(`DROP CONTINUOUS QUERY "${S}" ON "${N}"`),e(`Continuous query "${S}" dropped from "${N}".`),x()}catch(O){t(O?.message??`Failed to drop continuous query "${S}".`)}},j=n.reduce((S,N)=>S+N.queries.length,0);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(Nt,{className:"w-5 h-5 text-blue-400"}),"Continuous Queries",!i&&m.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",j," total)"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:x,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(Nt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),m.jsxs("button",{onClick:()=>{y(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Vi,{className:"w-4 h-4"}),"Create CQ"]})]})]}),i?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading continuous queries..."]}):n.length===0||j===0?m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(Nt,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No continuous queries found."})]}):m.jsx("div",{className:"flex flex-col gap-4",children:n.filter(S=>S.queries.length>0).map(S=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[m.jsx(ir,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:S.database}),m.jsxs("span",{className:"text-xs text-gray-500 ml-1",children:["(",S.queries.length," ",S.queries.length===1?"query":"queries",")"]})]}),m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400 w-40",children:"Name"}),m.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:"Query"}),m.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),m.jsx("tbody",{children:S.queries.map(N=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-2.5 font-mono text-blue-300 align-top whitespace-nowrap",children:N.name}),m.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all align-top",children:m.jsx("span",{className:"whitespace-pre-wrap text-xs leading-relaxed",children:N.query})}),m.jsx("td",{className:"px-4 py-2.5 text-right align-top",children:m.jsxs("button",{onClick:()=>p({name:N.name,db:S.database}),className:"flex items-center gap-1 px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 ml-auto",children:[m.jsx(hi,{className:"w-3 h-3"}),"Drop"]})})]},N.name))})]})]},S.database))}),h&&m.jsx(md,{title:"Drop Continuous Query",message:`Are you sure you want to drop the continuous query "${h.name}" on database "${h.db}"?`,confirmLabel:"Drop CQ",onConfirm:()=>b(h.name,h.db),onCancel:()=>p(null)}),s&&m.jsx(C0e,{databases:u,onClose:()=>o(!1),onCreated:()=>{e("Continuous query created successfully."),x()}})]})}function O0e({onCreated:t,onError:e,onSuccess:n}){const[r,i]=R.useState(""),[a,s]=R.useState(""),[o,u]=R.useState(!1),[f,h]=R.useState(!1),p=async()=>{const y=r.trim();if(!y){e("Username is required.");return}if(!a){e("Password is required.");return}h(!0);try{await Ne.query(`CREATE USER "${y}" WITH PASSWORD '${a}'`),o&&await Ne.query(`GRANT ALL PRIVILEGES TO "${y}"`),n(`User "${y}" created successfully.`),i(""),s(""),u(!1),t()}catch(x){e(x?.message??"Failed to create user.")}finally{h(!1)}};return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mb-6",children:[m.jsxs("h3",{className:"text-sm font-semibold text-gray-300 mb-3 flex items-center gap-2",children:[m.jsx(Vi,{className:"w-4 h-4 text-blue-400"}),"Create User"]}),m.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[m.jsxs("div",{className:"flex-1 min-w-36",children:[m.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Username"}),m.jsx("input",{type:"text",value:r,onChange:y=>i(y.target.value),placeholder:"username",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{className:"flex-1 min-w-36",children:[m.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"Password"}),m.jsx("input",{type:"password",value:a,onChange:y=>s(y.target.value),placeholder:"password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsx("div",{className:"flex items-center gap-2 pb-0.5",children:m.jsxs("label",{className:"flex items-center gap-2 cursor-pointer select-none",children:[m.jsx("input",{type:"checkbox",checked:o,onChange:y=>u(y.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-gray-700 text-blue-500 focus:ring-blue-500 focus:ring-offset-gray-800"}),m.jsxs("span",{className:"text-sm text-gray-300 flex items-center gap-1",children:[m.jsx(Ps,{className:"w-3.5 h-3.5 text-amber-400"}),"Admin"]})]})}),m.jsxs("button",{onClick:p,disabled:f,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[f?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(Vi,{className:"w-4 h-4"}),"Create User"]})]})]})}function A0e({username:t,onClose:e,onSuccess:n,onError:r}){const[i,a]=R.useState(""),[s,o]=R.useState(""),[u,f]=R.useState(!1),h=async()=>{if(!i){r("Password is required.");return}if(i!==s){r("Passwords do not match.");return}f(!0);try{await Ne.query(`SET PASSWORD FOR "${t}" = '${i}'`),n(`Password changed for "${t}".`),e()}catch(p){r(p?.message??"Failed to change password.")}finally{f(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(J3,{className:"w-5 h-5 text-blue-400"}),"Change Password"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["for user ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsx("input",{type:"password",value:i,onChange:p=>a(p.target.value),placeholder:"New password",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"}),m.jsx("input",{type:"password",value:s,onChange:p=>o(p.target.value),placeholder:"Confirm password",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:h,disabled:u||!i||i!==s,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Change Password"})]})]})})}function E0e({username:t,databases:e,onClose:n,onSuccess:r,onError:i}){const[a,s]=R.useState(e[0]??""),[o,u]=R.useState("ALL"),[f,h]=R.useState(!1),p=async()=>{if(!a){i("Database is required.");return}h(!0);try{await Ne.query(`GRANT ${o} ON "${a}" TO "${t}"`),r(`Granted ${o} on "${a}" to "${t}".`),n()}catch(y){i(y?.message??"Failed to grant privilege.")}finally{h(!1)}};return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-sm mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(Ps,{className:"w-5 h-5 text-blue-400"}),"Grant Privilege"]}),m.jsxs("p",{className:"text-xs text-gray-500 mb-4",children:["to user ",m.jsx("span",{className:"text-blue-400 font-mono",children:t})]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),m.jsx("select",{value:a,onChange:y=>s(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:e.map(y=>m.jsx("option",{value:y,children:y},y))})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Privilege"}),m.jsxs("select",{value:o,onChange:y=>u(y.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"ALL",children:"ALL PRIVILEGES"}),m.jsx("option",{value:"READ",children:"READ"}),m.jsx("option",{value:"WRITE",children:"WRITE"})]})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:n,disabled:f,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:p,disabled:f,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Grant"})]})]})})}function T0e({onError:t,onSuccess:e}){const[n,r]=R.useState([]),[i,a]=R.useState(!0),[s,o]=R.useState(null),[u,f]=R.useState(null),[h,p]=R.useState(null),[y,x]=R.useState([]),[b,j]=R.useState(null),[S,N]=R.useState({}),[O,C]=R.useState(null),_=R.useCallback(async()=>{a(!0);try{const I=await Ne.getUsers();r(Array.isArray(I)?I:[])}catch(I){t(I?.message??"Failed to load users.")}finally{a(!1)}},[t]),P=R.useCallback(async()=>{try{x(await Ne.getDatabases())}catch{}},[]);R.useEffect(()=>{_(),P()},[_,P]);const D=async I=>{o(null);try{await Ne.query(`DROP USER "${I}"`),e(`User "${I}" dropped successfully.`),_()}catch(q){t(q?.message??`Failed to drop user "${I}".`)}},T=async I=>{if(b===I){j(null);return}if(j(I),!S[I]){C(I);try{const q=await Ne.getUserGrants(I);N(U=>({...U,[I]:q}))}catch(q){t(q?.message??`Failed to load grants for "${I}".`)}finally{C(null)}}},L=async(I,q,U)=>{try{await Ne.query(`REVOKE ${U} ON "${q}" FROM "${I}"`),e(`Revoked ${U} on "${q}" from "${I}".`);const z=await Ne.getUserGrants(I);N(H=>({...H,[I]:z}))}catch(z){t(z?.message??"Failed to revoke privilege.")}};return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(nE,{className:"w-5 h-5 text-blue-400"}),"Users"]}),m.jsx("button",{onClick:_,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(Nt,{className:`w-4 h-4 ${i?"animate-spin":""}`})})]}),m.jsx(O0e,{onCreated:_,onError:t,onSuccess:e}),i?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading users..."]}):n.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(nE,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No users found."})]}):m.jsx("div",{className:"flex flex-col gap-2",children:n.map(I=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("span",{className:"font-mono text-gray-100 text-sm",children:I.user}),I.admin?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[m.jsx(Ps,{className:"w-3 h-3"})," Admin"]}):m.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-gray-700 text-gray-400 border border-gray-600",children:"User"})]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsxs("button",{onClick:()=>T(I.user),title:"View Grants",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[m.jsx(Rq,{className:"w-3.5 h-3.5"}),"Grants",b===I.user?m.jsx(oj,{className:"w-3 h-3"}):m.jsx(Hi,{className:"w-3 h-3"})]}),m.jsxs("button",{onClick:()=>f(I.user),title:"Change Password",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-gray-700 hover:bg-gray-600 text-gray-300 rounded-md border border-gray-600 transition-colors duration-150",children:[m.jsx(J3,{className:"w-3.5 h-3.5"}),"Password"]}),m.jsxs("button",{onClick:()=>{P(),p(I.user)},title:"Grant Privilege",className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Ps,{className:"w-3.5 h-3.5"}),"Grant"]}),m.jsxs("button",{onClick:()=>o(I.user),className:"flex items-center gap-1 px-2.5 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(hi,{className:"w-3.5 h-3.5"}),"Drop"]})]})]}),b===I.user&&m.jsxs("div",{className:"border-t border-gray-700 px-4 py-3 bg-gray-850",children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-2",children:"Database Grants"}),O===I.user?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-xs py-2",children:[m.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading grants..."]}):(S[I.user]??[]).length===0?m.jsx("p",{className:"text-xs text-gray-500",children:"No database-specific grants."}):m.jsx("div",{className:"rounded border border-gray-700 overflow-hidden",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Database"}),m.jsx("th",{className:"px-3 py-2 text-left font-semibold text-gray-400",children:"Privilege"}),m.jsx("th",{className:"px-3 py-2 text-right font-semibold text-gray-400",children:"Actions"})]})}),m.jsx("tbody",{children:(S[I.user]??[]).map((q,U)=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-3 py-2 font-mono text-blue-300",children:q.database}),m.jsx("td",{className:"px-3 py-2 text-gray-300",children:q.privilege}),m.jsx("td",{className:"px-3 py-2 text-right",children:m.jsx("button",{onClick:()=>L(I.user,q.database,q.privilege),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Revoke"})})]},U))})]})})]})]},I.user))}),s&&m.jsx(md,{title:"Drop User",message:`Are you sure you want to drop the user "${s}"? This action cannot be undone.`,confirmLabel:"Drop User",onConfirm:()=>D(s),onCancel:()=>o(null)}),u&&m.jsx(A0e,{username:u,onClose:()=>f(null),onSuccess:e,onError:t}),h&&m.jsx(E0e,{username:h,databases:y,onClose:()=>{p(null)},onSuccess:I=>{e(I),b===h&&Ne.getUserGrants(h).then(q=>N(U=>({...U,[h]:q}))).catch(()=>{})},onError:t})]})}function M0e({onError:t}){const[e,n]=R.useState([]),[r,i]=R.useState(!1),[a,s]=R.useState(!1),o=async()=>{i(!0),s(!1);try{const x=await Ne.getDatabases();let b={};try{const S=await Ne.getShardGroups();for(const N of S){const O=N.database||N.Database,C=N.end_time||N["end time"]||N.expiry_time;if(O&&C){const _=new Date(C);!isNaN(_.getTime())&&(!b[O]||_>b[O])&&(b[O]=_)}}}catch{}const j=await Promise.all(x.map(async S=>{let N=0,O=[],C=0;try{N=await Ne.getSeriesCardinality(S)}catch{}try{O=await Ne.getMeasurements(S)}catch{}try{C=(await Ne.getRetentionPolicies(S)).length}catch{}let _=null;const P=O.slice(0,5);for(const L of P)try{const q=(await Ne.query(`SELECT * FROM "${L}" ORDER BY time DESC LIMIT 1`,S,"rfc3339")).results?.[0]?.series?.[0];if(q&&q.values?.[0]){const U=q.columns.indexOf("time"),z=U>=0?String(q.values[0][U]):null;z&&(!_||z>_)&&(_=z)}}catch{}const D=b[S]||null;let T=null;return D&&(T=Math.max(0,Math.floor((Date.now()-D.getTime())/(1e3*60*60*24)))),{name:S,seriesCardinality:N,measurementCount:O.length,rpCount:C,latestShardEnd:D,staleDays:T,lastDataAt:_}}));j.sort((S,N)=>N.seriesCardinality-S.seriesCardinality),n(j),s(!0)}catch(x){t(x?.message??"Analysis failed.")}finally{i(!1)}},u=x=>x.staleDays===null?"":x.staleDays===0?"Today":x.staleDays===1?"1 day ago":`${x.staleDays}d ago`,f=7,h=e.reduce((x,b)=>x+b.seriesCardinality,0),p=e.reduce((x,b)=>x+b.measurementCount,0),y=e.filter(x=>x.staleDays!==null&&x.staleDays>f).length;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(ja,{className:"w-5 h-5 text-blue-400"}),"Usage Insights"]}),m.jsxs("button",{onClick:o,disabled:r,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[r?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(ja,{className:"w-4 h-4"}),r?"Analyzing...":a?"Re-analyze":"Analyze Usage"]})]}),!a&&!r&&m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(ja,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:'Click "Analyze Usage" to scan all databases.'}),m.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Queries each database for series cardinality, measurements, and shard groups."})]}),r&&m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Analyzing databases... this may take a moment."]}),a&&!r&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 mb-6",children:[m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Databases"}),m.jsx("div",{className:"text-lg font-bold text-gray-100",children:e.length})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Series"}),m.jsx("div",{className:"text-lg font-bold text-gray-100",children:h.toLocaleString()})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"text-xs text-gray-500 mb-1",children:"Total Measurements"}),m.jsx("div",{className:"text-lg font-bold text-gray-100",children:p.toLocaleString()})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 px-4 py-3",children:[m.jsxs("div",{className:"text-xs text-gray-500 mb-1",children:["Stale (",">","7d)"]}),m.jsx("div",{className:`text-lg font-bold ${y>0?"text-amber-400":"text-green-400"}`,children:y})]})]}),e.length===0?m.jsxs("div",{className:"text-center py-12 text-gray-500",children:[m.jsx(ir,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No databases found."})]}):m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Database"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Series"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Measurements"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"RPs"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Latest Shard"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400",children:"Last Data At"}),m.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Status"})]})}),m.jsx("tbody",{children:e.map(x=>{const b=x.staleDays!==null&&x.staleDays>f,j=x.name==="_internal";return m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsxs("td",{className:"px-4 py-3 font-mono text-gray-100",children:[x.name,j&&m.jsx("span",{className:"ml-2 text-[10px] text-gray-500 font-sans",children:"(system)"})]}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:x.seriesCardinality.toLocaleString()}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:x.measurementCount.toLocaleString()}),m.jsx("td",{className:"px-4 py-3 text-right font-mono text-gray-300",children:x.rpCount}),m.jsx("td",{className:"px-4 py-3 text-right text-gray-400 text-xs",children:u(x)}),m.jsx("td",{className:"px-4 py-3 text-right text-xs font-mono",children:x.lastDataAt?m.jsx("span",{className:"text-gray-300",title:x.lastDataAt,children:(()=>{try{const S=new Date(x.lastDataAt);if(!isNaN(S.getTime()))return S.toLocaleString()}catch{}return x.lastDataAt})()}):m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 text-center",children:b&&!j?m.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded text-xs font-semibold bg-amber-900/60 text-amber-300 border border-amber-700",children:[m.jsx(ac,{className:"w-3 h-3"}),"Stale"]}):x.staleDays!==null?m.jsx("span",{className:"inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold bg-green-900/40 text-green-400 border border-green-800",children:"Active"}):m.jsx("span",{className:"text-gray-600 text-xs",children:""})})]},x.name)})})]})})]})]})}function _0e({onError:t,onSuccess:e}){const[n,r]=R.useState([]),[i,a]=R.useState(!0),[s,o]=R.useState(!1),[u,f]=R.useState([]),[h,p]=R.useState(null),[y,x]=R.useState(""),[b,j]=R.useState(""),[S,N]=R.useState(""),[O,C]=R.useState("ANY"),[_,P]=R.useState(""),[D,T]=R.useState(!1),[L,I]=R.useState(""),q=R.useCallback(async()=>{a(!0);try{const W=await Ne.getSubscriptions();r(W)}catch(W){t(W?.message??"Failed to load subscriptions.")}finally{a(!1)}},[t]),U=R.useCallback(async()=>{try{f(await Ne.getDatabases())}catch{}},[]);R.useEffect(()=>{q(),U()},[q,U]);const z=async(W,V,Y)=>{p(null);try{await Ne.query(`DROP SUBSCRIPTION "${W}" ON "${V}"."${Y}"`),e(`Subscription "${W}" dropped.`),q()}catch(J){t(J?.message??`Failed to drop subscription "${W}".`)}},H=async()=>{if(!S.trim()){I("Subscription name is required.");return}if(!y){I("Database is required.");return}if(!b.trim()){I("Retention policy is required.");return}if(!_.trim()){I("At least one destination is required.");return}T(!0),I("");try{const W=_.split(",").map(V=>`'${V.trim()}'`).join(", ");await Ne.query(`CREATE SUBSCRIPTION "${S.trim()}" ON "${y}"."${b.trim()}" DESTINATIONS ${O} ${W}`),e("Subscription created successfully."),o(!1),N(""),j(""),P(""),q()}catch(W){I(W?.message??"Failed to create subscription.")}finally{T(!1)}},X=n.reduce((W,V)=>W+(V.values?.length??0),0);return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(Cv,{className:"w-5 h-5 text-blue-400"}),"Subscriptions",!i&&m.jsxs("span",{className:"ml-1 text-xs font-normal text-gray-500",children:["(",X," total)"]})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:q,disabled:i,title:"Refresh",className:"p-2 bg-gray-800 hover:bg-gray-700 text-gray-400 hover:text-gray-200 rounded-md border border-gray-700 transition-colors duration-150 disabled:opacity-50",children:m.jsx(Nt,{className:`w-4 h-4 ${i?"animate-spin":""}`})}),m.jsxs("button",{onClick:()=>{U(),o(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150",children:[m.jsx(Vi,{className:"w-4 h-4"})," Create Subscription"]})]})]}),i?m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading subscriptions..."]}):X===0?m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(Cv,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No subscriptions found."})]}):m.jsx("div",{className:"flex flex-col gap-4",children:n.filter(W=>W.values?.length>0).map(W=>m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-700 bg-gray-800",children:[m.jsx(ir,{className:"w-4 h-4 text-blue-400 flex-shrink-0"}),m.jsx("span",{className:"text-sm font-semibold text-gray-200 font-mono",children:W.name})]}),m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[(W.columns??[]).map(V=>m.jsx("th",{className:"px-4 py-2 text-left font-semibold text-gray-400",children:V},V)),m.jsx("th",{className:"px-4 py-2 text-right font-semibold text-gray-400 w-24",children:"Actions"})]})}),m.jsx("tbody",{children:(W.values??[]).map((V,Y)=>{const J=(W.columns??[]).indexOf("name"),oe=(W.columns??[]).indexOf("retention_policy");return m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[V.map((ge,M)=>m.jsx("td",{className:"px-4 py-2.5 text-gray-300 font-mono break-all",children:String(ge??"")},M)),m.jsx("td",{className:"px-4 py-2.5 text-right",children:m.jsx("button",{onClick:()=>p({name:V[J]??"",db:W.name,rp:V[oe]??""}),className:"px-2 py-1 text-xs bg-red-600 hover:bg-red-700 text-white rounded transition-colors duration-150",children:"Drop"})})]},Y)})})]})]},W.name))}),h&&m.jsx(md,{title:"Drop Subscription",message:`Drop subscription "${h.name}" on "${h.db}"."${h.rp}"?`,confirmLabel:"Drop",onConfirm:()=>z(h.name,h.db,h.rp),onCancel:()=>p(null)}),s&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:m.jsxs("div",{className:"bg-gray-800 rounded-lg shadow-2xl border border-gray-700 w-full max-w-md mx-4 p-6",children:[m.jsxs("h3",{className:"text-lg font-semibold text-gray-100 mb-4 flex items-center gap-2",children:[m.jsx(Cv,{className:"w-5 h-5 text-blue-400"})," Create Subscription"]}),L&&m.jsx("div",{className:"bg-red-950/60 border border-red-700 rounded-md px-3 py-2 mb-4 text-sm text-red-300 font-mono",children:L}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Subscription Name"}),m.jsx("input",{type:"text",value:S,onChange:W=>N(W.target.value),placeholder:"my_subscription",autoFocus:!0,className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Database"}),m.jsxs("select",{value:y,onChange:W=>x(W.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"",children:"Select database"}),u.map(W=>m.jsx("option",{value:W,children:W},W))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Retention Policy"}),m.jsx("input",{type:"text",value:b,onChange:W=>j(W.target.value),placeholder:"autogen",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"Mode"}),m.jsxs("select",{value:O,onChange:W=>C(W.target.value),className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150",children:[m.jsx("option",{value:"ANY",children:"ANY"}),m.jsx("option",{value:"ALL",children:"ALL"})]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm text-gray-400 mb-1",children:["Destinations ",m.jsx("span",{className:"text-xs text-gray-500",children:"(comma-separated URIs)"})]}),m.jsx("input",{type:"text",value:_,onChange:W=>P(W.target.value),placeholder:"udp://host1:9090, udp://host2:9090",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150"})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 mt-6",children:[m.jsx("button",{onClick:()=>o(!1),disabled:D,className:"px-4 py-2 text-sm bg-gray-700 hover:bg-gray-600 text-gray-200 rounded-md transition-colors duration-150 disabled:opacity-50",children:"Cancel"}),m.jsx("button",{onClick:H,disabled:D,className:"px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:"Create"})]})]})})]})}function D0e({onError:t}){const[e,n]=R.useState([]),[r,i]=R.useState([]),[a,s]=R.useState({}),[o,u]=R.useState(!1),[f,h]=R.useState(!1),p=async()=>{u(!0);try{const[b,j]=await Promise.all([Ne.getUsers(),Ne.getDatabases()]);n(Array.isArray(b)?b:[]),i(j);const S={};await Promise.all((b??[]).map(async N=>{try{const O=await Ne.getUserGrants(N.user),C={};for(const _ of O)C[_.database]=_.privilege;S[N.user]=C}catch{S[N.user]={}}})),s(S),h(!0)}catch(b){t(b?.message??"Failed to load privilege matrix.")}finally{u(!1)}},y=b=>!b||b==="NO PRIVILEGES"?"text-gray-600":b==="ALL PRIVILEGES"?"text-green-400":b==="READ"?"text-blue-400":b==="WRITE"?"text-amber-400":"text-gray-300",x=b=>!b||b==="NO PRIVILEGES"?"-":b==="ALL PRIVILEGES"?"ALL":b;return m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("h2",{className:"text-base font-semibold text-gray-200 flex items-center gap-2",children:[m.jsx(Ps,{className:"w-5 h-5 text-blue-400"}),"Privilege Matrix"]}),m.jsxs("button",{onClick:p,disabled:o,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[o?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(Nt,{className:"w-4 h-4"}),o?"Loading...":f?"Refresh":"Load Matrix"]})]}),!f&&!o&&m.jsxs("div",{className:"text-center py-16 text-gray-500",children:[m.jsx(Ps,{className:"w-10 h-10 mx-auto mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:'Click "Load Matrix" to view the per-database privilege grid.'}),m.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Shows SHOW GRANTS for each user across all databases."})]}),o&&m.jsxs("div",{className:"flex items-center justify-center py-16 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading privilege matrix..."]}),f&&!o&&m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 sticky left-0 bg-gray-800 z-10",children:"User"}),m.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400",children:"Admin"}),r.map(b=>m.jsx("th",{className:"px-4 py-3 text-center font-semibold text-gray-400 font-mono whitespace-nowrap",children:b},b))]})}),m.jsx("tbody",{children:e.map(b=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-3 font-mono text-gray-100 sticky left-0 bg-gray-800",children:b.user}),m.jsx("td",{className:"px-4 py-3 text-center",children:b.admin?m.jsx("span",{className:"text-amber-400 font-semibold",children:"Yes"}):m.jsx("span",{className:"text-gray-600",children:"No"})}),r.map(j=>{const S=a[b.user]?.[j]??"";return m.jsx("td",{className:`px-4 py-3 text-center font-semibold ${y(S)}`,children:x(S)},j)})]},b.user))})]})})]})}const P0e=[{id:"databases",label:"Databases & RPs"},{id:"continuous_queries",label:"Continuous Queries"},{id:"users",label:"Users"},{id:"subscriptions",label:"Subscriptions"},{id:"privileges",label:"Privileges"},{id:"insights",label:"Usage Insights"}];function R0e(){const[t,e]=R.useState("databases"),[n,r]=R.useState(""),[i,a]=R.useState(""),[s,o]=R.useState(0);R.useEffect(()=>{const h=()=>{o(p=>p+1),r(""),a("")};return window.addEventListener("timeseriesui-connection-change",h),()=>window.removeEventListener("timeseriesui-connection-change",h)},[]);const u=R.useCallback(h=>{r(h),a("")},[]),f=R.useCallback(h=>{a(h),r("")},[]);return m.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[m.jsxs("div",{className:"border-b border-gray-800 px-6 py-4",children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[m.jsx(ir,{className:"w-6 h-6 text-blue-400"}),"Database Administration"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Manage databases, retention policies, continuous queries, and users."})]}),m.jsx("div",{className:"flex items-center gap-1 px-6 pt-4 pb-0",children:P0e.map(h=>m.jsx("button",{onClick:()=>{e(h.id),r(""),a("")},className:`px-4 py-2 text-sm font-medium rounded-t-md transition-colors duration-150 ${t===h.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-gray-200 hover:bg-gray-700"}`,children:h.label},h.id))}),m.jsxs("div",{className:"px-6 py-5",children:[n&&m.jsx(v0e,{message:n,onDismiss:()=>r("")}),i&&m.jsx(b0e,{message:i,onDismiss:()=>a("")}),t==="databases"&&m.jsx(N0e,{onError:u,onSuccess:f},s),t==="continuous_queries"&&m.jsx(k0e,{onError:u,onSuccess:f},s),t==="users"&&m.jsx(T0e,{onError:u,onSuccess:f},s),t==="subscriptions"&&m.jsx(_0e,{onError:u,onSuccess:f},s),t==="privileges"&&m.jsx(D0e,{onError:u},s),t==="insights"&&m.jsx(M0e,{onError:u},s)]})]})}const L0e=[{value:"ns",label:"ns  Nanoseconds"},{value:"us",label:"us  Microseconds"},{value:"ms",label:"ms  Milliseconds"},{value:"s",label:"s   Seconds"}],B0e=`Enter line protocol data here...
cpu,host=server01 usage_idle=98.2 1622505600000000000`;function q1(t){return t.split(`
`).filter(e=>e.trim().length>0&&!e.trim().startsWith("#")).length}function tj(t){const e=[];let n="",r=!1;for(let i=0;i<t.length;i++){const a=t[i];r?a==='"'&&t[i+1]==='"'?(n+='"',i++):a==='"'?r=!1:n+=a:a==='"'?r=!0:a===","?(e.push(n),n=""):n+=a}return e.push(n),e}function p3(t,e,n,r){const i=t.split(`
`).filter(o=>o.trim().length>0);if(i.length<2)return"";const a=tj(i[0]).map(o=>o.trim()),s=[];for(let o=1;o<i.length;o++){const u=tj(i[o]);if(u.length!==a.length)continue;let f="";const h=[];let p="";if(a.forEach((x,b)=>{const j=u[b]?.trim()??"";if(j)if(x===r){const S=Number(j);if(!isNaN(S))p=String(S);else{const N=new Date(j);isNaN(N.getTime())||(p=String(N.getTime()*1e6))}}else if(n.has(x)){const S=j.replace(/ /g,"\\ ").replace(/,/g,"\\,").replace(/=/g,"\\=");f+=`,${x}=${S}`}else{const S=Number(j);!isNaN(S)&&j!==""?h.push(`${x}=${j}`):j==="true"||j==="false"||j==="TRUE"||j==="FALSE"?h.push(`${x}=${j.toLowerCase()}`):h.push(`${x}="${j.replace(/"/g,'\\"')}"`)}}),h.length===0)continue;let y=e+f+" "+h.join(",");p&&(y+=" "+p),s.push(y)}return s.join(`
`)}function z0e({onConvert:t}){const[e,n]=R.useState(""),[r,i]=R.useState([]),[a,s]=R.useState(""),[o,u]=R.useState(new Set),[f,h]=R.useState(""),[p,y]=R.useState(""),x=R.useRef(null),b=R.useCallback(C=>{const _=C.split(`
`)[0]??"",P=tj(_).map(T=>T.trim()).filter(Boolean);i(P);const D=P.find(T=>/^(time|timestamp|date|datetime)$/i.test(T));D&&h(D)},[]),j=C=>{const _=C.target.files?.[0];if(!_)return;const P=new FileReader;P.onload=D=>{const T=D.target?.result;typeof T=="string"&&(n(T),b(T))},P.readAsText(_),C.target.value=""},S=C=>{u(_=>{const P=new Set(_);return P.has(C)?P.delete(C):P.add(C),P})},N=()=>{if(!a.trim()||!e)return;const C=p3(e,a.trim(),o,f);y(C)},O=()=>{if(!a.trim()||!e)return;const C=p3(e,a.trim(),o,f);t(C)};return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 mt-6",children:[m.jsxs("h3",{className:"text-sm font-semibold text-gray-200 mb-3 flex items-center gap-2",children:[m.jsx(Uq,{className:"w-4 h-4 text-blue-400"}),"CSV Import"]}),m.jsxs("div",{className:"flex flex-col gap-3",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("button",{onClick:()=>x.current?.click(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(fp,{className:"w-4 h-4"})," Upload CSV"]}),m.jsx("input",{ref:x,type:"file",accept:".csv",className:"hidden",onChange:j}),e&&m.jsxs("span",{className:"text-xs text-gray-400",children:[e.split(`
`).length-1," rows detected"]})]}),r.length>0&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Measurement Name"}),m.jsx("input",{type:"text",value:a,onChange:C=>s(C.target.value),placeholder:"my_measurement",className:"w-full bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Timestamp Column"}),m.jsxs("select",{value:f,onChange:C=>h(C.target.value),className:"bg-gray-700 border border-gray-600 rounded-md px-3 py-2 text-sm text-gray-100 focus:outline-none focus:border-blue-500 transition-colors duration-150 max-w-xs",children:[m.jsx("option",{value:"",children:"(none  auto timestamp)"}),r.map(C=>m.jsx("option",{value:C,children:C},C))]})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-xs font-medium text-gray-400 mb-2",children:["Tag Columns ",m.jsx("span",{className:"text-gray-500",children:"(click to toggle, unselected = field)"})]}),m.jsx("div",{className:"flex flex-wrap gap-2",children:r.filter(C=>C!==f).map(C=>m.jsx("button",{onClick:()=>S(C),className:`px-2.5 py-1 text-xs rounded-md border transition-colors duration-150 font-mono ${o.has(C)?"bg-blue-600 border-blue-500 text-white":"bg-gray-700 border-gray-600 text-gray-300 hover:bg-gray-600"}`,children:C},C))})]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("button",{onClick:N,disabled:!a.trim(),className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 text-gray-200 px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:"Preview"}),m.jsxs("button",{onClick:O,disabled:!a.trim(),className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(cq,{className:"w-4 h-4"})," Convert to Line Protocol"]})]}),p&&m.jsx("div",{className:"bg-gray-900 rounded-md border border-gray-700 p-3 max-h-48 overflow-y-auto",children:m.jsxs("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:[p.split(`
`).slice(0,20).join(`
`),p.split(`
`).length>20?`
... (${p.split(`
`).length-20} more lines)`:""]})})]})]})]})}function I0e(){const[t,e]=R.useState([]),[n,r]=R.useState(""),[i,a]=R.useState([]),[s,o]=R.useState(""),[u,f]=R.useState("ns"),[h,p]=R.useState(""),[y,x]=R.useState({kind:"idle"}),[b,j]=R.useState(!1),S=R.useRef(null),N=R.useCallback(()=>{Ne.getDatabases().then(T=>{e(T),T.length>0?r(T[0]):(r(""),a([]),o(""))}).catch(()=>{e([])})},[]);R.useEffect(()=>{N()},[N]),R.useEffect(()=>{const T=()=>{N(),x({kind:"idle"})};return window.addEventListener("timeseriesui-connection-change",T),()=>window.removeEventListener("timeseriesui-connection-change",T)},[N]),R.useEffect(()=>{if(!n){a([]),o("");return}Ne.getRetentionPolicies(n).then(T=>{a(T);const L=T.find(I=>I.default);o(L?.name??T[0]?.name??"")}).catch(()=>{a([]),o("")})},[n]);const O=async()=>{const T=h.trim();if(!(!n||!T)){j(!0),x({kind:"loading"});try{await Ne.write(n,T,u,s||void 0);const L=q1(T);x({kind:"success",points:L})}catch(L){x({kind:"error",message:L?.message??"Unknown error"})}finally{j(!1)}}},C=()=>{S.current?.click()},_=T=>{const L=T.target.files?.[0];if(!L)return;const I=new FileReader;I.onload=q=>{const U=q.target?.result;typeof U=="string"&&(p(U),x({kind:"idle"}))},I.readAsText(L),T.target.value=""},P=()=>{p(""),x({kind:"idle"})},D=!!n&&h.trim().length>0;return m.jsxs("div",{className:"flex flex-col h-full bg-gray-950 text-gray-100 overflow-y-auto",children:[m.jsx("div",{className:"flex items-center gap-3 px-4 py-2 bg-gray-900 border-b border-gray-700 flex-shrink-0",children:m.jsx("span",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Write Data"})}),m.jsx("div",{className:"flex-1 p-6",children:m.jsxs("div",{className:"max-w-4xl mx-auto bg-gray-800 rounded-lg border border-gray-700 p-6 flex flex-col gap-6",children:[m.jsxs("div",{className:"flex flex-wrap items-end gap-4",children:[m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Database"}),m.jsxs("select",{value:n,onChange:T=>{r(T.target.value),x({kind:"idle"})},className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px]",children:[m.jsx("option",{value:"",children:" select database "}),t.map(T=>m.jsx("option",{value:T,children:T},T))]})]}),m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Retention Policy"}),m.jsxs("select",{value:s,onChange:T=>o(T.target.value),disabled:i.length===0,className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[160px] disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("option",{value:"",children:" default "}),i.map(T=>m.jsxs("option",{value:T.name,children:[T.name,T.default?" (default)":""]},T.name))]})]}),m.jsxs("div",{className:"flex flex-col gap-1.5",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Precision"}),m.jsx("select",{value:u,onChange:T=>f(T.target.value),className:"bg-gray-700 border border-gray-600 text-gray-100 rounded-md px-3 py-2 text-sm focus:outline-none focus:border-blue-500 transition-colors duration-150 min-w-[180px]",children:L0e.map(T=>m.jsx("option",{value:T.value,children:T.label},T.value))})]})]}),m.jsxs("div",{className:"flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("label",{className:"text-xs font-medium text-gray-400",children:"Line Protocol Data"}),m.jsxs("span",{className:"text-xs text-gray-500",children:[q1(h)," line",q1(h)!==1?"s":""]})]}),m.jsx("div",{className:"rounded-md overflow-hidden border border-gray-600",children:m.jsx(_N,{value:h,onChange:T=>{p(T),(y.kind==="success"||y.kind==="error")&&x({kind:"idle"})},placeholder:B0e,theme:"dark",height:"300px",style:{height:"300px",fontSize:"13px",backgroundColor:"#1f2937"},basicSetup:{lineNumbers:!0,highlightActiveLineGutter:!0,highlightActiveLine:!0,bracketMatching:!1,autocompletion:!1,indentOnInput:!1}})})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m.jsxs("button",{onClick:O,disabled:!D||b,className:"flex items-center gap-2 bg-blue-600 hover:bg-blue-700 disabled:bg-blue-900 disabled:text-blue-400 disabled:cursor-not-allowed text-white px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(oH,{className:"w-4 h-4"}),"Write Data"]}),m.jsxs("button",{onClick:C,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(fp,{className:"w-4 h-4"}),"Upload File"]}),m.jsx("input",{ref:S,type:"file",accept:".txt,.lp",className:"hidden",onChange:_}),m.jsxs("button",{onClick:P,disabled:b,className:"flex items-center gap-2 bg-gray-700 hover:bg-gray-600 disabled:opacity-50 disabled:cursor-not-allowed text-gray-200 px-4 py-2 rounded-md text-sm font-medium transition-colors duration-150",children:[m.jsx(hi,{className:"w-4 h-4"}),"Clear"]})]}),y.kind!=="idle"&&m.jsxs("div",{className:"flex items-start gap-3 rounded-md px-4 py-3 text-sm border",style:y.kind==="loading"?{backgroundColor:"rgba(55,65,81,0.5)",borderColor:"#4b5563",color:"#d1d5db"}:y.kind==="success"?{backgroundColor:"rgba(5,46,22,0.6)",borderColor:"#15803d",color:"#86efac"}:{backgroundColor:"rgba(69,10,10,0.6)",borderColor:"#b91c1c",color:"#fca5a5"},children:[y.kind==="loading"&&m.jsxs(m.Fragment,{children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin flex-shrink-0 mt-0.5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),m.jsx("span",{children:"Writing data..."})]}),y.kind==="success"&&m.jsxs(m.Fragment,{children:[m.jsx(Mf,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m.jsxs("span",{children:[y.points," point",y.points!==1?"s":""," written successfully"]})]}),y.kind==="error"&&m.jsxs(m.Fragment,{children:[m.jsx(Vg,{className:"w-5 h-5 flex-shrink-0 mt-0.5"}),m.jsx("span",{className:"break-all font-mono text-xs",children:y.message})]})]}),m.jsx(z0e,{onConvert:T=>{p(T),x({kind:"idle"})}})]})})]})}function g3(t){return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",second:"2-digit"})}function H1(t){if(!t)return"";try{return new Date(t).toLocaleString()}catch{return t}}function U0e(t){const e={};if(!t?.results)return e;for(const n of t.results)if(n.series)for(const r of n.series){const i=(r.name??"").toLowerCase();if(i==="system"){const a=r.columns??[],s=r.values??[];if(s.length===0)continue;const o=s[0],u=f=>{const h=a.indexOf(f);return h>=0?String(o[h]??""):""};e.uptime=u("uptime")||u("upTime")||u("currentTime"),e.pid=u("PID")||u("pid")}if(i==="runtime"){const a=r.columns??[],s=r.values??[];if(s.length===0)continue;const o=s[0],u=f=>{const h=a.indexOf(f);return h>=0?String(o[h]??""):""};e.goVersion=u("version")||u("GOOS"),e.os=u("GOOS"),e.arch=u("GOARCH")}if(i==="build"){const a=r.columns??[],s=r.values??[];if(s.length===0)continue;const o=s[0],u=f=>{const h=a.indexOf(f);return h>=0?String(o[h]??""):""};e.version=u("Version")||u("version"),e.goVersion||(e.goVersion=u("GoVersion")||u("goVersion")),e.os||(e.os=u("OS")||u("os")),e.arch||(e.arch=u("Arch")||u("arch"))}}return e}function y3(t,e,n){if(!t?.results)return 0;for(const r of t.results)if(r.series)for(const i of r.series){if((i.name??"").toLowerCase()!==e.toLowerCase())continue;const s=i.columns??[],o=i.values??[],u=s.indexOf(n);if(!(u<0)&&o.length>0)return Number(o[0][u])||0}return 0}function $0e({message:t,onDismiss:e}){return m.jsxs("div",{className:"flex items-start justify-between bg-red-950/60 border border-red-700 rounded-md px-4 py-3 mb-4 text-sm text-red-300",children:[m.jsx("span",{className:"font-mono break-all",children:t}),m.jsx("button",{onClick:e,className:"ml-4 flex-shrink-0 text-red-400 hover:text-red-200 transition-colors duration-150",children:""})]})}function ff({icon:t,label:e,value:n}){return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4 flex flex-col gap-2",children:[m.jsxs("div",{className:"flex items-center gap-2 text-gray-400 text-xs font-semibold uppercase tracking-wider",children:[t,e]}),m.jsx("div",{className:"text-gray-100 text-sm font-mono break-all leading-relaxed",children:n||m.jsx("span",{className:"text-gray-600 italic",children:""})})]})}function x3({active:t,payload:e,label:n}){return!t||!e?.length?null:m.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-md px-3 py-2 text-xs shadow-lg",children:[m.jsx("p",{className:"text-gray-400 mb-1",children:n}),e.map(r=>m.jsxs("p",{style:{color:r.color},children:[r.name,": ",m.jsx("span",{className:"font-mono font-semibold",children:r.value.toLocaleString()})]},r.dataKey))]})}function df({icon:t,title:e,subtitle:n}){return m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx("span",{className:"text-blue-400",children:t}),m.jsx("h2",{className:"text-base font-semibold text-gray-200",children:e}),n&&m.jsx("span",{className:"text-xs text-gray-500",children:n})]})}function v3(t){const e=[];if(!t?.results)return e;for(const n of t.results)for(const r of n.series??[])e.push({name:r.name??"Unknown",columns:r.columns??[],values:r.values??[]});return e}function b3({section:t}){const[e,n]=R.useState(!1);return m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:[m.jsxs("button",{onClick:()=>n(r=>!r),className:"flex items-center justify-between w-full px-4 py-3 text-left hover:bg-gray-750 transition-colors duration-150",children:[m.jsx("span",{className:"text-sm font-semibold text-gray-200",children:t.name}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:[t.columns.length," fields"]}),e?m.jsx(oj,{className:"w-4 h-4 text-gray-400"}):m.jsx(Hi,{className:"w-4 h-4 text-gray-400"})]})]}),e&&t.values.length>0&&m.jsxs("div",{className:"border-t border-gray-700 px-4 py-3",children:[m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:t.columns.map((r,i)=>m.jsxs("div",{className:"flex items-start gap-2",children:[m.jsxs("span",{className:"text-xs text-gray-500 min-w-[120px] font-mono",children:[r,":"]}),m.jsx("span",{className:"text-xs text-gray-200 font-mono break-all",children:String(t.values[0][i]??"")})]},r))}),t.values.length>1&&m.jsx("div",{className:"mt-3 border-t border-gray-700 pt-3",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-xs",children:[m.jsx("thead",{children:m.jsx("tr",{className:"border-b border-gray-700",children:t.columns.map(r=>m.jsx("th",{className:"px-2 py-1 text-left font-semibold text-gray-400 whitespace-nowrap",children:r},r))})}),m.jsx("tbody",{children:t.values.map((r,i)=>m.jsx("tr",{className:"border-b border-gray-700 last:border-0",children:r.map((a,s)=>m.jsx("td",{className:"px-2 py-1 text-gray-300 font-mono whitespace-nowrap",children:String(a??"")},s))},i))})]})})})]})]})}function q0e(){const[t,e]=R.useState({}),[n,r]=R.useState(!0),[i,a]=R.useState([]),[s,o]=R.useState([]),[u,f]=R.useState(null),[h,p]=R.useState([]),[y,x]=R.useState(!0),[b,j]=R.useState(0),S=25,[N,O]=R.useState(null),[C,_]=R.useState(""),[P,D]=R.useState([]),[T,L]=R.useState([]),[I,q]=R.useState(!1),[U,z]=R.useState(!1),[H,X]=R.useState(!1),W=R.useRef(null),V=R.useCallback(async()=>{r(!0);try{const K=await Ne.getDiagnostics(),ue=U0e(K);try{const Q=await Ne.ping();Q.version&&Q.version!=="unknown"&&(ue.version=Q.version)}catch{}e(ue)}catch(K){_(K?.message??"Failed to load diagnostics.")}finally{r(!1)}},[]),Y=R.useCallback(async()=>{try{const K=await Ne.getStats(),ue=y3(K,"httpd","pointsWrittenOK"),Q=y3(K,"httpd","queryReq"),me=W.current,Ce=me?Math.max(0,ue-me.pointsWritten):0,re=me?Math.max(0,Q-me.queriesExecuted):0;W.current={pointsWritten:ue,queriesExecuted:Q};const je=new Date,De={time:g3(je),pointsWritten:Ce,queriesExecuted:re};a(pe=>{const kt=[...pe,De];return kt.length>60?kt.slice(kt.length-60):kt}),O(je)}catch(K){_(K?.message??"Failed to load stats.")}},[]),J=R.useCallback(async()=>{try{const ue=(await Ne.getRunningQueries()).map(Q=>({qid:Q.qid??Q.id??"",database:Q.database??Q.db??"",query:Q.query??"",duration:Q.duration??""}));o(ue)}catch(K){_(K?.message??"Failed to load running queries.")}},[]),oe=R.useCallback(async()=>{x(!0);try{const ue=(await Ne.getShardGroups()).map(Q=>({id:Q.id??Q.shardGroupID??"",database:Q.database??Q.db??"",retentionPolicy:Q.retentionPolicy??Q.rp??Q.retention_policy??"",startTime:Q.startTime??Q.start_time??Q.start??"",endTime:Q.endTime??Q.end_time??Q.end??"",expiryTime:Q.expiryTime??Q.expiry_time??Q.expiry??""}));p(ue)}catch(K){_(K?.message??"Failed to load shard groups.")}finally{x(!1)}},[]),ge=async K=>{f(K);try{await Ne.killQuery(Number(K)),await J()}catch(ue){_(ue?.message??`Failed to kill query ${K}.`)}finally{f(null)}},M=R.useCallback(async()=>{q(!0);try{const K=await Ne.getDiagnostics();D(v3(K))}catch(K){_(K?.message??"Failed to load diagnostics.")}finally{q(!1)}},[]),$=R.useCallback(async()=>{z(!0);try{const K=await Ne.getStats();L(v3(K))}catch(K){_(K?.message??"Failed to load stats.")}finally{z(!1)}},[]),te=async()=>{X(!0);try{const K=await Ne.backup(),ue=URL.createObjectURL(K),Q=document.createElement("a");Q.href=ue,Q.download=`timeseriesui-backup-${new Date().toISOString().replace(/[:.]/g,"-")}.tar.gz`,document.body.appendChild(Q),Q.click(),document.body.removeChild(Q),URL.revokeObjectURL(ue)}catch(K){_(K?.message??"Backup failed.")}finally{X(!1)}};return R.useEffect(()=>{V(),oe()},[V,oe]),R.useEffect(()=>{const K=()=>{W.current=null,a([]),D([]),L([]),_(""),V(),oe()};return window.addEventListener("timeseriesui-connection-change",K),()=>window.removeEventListener("timeseriesui-connection-change",K)},[V,oe]),R.useEffect(()=>{Y(),J();const K=setInterval(()=>{Y(),J()},5e3);return()=>clearInterval(K)},[Y,J]),m.jsxs("div",{className:"min-h-full bg-gray-950 text-gray-100",children:[m.jsxs("div",{className:"border-b border-gray-800 px-6 py-4 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-xl font-bold text-gray-100 flex items-center gap-2",children:[m.jsx(ws,{className:"w-6 h-6 text-blue-400"}),"System Health"]}),m.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Live diagnostics, performance metrics, and active queries."})]}),m.jsx("div",{className:"flex items-center gap-3",children:N&&m.jsxs("span",{className:"text-xs text-gray-500 flex items-center gap-1.5",children:[m.jsx(Nt,{className:"w-3 h-3"}),"Last updated: ",g3(N)]})})]}),m.jsxs("div",{className:"px-6 py-5 flex flex-col gap-8",children:[C&&m.jsx($0e,{message:C,onDismiss:()=>_("")}),m.jsxs("section",{children:[m.jsx(df,{icon:m.jsx(Z1,{className:"w-5 h-5"}),title:"Server Information"}),n?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm py-4",children:[m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading server info..."]}):m.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[m.jsx(ff,{icon:m.jsx(ws,{className:"w-3.5 h-3.5"}),label:"Version",value:t.version&&t.version!=="unknown"?t.version:""}),m.jsx(ff,{icon:m.jsx(ka,{className:"w-3.5 h-3.5"}),label:"Uptime",value:t.uptime??""}),m.jsx(ff,{icon:m.jsx(Eq,{className:"w-3.5 h-3.5"}),label:"Go Version",value:t.goVersion??""}),m.jsx(ff,{icon:m.jsx(Z1,{className:"w-3.5 h-3.5"}),label:"OS / Arch",value:t.os&&t.arch?`${t.os} / ${t.arch}`:t.os??t.arch??""}),m.jsx(ff,{icon:m.jsx(_l,{className:"w-3.5 h-3.5"}),label:"PID",value:t.pid??""})]})]}),m.jsxs("section",{children:[m.jsx(df,{icon:m.jsx(ws,{className:"w-5 h-5"}),title:"Performance Metrics",subtitle:"(auto-refresh every 5s, last 60 samples)"}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Points Written / interval"}),i.length===0?m.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):m.jsx(xc,{width:"100%",height:180,children:m.jsxs(Cc,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[m.jsx(Gl,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Yl,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),m.jsx(Ql,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),m.jsx(Nc,{content:m.jsx(x3,{})}),m.jsx(Kl,{type:"monotone",dataKey:"pointsWritten",name:"Points Written",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#3b82f6"}})]})})]}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[m.jsx("p",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Queries Executed / interval"}),i.length===0?m.jsx("div",{className:"flex items-center justify-center h-40 text-gray-600 text-sm",children:"Collecting data..."}):m.jsx(xc,{width:"100%",height:180,children:m.jsxs(Cc,{data:i,margin:{top:4,right:8,left:0,bottom:0},children:[m.jsx(Gl,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Yl,{dataKey:"time",tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:{stroke:"#374151"},interval:"preserveStartEnd"}),m.jsx(Ql,{tick:{fill:"#9ca3af",fontSize:10},tickLine:!1,axisLine:!1,width:40}),m.jsx(Nc,{content:m.jsx(x3,{})}),m.jsx(Kl,{type:"monotone",dataKey:"queriesExecuted",name:"Queries Executed",stroke:"#22c55e",strokeWidth:2,dot:!1,activeDot:{r:4,fill:"#22c55e"}})]})})]})]})]}),m.jsxs("section",{children:[m.jsx(df,{icon:m.jsx(ws,{className:"w-5 h-5"}),title:"Active Queries",subtitle:"(auto-refresh every 5s)"}),m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:s.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[m.jsx(ws,{className:"w-8 h-8 mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No active queries."})]}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-20",children:"Query ID"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-36",children:"Database"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400",children:"Query"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-32",children:"Duration"}),m.jsx("th",{className:"px-4 py-3 text-right font-semibold text-gray-400 whitespace-nowrap w-24",children:"Actions"})]})}),m.jsx("tbody",{children:s.map(K=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(K.qid)}),m.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:K.database||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 font-mono text-gray-200 text-xs break-all max-w-xs",children:m.jsx("span",{className:"whitespace-pre-wrap leading-relaxed",children:K.query})}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs font-mono whitespace-nowrap",children:K.duration||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 text-right",children:m.jsxs("button",{onClick:()=>ge(K.qid),disabled:u===K.qid,className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs bg-red-600 hover:bg-red-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50 whitespace-nowrap",children:[u===K.qid?m.jsxs("svg",{className:"w-3 h-3 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(Vg,{className:"w-3 h-3"}),"Kill"]})})]},K.qid))})]})})})]}),m.jsxs("section",{children:[m.jsx(df,{icon:m.jsx(_l,{className:"w-5 h-5"}),title:"Shard Groups"}),m.jsx("div",{className:"bg-gray-800 rounded-lg border border-gray-700 overflow-hidden",children:y?m.jsxs("div",{className:"flex items-center gap-2 text-gray-500 text-sm px-4 py-6",children:[m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading shard groups..."]}):h.length===0?m.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-gray-600",children:[m.jsx(_l,{className:"w-8 h-8 mb-3 opacity-30"}),m.jsx("p",{className:"text-sm",children:"No shard groups found."})]}):(()=>{const K=Math.ceil(h.length/S),ue=Math.min(b,K-1),Q=h.slice(ue*S,(ue+1)*S);return m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"min-w-full text-sm",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-gray-800 border-b border-gray-700",children:[m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap w-16",children:"ID"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Database"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Retention Policy"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Start Time"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"End Time"}),m.jsx("th",{className:"px-4 py-3 text-left font-semibold text-gray-400 whitespace-nowrap",children:"Expiry Time"})]})}),m.jsx("tbody",{children:Q.map((me,Ce)=>m.jsxs("tr",{className:"border-b border-gray-700 last:border-0 hover:bg-gray-700/30 transition-colors duration-150",children:[m.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs",children:String(me.id)}),m.jsx("td",{className:"px-4 py-3 font-mono text-blue-300 text-xs whitespace-nowrap",children:me.database||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 font-mono text-gray-300 text-xs whitespace-nowrap",children:me.retentionPolicy||m.jsx("span",{className:"text-gray-600",children:""})}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:H1(me.startTime)}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:H1(me.endTime)}),m.jsx("td",{className:"px-4 py-3 text-gray-400 text-xs whitespace-nowrap",children:H1(me.expiryTime)})]},`${me.id}-${Ce}`))})]})}),K>1&&m.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-t border-gray-700",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:[h.length.toLocaleString()," shard groups  page ",ue+1," of ",K]}),m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx("button",{onClick:()=>j(0),disabled:ue===0,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"First"}),m.jsx("button",{onClick:()=>j(me=>Math.max(0,me-1)),disabled:ue===0,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:m.jsx(yq,{size:14})}),m.jsx("button",{onClick:()=>j(me=>Math.min(K-1,me+1)),disabled:ue>=K-1,className:"p-1 text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:m.jsx(Ds,{size:14})}),m.jsx("button",{onClick:()=>j(K-1),disabled:ue>=K-1,className:"px-2 py-1 text-xs text-gray-400 hover:text-white bg-gray-700 hover:bg-gray-600 rounded disabled:opacity-30 disabled:cursor-not-allowed transition-colors",children:"Last"})]})]})]})})()})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-blue-400",children:m.jsx(Z3,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW DIAGNOSTICS"}),m.jsx("span",{className:"text-xs text-gray-500",children:"(all sections)"})]}),m.jsxs("button",{onClick:M,disabled:I,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[I?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(Nt,{className:"w-4 h-4"}),P.length>0?"Refresh":"Load"]})]}),P.length===0&&!I&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all diagnostic sections.'}),I&&m.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading diagnostics..."]}),P.length>0&&!I&&m.jsx("div",{className:"flex flex-col gap-2",children:P.map(K=>m.jsx(b3,{section:K},K.name))})]}),m.jsxs("section",{children:[m.jsxs("div",{className:"flex items-center justify-between mb-4",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:"text-blue-400",children:m.jsx(ja,{className:"w-5 h-5"})}),m.jsx("h2",{className:"text-base font-semibold text-gray-200",children:"SHOW STATS"}),m.jsx("span",{className:"text-xs text-gray-500",children:"(all modules)"})]}),m.jsxs("button",{onClick:$,disabled:U,className:"flex items-center gap-2 px-3 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[U?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(Nt,{className:"w-4 h-4"}),T.length>0?"Refresh":"Load"]})]}),T.length===0&&!U&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:'Click "Load" to view all stats modules.'}),U&&m.jsxs("div",{className:"flex items-center justify-center py-8 text-gray-500",children:[m.jsxs("svg",{className:"w-5 h-5 animate-spin mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}),"Loading stats..."]}),T.length>0&&!U&&m.jsx("div",{className:"flex flex-col gap-2",children:T.map((K,ue)=>m.jsx(b3,{section:K},`${K.name}-${ue}`))})]}),m.jsxs("section",{children:[m.jsx(df,{icon:m.jsx(gc,{className:"w-5 h-5"}),title:"Backup"}),m.jsxs("div",{className:"bg-gray-800 rounded-lg border border-gray-700 p-4",children:[m.jsx("p",{className:"text-sm text-gray-400 mb-3",children:"Download a portable backup snapshot via the debug endpoint. This creates a tar.gz archive of the current data."}),m.jsxs("button",{onClick:te,disabled:H,className:"flex items-center gap-2 px-4 py-2 text-sm font-semibold bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors duration-150 disabled:opacity-50",children:[H?m.jsxs("svg",{className:"w-4 h-4 animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[m.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),m.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v8H4z"})]}):m.jsx(gc,{className:"w-4 h-4"}),H?"Downloading...":"Download Backup"]})]})]})]})]})}const H0e="timeseriesui_connections",V0e="timeseriesui_active_connection";function w3(){try{const t=localStorage.getItem(V0e);if(!t)return null;const e=localStorage.getItem(H0e);return JSON.parse(e||"[]").find(r=>r.id===t)||null}catch{return null}}function Ar(){const[t,e]=k.useState(w3);k.useEffect(()=>{const r=()=>e(w3());return window.addEventListener("timeseriesui-connection-change",r),()=>window.removeEventListener("timeseriesui-connection-change",r)},[]);const n=t?.username?{username:t.username,password:t.password||""}:void 0;return{connection:t,auth:n}}class F0e{proxyBase=Ui+"/proxy/prometheus/";amProxyBase=Ui+"/proxy/alertmanager/";buildURL(e,n,r,i){const a=new URLSearchParams;if(a.set("target",e),a.set("path",n),r)for(const[s,o]of Object.entries(r))o!==void 0&&o!==""&&a.set(s,o);return(i||this.proxyBase)+"?"+a.toString()}async doFetch(e,n,r){const i=await fetch(e,{...n,headers:{Accept:"application/json",...r,...n?.headers||{}}});if(!i.ok){const a=await i.text();throw new Error(`Request failed (${i.status}): ${a}`)}return i.json()}async instantQuery(e,n,r,i){const a={query:n};r&&(a.time=r);const s=this.buildURL(e,"/api/v1/query",a);return this.doFetch(s,void 0,this.authHeaders(i))}async rangeQuery(e,n,r,i,a,s){const o={query:n,start:r,end:i,step:a},u=this.buildURL(e,"/api/v1/query_range",o);return this.doFetch(u,void 0,this.authHeaders(s))}async getLabels(e,n){const r=this.buildURL(e,"/api/v1/labels");return this.doFetch(r,void 0,this.authHeaders(n))}async getLabelValues(e,n,r){const i=this.buildURL(e,`/api/v1/label/${encodeURIComponent(n)}/values`);return this.doFetch(i,void 0,this.authHeaders(r))}async getMetadata(e,n,r,i){const a={};r&&(a.metric=r),i&&(a.limit=String(i));const s=this.buildURL(e,"/api/v1/metadata",a);return this.doFetch(s,void 0,this.authHeaders(n))}async getSeries(e,n,r){const i=new URLSearchParams;i.set("target",e),i.set("path","/api/v1/series");for(const s of n)i.append("match[]",s);const a=this.proxyBase+"?"+i.toString();return this.doFetch(a,void 0,this.authHeaders(r))}async getTargets(e,n,r){const i={};n&&(i.state=n);const a=this.buildURL(e,"/api/v1/targets",i);return this.doFetch(a,void 0,this.authHeaders(r))}async getRules(e,n,r){const i={};n&&(i.type=n);const a=this.buildURL(e,"/api/v1/rules",i);return this.doFetch(a,void 0,this.authHeaders(r))}async getAlerts(e,n){const r=this.buildURL(e,"/api/v1/alerts");return this.doFetch(r,void 0,this.authHeaders(n))}async getBuildInfo(e,n){const r=this.buildURL(e,"/api/v1/status/buildinfo");return this.doFetch(r,void 0,this.authHeaders(n))}async getRuntimeInfo(e,n){const r=this.buildURL(e,"/api/v1/status/runtimeinfo");return this.doFetch(r,void 0,this.authHeaders(n))}async getTSDBStatus(e,n){const r=this.buildURL(e,"/api/v1/status/tsdb");return this.doFetch(r,void 0,this.authHeaders(n))}async getFlags(e,n){const r=this.buildURL(e,"/api/v1/status/flags");return this.doFetch(r,void 0,this.authHeaders(n))}async getConfig(e,n){const r=this.buildURL(e,"/api/v1/status/config");return this.doFetch(r,void 0,this.authHeaders(n))}async getAMAlerts(e,n){const r=this.buildURL(e,"/api/v2/alerts",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async getAMSilences(e,n){const r=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async createAMSilence(e,n,r){const i=this.buildURL(e,"/api/v2/silences",void 0,this.amProxyBase);return this.doFetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},this.authHeaders(r))}async deleteAMSilence(e,n,r){const i=this.buildURL(e,`/api/v2/silence/${n}`,void 0,this.amProxyBase);await fetch(i,{method:"DELETE",headers:this.authHeaders(r)})}async getAMStatus(e,n){const r=this.buildURL(e,"/api/v2/status",void 0,this.amProxyBase);return this.doFetch(r,void 0,this.authHeaders(n))}async testConnection(e,n){try{return(await this.getBuildInfo(e,n)).status==="success"}catch{return!1}}async testAlertmanager(e,n){try{return await this.getAMStatus(e,n),!0}catch{return!1}}authHeaders(e){const n={};return e?.username&&(n["X-Proxy-Username"]=e.username),e?.password&&(n["X-Proxy-Password"]=e.password),n}}const Rt=new F0e,Fm=["#3b82f6","#ef4444","#22c55e","#f59e0b","#8b5cf6","#ec4899","#06b6d4","#f97316","#14b8a6","#a855f7","#6366f1","#84cc16","#e11d48","#0ea5e9","#d946ef"],S3=[{label:"15m",seconds:900},{label:"1h",seconds:3600},{label:"3h",seconds:10800},{label:"6h",seconds:21600},{label:"12h",seconds:43200},{label:"1d",seconds:86400},{label:"7d",seconds:604800}];function Wm(t){const e=t.__name__||"",n=Object.entries(t).filter(([r])=>r!=="__name__").map(([r,i])=>`${r}="${i}"`).join(", ");return n?`${e}{${n}}`:e}function W0e(t){return t<=3600?"15s":t<=21600?"60s":t<=86400?"300s":"600s"}function j3(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState("up"),[i,a]=R.useState(1),[s,o]=R.useState(null),[u,f]=R.useState([]),[h,p]=R.useState([]),[y,x]=R.useState(!1),[b,j]=R.useState(null),[S,N]=R.useState(null),[O,C]=R.useState("chart"),[_,P]=R.useState(""),[D,T]=R.useState([]),[L,I]=R.useState(""),[q,U]=R.useState(!1),[z,H]=R.useState(()=>{try{return JSON.parse(localStorage.getItem("tsui_prom_history")||"[]")}catch{return[]}}),X=R.useRef(null);R.useEffect(()=>{!t||t.type!=="prometheus"&&t.type!=="victoriametrics"||Rt.getLabelValues(t.url,"__name__",e).then(M=>{M.status==="success"&&T(M.data||[])}).catch(()=>{})},[t,e]);const W=R.useCallback(async()=>{if(!t||!n.trim())return;x(!0),j(null);const M=Date.now();try{const $=S3[i],te=Math.floor(Date.now()/1e3),K=(te-$.seconds).toString(),ue=te.toString(),Q=W0e($.seconds),me=await Rt.rangeQuery(t.url,n.trim(),K,ue,Q,e);if(N(Date.now()-M),P(JSON.stringify(me,null,2)),me.status==="error"){j(me.error||"Query failed");return}if(o(me.data.resultType),me.data.resultType==="matrix")f(me.data.result),p([]);else{const Ce=await Rt.instantQuery(t.url,n.trim(),void 0,e);P(JSON.stringify(Ce,null,2)),Ce.data.resultType==="vector"&&(p(Ce.data.result),f([]),o("vector"))}H(Ce=>{const re=Ce.filter(De=>De!==n.trim()),je=[n.trim(),...re].slice(0,30);return localStorage.setItem("tsui_prom_history",JSON.stringify(je)),je})}catch($){j($.message),N(Date.now()-M)}finally{x(!1)}},[t,n,i,e]),V=M=>{(M.ctrlKey||M.metaKey)&&M.key==="Enter"&&(M.preventDefault(),W())},Y=(()=>{if(s!=="matrix"||u.length===0)return[];const M=new Set;return u.forEach(te=>te.values.forEach(([K])=>M.add(K))),Array.from(M).sort().map(te=>{const K={time:te*1e3};return u.forEach((ue,Q)=>{const me=ue.values.find(([Ce])=>Ce===te);K[`series_${Q}`]=me?parseFloat(me[1]):null}),K})})(),J=L?D.filter(M=>M.toLowerCase().includes(L.toLowerCase())).slice(0,50):D.slice(0,50),ge=t?.type==="victoriametrics"?"MetricsQL":"PromQL";return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus or VictoriaMetrics connection to start querying."})}):m.jsxs("div",{className:"flex h-full",children:[m.jsx("div",{className:`${q?"w-64":"w-0"} flex-shrink-0 border-r border-gray-800 overflow-hidden transition-all`,children:m.jsxs("div",{className:"p-3 space-y-2 h-full flex flex-col",children:[m.jsx("h3",{className:"text-xs font-semibold text-gray-400 uppercase",children:"Metrics"}),m.jsx("input",{type:"text",placeholder:"Search metrics...",value:L,onChange:M=>I(M.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),m.jsxs("div",{className:"flex-1 overflow-y-auto space-y-0.5",children:[J.map(M=>m.jsx("button",{onClick:()=>r(M),className:"block w-full text-left px-2 py-1 text-xs text-gray-300 hover:bg-gray-800 rounded truncate",title:M,children:M},M)),D.length===0&&m.jsx("p",{className:"text-xs text-gray-600 px-2 py-4",children:"No metrics loaded"})]})]})}),m.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[m.jsxs("div",{className:"p-4 border-b border-gray-800 space-y-3",children:[m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:()=>U(M=>!M),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-400 hover:text-white text-xs",title:"Toggle metrics panel",children:q?"Hide":"Metrics"}),m.jsx("textarea",{ref:X,value:n,onChange:M=>r(M.target.value),onKeyDown:V,rows:2,placeholder:`Enter ${ge} query... (Ctrl+Enter to execute)`,className:"flex-1 px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-100 text-sm font-mono placeholder-gray-500 focus:outline-none focus:border-blue-500 resize-none"}),m.jsxs("button",{onClick:W,disabled:y||!n.trim(),className:"px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-sm font-medium transition-colors disabled:opacity-40 flex items-center gap-1.5",children:[m.jsx(zl,{size:14}),y?"Running...":"Execute"]})]}),m.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[m.jsxs("div",{className:"flex items-center gap-1",children:[m.jsx(ka,{size:12,className:"text-gray-500"}),m.jsx("span",{className:"text-xs text-gray-500",children:"Range:"}),S3.map((M,$)=>m.jsx("button",{onClick:()=>a($),className:`px-2 py-0.5 rounded text-xs ${$===i?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:M.label},M.label))]}),m.jsxs("div",{className:"flex items-center gap-1 ml-auto",children:[m.jsx("button",{onClick:()=>C("chart"),className:`p-1.5 rounded ${O==="chart"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Chart",children:m.jsx(ja,{size:14})}),m.jsx("button",{onClick:()=>C("table"),className:`p-1.5 rounded ${O==="table"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Table",children:m.jsx(Kg,{size:14})}),m.jsx("button",{onClick:()=>C("json"),className:`p-1.5 rounded ${O==="json"?"bg-gray-700 text-white":"text-gray-500 hover:text-white"}`,title:"Raw JSON",children:m.jsx(kq,{size:14})})]}),S!==null&&m.jsxs("span",{className:"text-xs text-gray-500",children:[S,"ms"]})]}),z.length>0&&m.jsxs("div",{className:"flex items-center gap-1 flex-wrap",children:[m.jsx("span",{className:"text-xs text-gray-500",children:"History:"}),z.slice(0,8).map((M,$)=>m.jsx("button",{onClick:()=>r(M),className:"px-2 py-0.5 rounded bg-gray-800 text-gray-400 text-xs hover:text-white truncate max-w-48",children:M},$)),m.jsx("button",{onClick:()=>{H([]),localStorage.removeItem("tsui_prom_history")},className:"p-1 text-gray-600 hover:text-red-400",title:"Clear history",children:m.jsx(hi,{size:10})})]})]}),b&&m.jsx("div",{className:"mx-4 mt-3 p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:b}),m.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[O==="chart"&&s==="matrix"&&Y.length>0&&m.jsxs("div",{className:"h-[400px]",children:[m.jsx(xc,{width:"100%",height:"100%",children:m.jsxs(Cc,{data:Y,children:[m.jsx(Gl,{strokeDasharray:"3 3",stroke:"#374151"}),m.jsx(Yl,{dataKey:"time",type:"number",domain:["dataMin","dataMax"],tickFormatter:M=>new Date(M).toLocaleTimeString(),stroke:"#6b7280",fontSize:11}),m.jsx(Ql,{stroke:"#6b7280",fontSize:11}),m.jsx(Nc,{contentStyle:{backgroundColor:"#1f2937",border:"1px solid #374151",borderRadius:6},labelFormatter:M=>new Date(M).toLocaleString(),formatter:M=>[typeof M=="number"?M.toFixed(4):M]}),m.jsx(Sd,{formatter:M=>{const $=parseInt(M.replace("series_",""));return u[$]?Wm(u[$].metric):M},wrapperStyle:{fontSize:11}}),u.slice(0,15).map((M,$)=>m.jsx(Kl,{type:"monotone",dataKey:`series_${$}`,stroke:Fm[$%Fm.length],dot:!1,strokeWidth:1.5,connectNulls:!1},$))]})}),u.length>15&&m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Showing 15 of ",u.length," series on chart. Switch to table view for all."]})]}),O==="table"&&s==="matrix"&&u.length>0&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Series"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Last Value"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Points"})]})}),m.jsx("tbody",{children:u.map((M,$)=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[m.jsxs("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",title:Wm(M.metric),children:[m.jsx("span",{className:"inline-block w-2 h-2 rounded-full mr-2",style:{backgroundColor:Fm[$%Fm.length]}}),Wm(M.metric)]}),m.jsx("td",{className:"p-2 text-gray-200",children:M.values.length>0?M.values[M.values.length-1][1]:"-"}),m.jsx("td",{className:"p-2 text-gray-400",children:M.values.length})]},$))})]})}),O==="table"&&s==="vector"&&h.length>0&&m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Value"}),m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Timestamp"})]})}),m.jsx("tbody",{children:h.map((M,$)=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900",children:[m.jsx("td",{className:"p-2 font-mono text-gray-300 max-w-md truncate",children:Wm(M.metric)}),m.jsx("td",{className:"p-2 text-gray-200",children:M.value[1]}),m.jsx("td",{className:"p-2 text-gray-400",children:new Date(M.value[0]*1e3).toLocaleString()})]},$))})]})}),O==="json"&&_&&m.jsx("pre",{className:"bg-gray-900 rounded p-4 text-xs text-gray-300 font-mono overflow-auto whitespace-pre-wrap border border-gray-800",children:_}),!b&&!y&&!_&&m.jsxs("div",{className:"flex items-center justify-center h-full text-gray-600 text-sm",children:["Enter a ",ge," query and press Execute or Ctrl+Enter"]})]})]})]})}function N3(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState([]),[i,a]=R.useState(!1),[s,o]=R.useState(null),[u,f]=R.useState(""),[h,p]=R.useState("all"),[y,x]=R.useState(new Set),[b,j]=R.useState(0),S=R.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const D=await Rt.getTargets(t.url,"any",e);if(D.status!=="success")throw new Error("Failed to fetch targets");const T=D.data.activeTargets||[],L=new Map;T.forEach(q=>{const U=q.scrapePool||q.labels?.job||"unknown";L.has(U)||L.set(U,[]),L.get(U).push(q)});const I=Array.from(L.entries()).map(([q,U])=>({job:q,targets:U,upCount:U.filter(z=>z.health==="up").length,downCount:U.filter(z=>z.health!=="up").length})).sort((q,U)=>q.job.localeCompare(U.job));r(I),x(new Set(I.map(q=>q.job)))}catch(D){o(D.message)}finally{a(!1)}}},[t,e]);R.useEffect(()=>{S()},[S]),R.useEffect(()=>{if(b<=0)return;const D=setInterval(S,b*1e3);return()=>clearInterval(D)},[b,S]);const N=D=>{x(T=>{const L=new Set(T);return L.has(D)?L.delete(D):L.add(D),L})},O=n.reduce((D,T)=>D+T.upCount,0),C=n.reduce((D,T)=>D+T.downCount,0),_=n.reduce((D,T)=>D+T.targets.length,0),P=n.map(D=>({...D,targets:D.targets.filter(T=>!(h==="up"&&T.health!=="up"||h==="down"&&T.health==="up"||u&&!T.scrapeUrl.toLowerCase().includes(u.toLowerCase())&&!D.job.toLowerCase().includes(u.toLowerCase())))})).filter(D=>D.targets.length>0);return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Scrape Targets"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{value:b,onChange:D=>j(Number(D.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:0,children:"Auto-refresh: Off"}),m.jsx("option",{value:5,children:"5s"}),m.jsx("option",{value:10,children:"10s"}),m.jsx("option",{value:30,children:"30s"})]}),m.jsx("button",{onClick:S,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:i?"animate-spin":""})})]})]}),m.jsxs("div",{className:"flex gap-4 text-sm",children:[m.jsxs("span",{className:"text-gray-400",children:[_," total"]}),m.jsxs("span",{className:"text-green-400",children:[O," up"]}),C>0&&m.jsxs("span",{className:"text-red-400",children:[C," down"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(Rc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Filter targets...",value:u,onChange:D=>f(D.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsx("div",{className:"flex gap-1",children:["all","up","down"].map(D=>m.jsx("button",{onClick:()=>p(D),className:`px-3 py-1 rounded text-xs capitalize ${h===D?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:D},D))})]}),s&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[s,s.includes("unsupported path")&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"The targets API is not available on VictoriaMetrics cluster vmselect. Use vmagent targets directly, or connect to a single-node VM instance."})]}),m.jsx("div",{className:"space-y-3",children:P.map(D=>m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("button",{onClick:()=>N(D.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[y.has(D.job)?m.jsx(Hi,{size:14,className:"text-gray-500"}):m.jsx(Ds,{size:14,className:"text-gray-500"}),m.jsx("span",{className:"text-sm font-medium text-white",children:D.job}),m.jsxs("span",{className:"text-xs text-gray-500",children:["(",D.targets.length,")"]})]}),m.jsxs("div",{className:"flex gap-2 text-xs",children:[m.jsxs("span",{className:"text-green-400",children:[D.upCount," up"]}),D.downCount>0&&m.jsxs("span",{className:"text-red-400",children:[D.downCount," down"]})]})]}),y.has(D.job)&&m.jsx("div",{className:"divide-y divide-gray-800/50",children:D.targets.map((T,L)=>m.jsxs("div",{className:"px-4 py-2.5 flex items-center gap-3 text-xs hover:bg-gray-900/50",children:[m.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${T.health==="up"?"bg-green-500":"bg-red-500"}`}),m.jsx("span",{className:"font-mono text-gray-300 flex-1 truncate",children:T.scrapeUrl}),m.jsxs("span",{className:"text-gray-500",children:[(T.lastScrapeDuration*1e3).toFixed(0),"ms"]}),m.jsx("span",{className:"text-gray-500",children:new Date(T.lastScrape).toLocaleTimeString()}),T.lastError&&m.jsx("span",{className:"text-red-400 truncate max-w-xs",title:T.lastError,children:T.lastError})]},L))})]},D.job))}),!i&&P.length===0&&!s&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:t.type==="victoriametrics"?"No targets found. VictoriaMetrics only shows targets when configured with -promscrape.config.":"No targets found"})]})}const G0e={firing:"bg-red-500",pending:"bg-yellow-500",inactive:"bg-gray-600"},K0e={firing:"text-red-400",pending:"text-yellow-400",inactive:"text-gray-500"};function C3(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState([]),[i,a]=R.useState(!1),[s,o]=R.useState(null),[u,f]=R.useState("all"),[h,p]=R.useState(!1),[y,x]=R.useState(""),[b,j]=R.useState(new Set),S=R.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const L=await Rt.getRules(t.url,void 0,e);if(L.status!=="success")throw new Error("Failed to fetch rules");r(L.data.groups||[]),j(new Set((L.data.groups||[]).map(I=>I.name)))}catch(L){o(L.message)}finally{a(!1)}}},[t,e]);R.useEffect(()=>{S()},[S]);const N=L=>{j(I=>{const q=new Set(I);return q.has(L)?q.delete(L):q.add(L),q})},C=n.flatMap(L=>L.rules).filter(L=>L.type==="alerting"),_=C.filter(L=>L.state==="firing").length,P=C.filter(L=>L.state==="pending").length,D=C.filter(L=>L.state==="inactive").length,T=L=>!(!h&&L.type==="recording"||L.type==="alerting"&&u!=="all"&&L.state!==u||y&&!L.name.toLowerCase().includes(y.toLowerCase()));return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alert Rules"}),m.jsx("button",{onClick:S,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:i?"animate-spin":""})})]}),m.jsxs("div",{className:"flex gap-4 text-sm",children:[m.jsxs("span",{className:"text-gray-400",children:[C.length," rules"]}),_>0&&m.jsxs("span",{className:"text-red-400",children:[_," firing"]}),P>0&&m.jsxs("span",{className:"text-yellow-400",children:[P," pending"]}),m.jsxs("span",{className:"text-gray-500",children:[D," inactive"]})]}),m.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(Rc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search rules...",value:y,onChange:L=>x(L.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsx("div",{className:"flex gap-1",children:["all","firing","pending","inactive"].map(L=>m.jsx("button",{onClick:()=>f(L),className:`px-3 py-1 rounded text-xs capitalize ${u===L?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:L},L))}),m.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[m.jsx("input",{type:"checkbox",checked:h,onChange:L=>p(L.target.checked),className:"rounded border-gray-600"}),"Recording Rules"]})]}),s&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:s}),m.jsx("div",{className:"space-y-3",children:n.map(L=>{const I=L.rules.filter(T);return I.length===0?null:m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("button",{onClick:()=>N(L.name),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[b.has(L.name)?m.jsx(Hi,{size:14,className:"text-gray-500"}):m.jsx(Ds,{size:14,className:"text-gray-500"}),m.jsx("span",{className:"text-sm font-medium text-white",children:L.name}),m.jsx("span",{className:"text-xs text-gray-500",children:L.file})]}),m.jsxs("span",{className:"text-xs text-gray-500",children:[I.length," rules"]})]}),b.has(L.name)&&m.jsx("div",{className:"divide-y divide-gray-800/50",children:I.map((q,U)=>m.jsxs("div",{className:"px-4 py-3 space-y-1.5 hover:bg-gray-900/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[q.state&&m.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${G0e[q.state]||"bg-gray-600"}`}),m.jsx("span",{className:`text-xs font-semibold uppercase ${K0e[q.state||""]||"text-gray-500"}`,children:q.state||q.type}),m.jsx("span",{className:"text-sm font-medium text-white",children:q.name}),q.duration!==void 0&&q.duration>0&&m.jsxs("span",{className:"text-xs text-gray-500",children:["for ",q.duration,"s"]}),q.labels?.severity&&m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${q.labels.severity==="critical"?"bg-red-900/50 text-red-400":q.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:q.labels.severity})]}),m.jsx("pre",{className:"text-xs text-gray-400 font-mono bg-gray-900/50 rounded px-2 py-1 overflow-x-auto",children:q.query}),q.annotations?.summary&&m.jsx("p",{className:"text-xs text-gray-500",children:q.annotations.summary}),q.alerts&&q.alerts.length>0&&m.jsxs("div",{className:"pl-4 mt-1 space-y-1",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:["Firing instances (",q.alerts.length,"):"]}),q.alerts.slice(0,5).map((z,H)=>m.jsxs("div",{className:"text-xs text-gray-400 font-mono pl-2 border-l border-gray-700",children:[Object.entries(z.labels).filter(([X])=>X!=="alertname").map(([X,W])=>`${X}="${W}"`).join(", ")," ","= ",z.value,m.jsxs("span",{className:"text-gray-600 ml-2",children:["since ",new Date(z.activeAt).toLocaleString()]})]},H)),q.alerts.length>5&&m.jsxs("p",{className:"text-xs text-gray-600 pl-2",children:["...and ",q.alerts.length-5," more"]})]})]},U))})]},L.name)})})]})}function k3(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState("alerts"),[i,a]=R.useState([]),[s,o]=R.useState([]),[u,f]=R.useState(null),[h,p]=R.useState(!1),[y,x]=R.useState(null),[b,j]=R.useState(!1),[S,N]=R.useState(""),[O,C]=R.useState(""),[_,P]=R.useState(!1),[D,T]=R.useState("2h"),[L,I]=R.useState(""),[q]=R.useState("timeseriesui"),U=t?.alertmanagerUrl,z=R.useCallback(async()=>{if(U){p(!0),x(null);try{const[W,V,Y]=await Promise.allSettled([Rt.getAMAlerts(U,e),Rt.getAMSilences(U,e),Rt.getAMStatus(U,e)]);W.status==="fulfilled"&&a(W.value||[]),V.status==="fulfilled"&&o((V.value||[]).filter(J=>J.status.state!=="expired")),Y.status==="fulfilled"&&f(Y.value)}catch(W){x(W.message)}finally{p(!1)}}},[U,e]);R.useEffect(()=>{z()},[z]);const H=async()=>{if(!(!U||!S.trim()))try{const W=new Date,V=Y0e(D),Y=new Date(W.getTime()+V);await Rt.createAMSilence(U,{matchers:[{name:S,value:O,isRegex:_,isEqual:!0}],startsAt:W.toISOString(),endsAt:Y.toISOString(),createdBy:q,comment:L||"Created by TimeseriesUI"},e),j(!1),N(""),C(""),I(""),z()}catch(W){x(W.message)}},X=async W=>{if(U)try{await Rt.deleteAMSilence(U,W,e),z()}catch(V){x(V.message)}};return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):U?m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Alertmanager"}),m.jsx("button",{onClick:z,disabled:h,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:h?"animate-spin":""})})]}),m.jsx("div",{className:"flex gap-1 border-b border-gray-800 pb-1",children:["alerts","silences","status"].map(W=>m.jsxs("button",{onClick:()=>r(W),className:`px-4 py-2 rounded-t text-sm capitalize ${n===W?"bg-gray-800 text-white border-b-2 border-blue-500":"text-gray-400 hover:text-white"}`,children:[W,W==="alerts"&&i.length>0&&m.jsx("span",{className:"ml-1.5 px-1.5 py-0.5 rounded-full bg-red-600 text-white text-[10px]",children:i.length})]},W))}),y&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),n==="alerts"&&m.jsxs("div",{className:"space-y-2",children:[i.length===0&&!h&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No firing alerts"}),i.map((W,V)=>m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2 hover:bg-gray-900/50",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${W.labels.severity==="critical"?"bg-red-900/50 text-red-400":W.labels.severity==="warning"?"bg-yellow-900/50 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:W.labels.severity||"info"}),m.jsx("span",{className:"text-sm font-medium text-white",children:W.labels.alertname}),m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${W.status.state==="active"?"bg-red-900/30 text-red-400":W.status.state==="suppressed"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:W.status.state})]}),m.jsx("div",{className:"text-xs text-gray-400 font-mono",children:Object.entries(W.labels).filter(([Y])=>Y!=="alertname"&&Y!=="severity").map(([Y,J])=>m.jsxs("span",{className:"mr-2",children:[Y,'="',J,'"']},Y))}),W.annotations?.description&&m.jsx("p",{className:"text-xs text-gray-500",children:W.annotations.description}),m.jsxs("div",{className:"text-xs text-gray-600",children:["Started: ",new Date(W.startsAt).toLocaleString(),W.status.silencedBy.length>0&&m.jsx("span",{className:"ml-2 text-yellow-500",children:"Silenced"})]})]},V))]}),n==="silences"&&m.jsxs("div",{className:"space-y-3",children:[m.jsxs("button",{onClick:()=>j(W=>!W),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:[m.jsx(Vi,{size:12}),"New Silence"]}),b&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3 bg-gray-900",children:[m.jsx("h3",{className:"text-sm font-medium text-white",children:"Create Silence"}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsx("input",{type:"text",placeholder:"Label name (e.g. alertname)",value:S,onChange:W=>N(W.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),m.jsx("input",{type:"text",placeholder:"Value (e.g. HighCPU)",value:O,onChange:W=>C(W.target.value),className:"px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"flex gap-3 items-center",children:[m.jsxs("label",{className:"flex items-center gap-1 text-xs text-gray-400",children:[m.jsx("input",{type:"checkbox",checked:_,onChange:W=>P(W.target.checked)}),"Regex"]}),m.jsxs("select",{value:D,onChange:W=>T(W.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:"30m",children:"30 minutes"}),m.jsx("option",{value:"1h",children:"1 hour"}),m.jsx("option",{value:"2h",children:"2 hours"}),m.jsx("option",{value:"6h",children:"6 hours"}),m.jsx("option",{value:"24h",children:"24 hours"}),m.jsx("option",{value:"7d",children:"7 days"})]})]}),m.jsx("input",{type:"text",placeholder:"Comment",value:L,onChange:W=>I(W.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:H,className:"px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium",children:"Create"}),m.jsx("button",{onClick:()=>j(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"})]})]}),s.length===0&&!h&&m.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No active silences"}),s.map(W=>m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-2",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`text-xs px-1.5 py-0.5 rounded ${W.status.state==="active"?"bg-yellow-900/30 text-yellow-400":"bg-gray-800 text-gray-400"}`,children:W.status.state}),m.jsxs("span",{className:"text-xs text-gray-400",children:["by ",W.createdBy]})]}),m.jsx("button",{onClick:()=>X(W.id),className:"p-1 text-gray-500 hover:text-red-400 transition-colors",title:"Expire silence",children:m.jsx(hi,{size:12})})]}),m.jsx("div",{className:"text-xs font-mono text-gray-300",children:W.matchers.map((V,Y)=>m.jsxs("span",{className:"mr-2",children:[V.name,V.isRegex?"=~":"=",'"',V.value,'"']},Y))}),W.comment&&m.jsx("p",{className:"text-xs text-gray-500",children:W.comment}),m.jsxs("div",{className:"text-xs text-gray-600",children:["Until: ",new Date(W.endsAt).toLocaleString()]})]},W.id))]}),n==="status"&&u&&m.jsx("div",{className:"space-y-3",children:m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-2",children:"Cluster Status"}),m.jsx("pre",{className:"text-xs text-gray-300 font-mono whitespace-pre-wrap",children:JSON.stringify(u,null,2)})]})})]}):m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"No Alertmanager URL configured for this connection. Edit the connection to add one."})})}function Y0e(t){const e=t.match(/^(\d+)(m|h|d)$/);if(!e)return 36e5;const n=parseInt(e[1]);switch(e[2]){case"m":return n*60*1e3;case"h":return n*3600*1e3;case"d":return n*86400*1e3;default:return 36e5}}function Q0e(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState(null),[i,a]=R.useState(null),[s,o]=R.useState(null),[u,f]=R.useState(null),[h,p]=R.useState(!1),[y,x]=R.useState(null),b=R.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){p(!0),x(null);try{const[N,O,C,_]=await Promise.allSettled([Rt.getTSDBStatus(t.url,e),Rt.getBuildInfo(t.url,e),Rt.getRuntimeInfo(t.url,e),Rt.getFlags(t.url,e)]);N.status==="fulfilled"&&N.value.status==="success"&&r(N.value.data),O.status==="fulfilled"&&O.value.status==="success"&&a(O.value.data),C.status==="fulfilled"&&C.value.status==="success"&&o(C.value.data),_.status==="fulfilled"&&_.value.status==="success"&&f(_.value.data)}catch(N){x(N.message)}finally{p(!1)}}},[t,e]);R.useEffect(()=>{b()},[b]);const j=N=>N.toLocaleString(),S=N=>N?new Date(N).toLocaleString():"-";return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Health"}),m.jsx("button",{onClick:b,disabled:h,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:h?"animate-spin":""})})]}),y&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:y}),i&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Build Info"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx(wr,{label:"Version",value:i.version}),m.jsx(wr,{label:"Go Version",value:i.goVersion}),m.jsx(wr,{label:"Branch",value:i.branch}),m.jsx(wr,{label:"Build Date",value:i.buildDate})]})]}),s&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx(wr,{label:"Start Time",value:new Date(s.startTime).toLocaleString()}),m.jsx(wr,{label:"Goroutines",value:String(s.goroutineCount)}),m.jsx(wr,{label:"GOMAXPROCS",value:String(s.GOMAXPROCS)}),m.jsx(wr,{label:"Storage Retention",value:s.storageRetention})]})]}),n&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"TSDB Head Block"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsx(wr,{label:"Head Series",value:j(n.headStats.numSeries)}),m.jsx(wr,{label:"Head Chunks",value:j(n.headStats.chunkCount)}),m.jsx(wr,{label:"Label Pairs",value:j(n.headStats.numLabelPairs)}),m.jsx(wr,{label:"Min Time",value:S(n.headStats.minTime)}),m.jsx(wr,{label:"Max Time",value:S(n.headStats.maxTime)})]})]}),n.seriesCountByMetricName&&n.seriesCountByMetricName.length>0&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Metrics"}),m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Metric Name"}),m.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),m.jsx("tbody",{children:n.seriesCountByMetricName.slice(0,10).map((N,O)=>m.jsxs("tr",{className:"border-b border-gray-800/50",children:[m.jsx("td",{className:"p-2 font-mono text-gray-300",children:N.name}),m.jsx("td",{className:"p-2 text-right text-gray-200",children:j(N.value)})]},O))})]})]}),n.seriesCountByLabelValuePair&&n.seriesCountByLabelValuePair.length>0&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Top Cardinality Label Pairs"}),m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800",children:[m.jsx("th",{className:"text-left p-2 text-gray-400 font-medium",children:"Label Pair"}),m.jsx("th",{className:"text-right p-2 text-gray-400 font-medium",children:"Series Count"})]})}),m.jsx("tbody",{children:n.seriesCountByLabelValuePair.slice(0,10).map((N,O)=>m.jsxs("tr",{className:"border-b border-gray-800/50",children:[m.jsx("td",{className:"p-2 font-mono text-gray-300",children:N.name}),m.jsx("td",{className:"p-2 text-right text-gray-200",children:j(N.value)})]},O))})]})]})]}),u&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h2",{className:"text-sm font-semibold text-gray-300 mb-3",children:"Runtime Flags"}),m.jsx("div",{className:"space-y-1 max-h-80 overflow-y-auto",children:Object.entries(u).sort(([N],[O])=>N.localeCompare(O)).map(([N,O])=>m.jsxs("div",{className:"flex justify-between gap-4 text-xs py-1 border-b border-gray-800/30",children:[m.jsx("span",{className:"font-mono text-gray-400",children:N}),m.jsx("span",{className:"font-mono text-gray-200 text-right truncate max-w-xs",title:O,children:O||'""'})]},N))})]})]})}function wr({label:t,value:e}){return m.jsxs("div",{children:[m.jsx("p",{className:"text-[10px] text-gray-500 uppercase tracking-wider",children:t}),m.jsx("p",{className:"text-sm text-gray-200 font-medium truncate",title:e,children:e})]})}const O3={counter:"bg-blue-900/50 text-blue-400",gauge:"bg-green-900/50 text-green-400",histogram:"bg-purple-900/50 text-purple-400",summary:"bg-yellow-900/50 text-yellow-400",unknown:"bg-gray-800 text-gray-400",untyped:"bg-gray-800 text-gray-400"};function A3(){const{connection:t,auth:e}=Ar(),n=pd(),[r,i]=R.useState([]),[a,s]=R.useState(!1),[o,u]=R.useState(null),[f,h]=R.useState(""),[p,y]=R.useState("all"),x=R.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){s(!0),u(null);try{const N=await Rt.getMetadata(t.url,e);if(N.status!=="success")throw new Error("Failed to fetch metadata");const O=[];for(const[C,_]of Object.entries(N.data)){const P=_[0];O.push({name:C,type:P?.type||"unknown",help:P?.help||"",unit:P?.unit||""})}O.sort((C,_)=>C.name.localeCompare(_.name)),i(O)}catch(N){u(N.message)}finally{s(!1)}}},[t,e]);R.useEffect(()=>{x()},[x]);const b=["all",...new Set(r.map(N=>N.type))],j=r.filter(N=>!(p!=="all"&&N.type!==p||f&&!N.name.toLowerCase().includes(f.toLowerCase())&&!N.help.toLowerCase().includes(f.toLowerCase()))),S=N=>{n("/prometheus/query"),sessionStorage.setItem("tsui_prom_query_prefill",N)};return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Metric Explorer"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("span",{className:"text-xs text-gray-500",children:[j.length," of ",r.length," metrics"]}),m.jsx("button",{onClick:x,disabled:a,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:a?"animate-spin":""})})]})]}),m.jsxs("div",{className:"flex gap-2 items-center flex-wrap",children:[m.jsxs("div",{className:"relative flex-1 max-w-sm",children:[m.jsx(Rc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search metrics...",value:f,onChange:N=>h(N.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsx("div",{className:"flex gap-1",children:b.map(N=>m.jsx("button",{onClick:()=>y(N),className:`px-3 py-1 rounded text-xs capitalize ${p===N?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:N},N))})]}),o&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:o}),m.jsxs("div",{className:"space-y-2",children:[j.slice(0,200).map(N=>m.jsxs("div",{className:"rounded-lg border border-gray-800 p-3 hover:bg-gray-900/50 transition-colors",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"font-mono text-sm text-gray-200 font-medium",children:N.name}),m.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded ${O3[N.type]||O3.unknown}`,children:N.type}),N.unit&&m.jsxs("span",{className:"text-[10px] text-gray-500",children:["(",N.unit,")"]})]}),N.help&&m.jsx("p",{className:"text-xs text-gray-500 mb-2",children:N.help}),m.jsxs("button",{onClick:()=>S(N.name),className:"flex items-center gap-1 text-xs text-blue-400 hover:text-blue-300 transition-colors",children:[m.jsx(X3,{size:10}),"Query"]})]},N.name)),j.length>200&&m.jsxs("p",{className:"text-xs text-gray-500 text-center py-2",children:["Showing 200 of ",j.length," metrics. Use search to narrow results."]})]}),!a&&j.length===0&&!o&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No metrics found"})]})}function E3(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState(""),[i,a]=R.useState(!1),[s,o]=R.useState(null),[u,f]=R.useState(!1),[h,p]=R.useState(""),y=R.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const S=await Rt.getConfig(t.url,e);if(S.status!=="success")throw new Error("Failed to fetch config");r(S.data.yaml||"")}catch(S){o(S.message)}finally{a(!1)}}},[t,e]);R.useEffect(()=>{y()},[y]);const x=async()=>{await navigator.clipboard.writeText(n),f(!0),setTimeout(()=>f(!1),2e3)},b=n.split(`
`),j=h?b.map((S,N)=>({line:S,num:N+1,match:S.toLowerCase().includes(h.toLowerCase())})):b.map((S,N)=>({line:S,num:N+1,match:!1}));return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:t.type==="victoriametrics"?"Runtime Flags":"Running Config"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:x,disabled:!n,className:"flex items-center gap-1 px-3 py-1.5 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 text-xs transition-colors",children:[u?m.jsx(Q3,{size:12,className:"text-green-400"}):m.jsx(K1,{size:12}),u?"Copied":"Copy"]}),m.jsx("button",{onClick:y,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:i?"animate-spin":""})})]})]}),s&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[s,s.includes("unsupported path")&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"The config API is not available on VictoriaMetrics cluster vmselect. Connect to a single-node VM instance, or check VM command-line flags on the TSDB Status page instead."})]}),m.jsxs("div",{className:"relative max-w-xs",children:[m.jsx(Rc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search in config...",value:h,onChange:S=>p(S.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),n&&m.jsx("div",{className:"rounded-lg border border-gray-800 overflow-auto max-h-[calc(100vh-250px)]",children:m.jsx("pre",{className:"p-4 text-xs font-mono leading-relaxed",children:j.map(S=>m.jsxs("div",{className:`flex ${S.match?"bg-yellow-900/20":""}`,children:[m.jsx("span",{className:"text-gray-600 select-none w-10 text-right pr-3 flex-shrink-0",children:S.num}),m.jsx("span",{className:"text-gray-300 whitespace-pre",children:S.line})]},S.num))})}),!n&&!i&&!s&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No config loaded"})]})}function T3(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState([]),[i,a]=R.useState(!1),[s,o]=R.useState(null),[u,f]=R.useState(""),[h,p]=R.useState(new Set),[y,x]=R.useState(!1),b=R.useCallback(async()=>{if(!(!t||t.type!=="prometheus"&&t.type!=="victoriametrics")){a(!0),o(null);try{const C=await Rt.getTargets(t.url,"any",e);if(C.status!=="success")throw new Error("Failed to fetch targets");const _=C.data.activeTargets||[],P=C.data.droppedTargets||[],D=new Map;_.forEach(L=>{const I=L.scrapePool||L.labels?.job||"unknown";D.has(I)||D.set(I,{job:I,activeTargets:[],droppedTargets:[]}),D.get(I).activeTargets.push(L)}),P.forEach(L=>{const I=L.discoveredLabels?.__job_name__||L.discoveredLabels?.job||"dropped";D.has(I)||D.set(I,{job:I,activeTargets:[],droppedTargets:[]}),D.get(I).droppedTargets.push(L)});const T=Array.from(D.values()).sort((L,I)=>L.job.localeCompare(I.job));r(T),p(new Set(T.map(L=>L.job)))}catch(C){o(C.message)}finally{a(!1)}}},[t,e]);R.useEffect(()=>{b()},[b]);const j=C=>{p(_=>{const P=new Set(_);return P.has(C)?P.delete(C):P.add(C),P})},S=n.reduce((C,_)=>C+_.activeTargets.length,0),N=n.reduce((C,_)=>C+_.droppedTargets.length,0),O=u?n.filter(C=>C.job.toLowerCase().includes(u.toLowerCase())||C.activeTargets.some(_=>_.scrapeUrl.toLowerCase().includes(u.toLowerCase()))):n;return!t||t.type!=="prometheus"&&t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a Prometheus connection."})}):m.jsxs("div",{className:"p-6 space-y-4 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Service Discovery"}),m.jsx("button",{onClick:b,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:i?"animate-spin":""})})]}),m.jsxs("div",{className:"flex gap-4 text-sm",children:[m.jsxs("span",{className:"text-gray-400",children:[S," active targets"]}),m.jsxs("span",{className:"text-gray-500",children:[N," dropped"]})]}),m.jsxs("div",{className:"flex gap-2 items-center",children:[m.jsxs("div",{className:"relative flex-1 max-w-xs",children:[m.jsx(Rc,{size:14,className:"absolute left-2.5 top-2 text-gray-500"}),m.jsx("input",{type:"text",placeholder:"Search jobs or targets...",value:u,onChange:C=>f(C.target.value),className:"w-full pl-8 pr-3 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-500 focus:outline-none focus:border-blue-500"})]}),m.jsxs("label",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[m.jsx("input",{type:"checkbox",checked:y,onChange:C=>x(C.target.checked),className:"rounded border-gray-600"}),"Show Dropped"]})]}),s&&m.jsx("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:s}),m.jsx("div",{className:"space-y-3",children:O.map(C=>m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsx("button",{onClick:()=>j(C.job),className:"w-full flex items-center justify-between px-4 py-3 bg-gray-900 hover:bg-gray-800/70 transition-colors text-left",children:m.jsxs("div",{className:"flex items-center gap-2",children:[h.has(C.job)?m.jsx(Hi,{size:14,className:"text-gray-500"}):m.jsx(Ds,{size:14,className:"text-gray-500"}),m.jsx("span",{className:"text-sm font-medium text-white",children:C.job}),m.jsxs("span",{className:"text-xs text-gray-500",children:[C.activeTargets.length," active",C.droppedTargets.length>0&&`, ${C.droppedTargets.length} dropped`]})]})}),h.has(C.job)&&m.jsxs("div",{className:"divide-y divide-gray-800/50",children:[C.activeTargets.map((_,P)=>m.jsxs("div",{className:"px-4 py-3 space-y-2",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("span",{className:`w-2 h-2 rounded-full flex-shrink-0 ${_.health==="up"?"bg-green-500":"bg-red-500"}`}),m.jsx("span",{className:"font-mono text-xs text-gray-300",children:_.scrapeUrl})]}),m.jsxs("div",{className:"pl-4 grid grid-cols-2 gap-x-6 gap-y-1",children:[m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Discovered Labels"}),m.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(_.discoveredLabels||{}).map(([D,T])=>m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-500",children:[D,"="]}),'"',T,'"']},D))})]}),m.jsxs("div",{children:[m.jsx("span",{className:"text-[10px] text-gray-500 uppercase block",children:"Target Labels"}),m.jsx("div",{className:"text-xs font-mono text-gray-400 space-y-0.5",children:Object.entries(_.labels||{}).map(([D,T])=>m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-500",children:[D,"="]}),'"',T,'"']},D))})]})]})]},P)),y&&C.droppedTargets.map((_,P)=>m.jsxs("div",{className:"px-4 py-3 opacity-60",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[m.jsx("span",{className:"w-2 h-2 rounded-full flex-shrink-0 bg-gray-600"}),m.jsx("span",{className:"text-xs text-gray-500 font-medium",children:"DROPPED"})]}),m.jsx("div",{className:"pl-4 text-xs font-mono text-gray-500 space-y-0.5",children:Object.entries(_.discoveredLabels||{}).map(([D,T])=>m.jsxs("div",{children:[m.jsxs("span",{className:"text-gray-600",children:[D,"="]}),'"',T,'"']},D))})]},`dropped-${P}`))]})]},C.job))}),!i&&O.length===0&&!s&&m.jsx("div",{className:"text-center py-12 text-gray-500 text-sm",children:"No targets found"})]})}const X0e=Ui+"/proxy/victoriametrics/";function Er(t,e,n){const r=new URLSearchParams;if(r.set("target",t),r.set("path",e),n)for(const[i,a]of Object.entries(n))a!==void 0&&a!==""&&r.set(i,a);return X0e+"?"+r.toString()}function Zc(t){const e={};return t?.username&&(e["X-Proxy-Username"]=t.username),t?.password&&(e["X-Proxy-Password"]=t.password),e}async function Ys(t,e,n){const r=await fetch(t,{...e,headers:{Accept:"application/json",...Zc(n)}});if(!r.ok){const i=await r.text();throw new Error(`Request failed (${r.status}): ${i}`)}return r.json()}async function Z0e(t,e){const n=Er(t,"/api/v1/status/active_queries");return(await Ys(n,void 0,e)).data||[]}async function J0e(t,e=20,n="30m",r){const i=Er(t,"/api/v1/status/top_queries",{topN:String(e),maxLifetime:n});return(await Ys(i,void 0,r)).data||{topByCount:[],topByAvgDuration:[],topBySumDuration:[]}}async function m7(t,e){const n=Er(t,"/api/v1/series/count");return(await Ys(n,void 0,e)).data?.[0]??0}async function eye(t,e,n){const r={};e.topN&&(r.topN=String(e.topN)),e.focusLabel&&(r.focusLabel=e.focusLabel),e.date&&(r.date=e.date),e.match&&(r["match[]"]=e.match);const i=Er(t,"/api/v1/status/tsdb",r);return(await Ys(i,void 0,n)).data||{seriesCountByMetricName:[],seriesCountByLabelName:[],seriesCountByFocusLabelValue:[],seriesCountByLabelValuePair:[],labelValueCountByLabelName:[]}}async function tye(t,e){const n=Er(t,"/snapshot/list");return(await Ys(n,void 0,e)).snapshots||[]}async function nye(t,e){const n=Er(t,"/snapshot/create");return(await Ys(n,void 0,e)).snapshot||""}async function rye(t,e,n){const r=Er(t,"/snapshot/delete",{snapshot:e});await Ys(r,void 0,n)}async function iye(t,e){const n=Er(t,"/snapshot/delete_all");await Ys(n,void 0,e)}async function aye(t,e,n){const r=Er(t,"/internal/force_merge",{partition_prefix:e});await fetch(r,{headers:Zc(n)})}async function sye(t,e){const n=Er(t,"/internal/resetRollupResultCache");await fetch(n,{headers:Zc(e)})}async function lye(t,e,n){const r=Er(t,"/api/v1/admin/tsdb/delete_series",{"match[]":e});await fetch(r,{method:"POST",headers:Zc(n)})}async function M3(t,e,n){const r={json:"/api/v1/export",csv:"/api/v1/export/csv",native:"/api/v1/export/native"},i={"match[]":e.match};e.start&&(i.start=e.start),e.end&&(i.end=e.end),e.csvFormat&&(i.format=e.csvFormat);const a=Er(t,r[e.format],i);return(await fetch(a,{headers:Zc(n)})).text()}async function oye(t,e,n){const r={json:"/api/v1/import",csv:"/api/v1/import/csv",native:"/api/v1/import/native",prometheus:"/api/v1/import/prometheus"},i={};e.csvFormat&&(i.format=e.csvFormat);const a=Er(t,r[e.format],i);await fetch(a,{method:"POST",body:e.body,headers:Zc(n)})}function cye(){const{connection:t,auth:e}=Ar(),n=pd(),[r,i]=R.useState([]),[a,s]=R.useState([]),[o,u]=R.useState([]),[f,h]=R.useState([]),[p,y]=R.useState(!1),[x,b]=R.useState(null),[j,S]=R.useState("count"),[N,O]=R.useState(20),[C,_]=R.useState("30m"),[P,D]=R.useState(2),[T,L]=R.useState(null),I=R.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){y(!0),b(null);try{const[H,X]=await Promise.all([Z0e(t.url,e),J0e(t.url,N,C,e)]);i(H),s(X.topByCount||[]),u(X.topByAvgDuration||[]),h(X.topBySumDuration||[])}catch(H){b(H.message)}finally{y(!1)}}},[t,e,N,C]);R.useEffect(()=>{I()},[I]),R.useEffect(()=>{if(P<=0)return;const H=setInterval(I,P*1e3);return()=>clearInterval(H)},[P,I]);const q=H=>{navigator.clipboard.writeText(H),L(H),setTimeout(()=>L(null),1500)},U=H=>{sessionStorage.setItem("tsui_prom_query_prefill",H),n("/victoriametrics/query")},z=j==="count"?a:j==="avgDuration"?o:f;return!t||t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Active & Top Queries"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{value:P,onChange:H=>D(Number(H.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:0,children:"Auto-refresh: Off"}),m.jsx("option",{value:2,children:"2s"}),m.jsx("option",{value:5,children:"5s"}),m.jsx("option",{value:10,children:"10s"})]}),m.jsx("button",{onClick:I,disabled:p,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:p?"animate-spin":""})})]})]}),x&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[x,x.includes("unsupported path")&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Active/top queries may not be available on VM cluster vmselect. This works on single-node VictoriaMetrics."})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsx("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between",children:m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(ka,{size:14,className:"text-blue-400"}),"Active Queries",m.jsxs("span",{className:"text-xs text-gray-500",children:["(",r.length," running)"]})]})}),r.length>0?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium",children:"Query"}),m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-24",children:"Duration"}),m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-36",children:"Client"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Actions"})]})}),m.jsx("tbody",{children:r.map(H=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900/50",children:[m.jsx("td",{className:"p-3 font-mono text-gray-300 max-w-lg truncate",title:H.query,children:H.query}),m.jsx("td",{className:"p-3 text-gray-400",children:H.duration}),m.jsx("td",{className:"p-3 text-gray-500",children:H.remote_addr}),m.jsxs("td",{className:"p-3 text-right",children:[m.jsx("button",{onClick:()=>q(H.query),className:"p-1 text-gray-500 hover:text-white",title:"Copy",children:m.jsx(K1,{size:12})}),m.jsx("button",{onClick:()=>U(H.query),className:"p-1 text-gray-500 hover:text-blue-400 ml-1",title:"Run in Explorer",children:m.jsx(zl,{size:12})})]})]},H.id))})]})}):m.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No queries currently executing"})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800",children:[m.jsxs("div",{className:"flex items-center justify-between mb-3",children:[m.jsx("h2",{className:"text-sm font-medium text-white",children:"Top Queries"}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("label",{className:"text-xs text-gray-500",children:"Top N:"}),m.jsxs("select",{value:N,onChange:H=>O(Number(H.target.value)),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:20,children:"20"}),m.jsx("option",{value:50,children:"50"})]}),m.jsx("label",{className:"text-xs text-gray-500",children:"Lifetime:"}),m.jsxs("select",{value:C,onChange:H=>_(H.target.value),className:"px-2 py-1 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:"5m",children:"5m"}),m.jsx("option",{value:"15m",children:"15m"}),m.jsx("option",{value:"30m",children:"30m"}),m.jsx("option",{value:"1h",children:"1h"}),m.jsx("option",{value:"6h",children:"6h"})]})]})]}),m.jsx("div",{className:"flex gap-1",children:[["count","By Count"],["avgDuration","By Avg Duration"],["sumDuration","By Total Duration"]].map(([H,X])=>m.jsx("button",{onClick:()=>S(H),className:`px-3 py-1.5 rounded text-xs font-medium transition-colors ${j===H?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:X},H))})]}),z.length>0?m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-xs",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"border-b border-gray-800 bg-gray-900/50",children:[m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium w-10",children:"#"}),m.jsx("th",{className:"text-left p-3 text-gray-400 font-medium",children:"Query"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Count"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-24",children:"Avg Duration"}),m.jsx("th",{className:"text-right p-3 text-gray-400 font-medium w-20",children:"Actions"})]})}),m.jsx("tbody",{children:z.map((H,X)=>m.jsxs("tr",{className:"border-b border-gray-800/50 hover:bg-gray-900/50",children:[m.jsx("td",{className:"p-3 text-gray-500",children:X+1}),m.jsx("td",{className:"p-3 font-mono text-gray-300 max-w-lg truncate",title:H.query,children:H.query}),m.jsx("td",{className:"p-3 text-right text-gray-400",children:H.count.toLocaleString()}),m.jsxs("td",{className:"p-3 text-right text-gray-400",children:[H.avgDurationSeconds.toFixed(3),"s"]}),m.jsxs("td",{className:"p-3 text-right",children:[m.jsx("button",{onClick:()=>q(H.query),className:"p-1 text-gray-500 hover:text-white",title:T===H.query?"Copied!":"Copy query",children:m.jsx(K1,{size:12})}),m.jsx("button",{onClick:()=>U(H.query),className:"p-1 text-gray-500 hover:text-blue-400 ml-1",title:"Run in Explorer",children:m.jsx(zl,{size:12})})]})]},X))})]})}):m.jsx("div",{className:"p-6 text-center text-gray-500 text-sm",children:"No top query data available"})]})]})}function nj(t){return t.toLocaleString()}function Gm({name:t,value:e,max:n}){const r=n>0?e/n*100:0;return m.jsxs("div",{className:"flex items-center gap-3 py-1.5",children:[m.jsx("span",{className:"text-xs text-gray-300 font-mono flex-1 truncate",title:t,children:t}),m.jsx("div",{className:"w-48 flex-shrink-0",children:m.jsx("div",{className:"h-4 bg-gray-800 rounded overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-600 rounded",style:{width:`${r}%`}})})}),m.jsx("span",{className:"text-xs text-gray-400 w-20 text-right flex-shrink-0",children:nj(e)})]})}function uye(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState(null),[i,a]=R.useState(null),[s,o]=R.useState(null),[u,f]=R.useState(null),[h,p]=R.useState(null),[y,x]=R.useState(!1),[b,j]=R.useState(null),[S,N]=R.useState(10),[O,C]=R.useState(""),[_,P]=R.useState(""),[D,T]=R.useState(""),L=R.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){x(!0),j(null);try{const[H,X,W,V,Y]=await Promise.all([eye(t.url,{topN:S,focusLabel:O||void 0,date:_||void 0,match:D||void 0},e),m7(t.url,e),Rt.getBuildInfo(t.url,e).catch(()=>null),Rt.getRuntimeInfo(t.url,e).catch(()=>null),Rt.getFlags(t.url,e).catch(()=>null)]);r(H),a(X),W?.status==="success"&&o(W.data),V?.status==="success"&&f(V.data),Y?.status==="success"&&p(Y.data)}catch(H){j(H.message)}finally{x(!1)}}},[t,e,S,O,_,D]);if(R.useEffect(()=>{L()},[L]),!t||t.type!=="victoriametrics")return m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})});const I=n?.seriesCountByMetricName?.[0]?.value||1,q=n?.seriesCountByLabelName?.[0]?.value||1,U=n?.seriesCountByLabelValuePair?.[0]?.value||1,z=n?.seriesCountByFocusLabelValue?.[0]?.value||1;return m.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"TSDB Status & Cardinality"}),i!==null&&m.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["Total Series: ",m.jsx("span",{className:"text-white font-medium",children:nj(i)}),n?.totalSeriesPrev!=null&&n.totalSeriesPrev>0&&m.jsxs("span",{className:"ml-2 text-xs text-gray-500",children:["(",i>=n.totalSeriesPrev?"+":"",nj(i-n.totalSeriesPrev)," vs previous)"]})]})]}),m.jsx("button",{onClick:L,disabled:y,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:y?"animate-spin":""})})]}),b&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[b,b.includes("unsupported path")&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Some TSDB status features may not be available on VM cluster vmselect."})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 bg-gray-900/50",children:[m.jsxs("h3",{className:"text-xs font-semibold text-gray-400 uppercase mb-3 flex items-center gap-1.5",children:[m.jsx(ja,{size:12})," Filters"]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Date (YYYYMMDD)"}),m.jsx("input",{type:"text",placeholder:"e.g. 20260219",value:_,onChange:H=>P(H.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Top N"}),m.jsxs("select",{value:S,onChange:H=>N(Number(H.target.value)),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-300 text-xs",children:[m.jsx("option",{value:5,children:"5"}),m.jsx("option",{value:10,children:"10"}),m.jsx("option",{value:20,children:"20"}),m.jsx("option",{value:50,children:"50"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Focus Label"}),m.jsx("input",{type:"text",placeholder:"e.g. instance",value:O,onChange:H=>C(H.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Match Filter"}),m.jsx("input",{type:"text",placeholder:'e.g. {job="node"}',value:D,onChange:H=>T(H.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]})]}),m.jsx("button",{onClick:L,className:"mt-3 px-4 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors",children:"Apply Filters"})]}),n&&m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Metrics by Series Count"}),m.jsxs("div",{className:"space-y-0.5",children:[(n.seriesCountByMetricName||[]).map(H=>m.jsx(Gm,{name:H.name,value:H.value,max:I},H.name)),(!n.seriesCountByMetricName||n.seriesCountByMetricName.length===0)&&m.jsx("p",{className:"text-xs text-gray-500",children:"No data"})]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Labels by Series Count"}),m.jsx("div",{className:"space-y-0.5",children:(n.seriesCountByLabelName||[]).map(H=>m.jsx(Gm,{name:H.name,value:H.value,max:q},H.name))})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Top Label Value Pairs"}),m.jsx("div",{className:"space-y-0.5",children:(n.seriesCountByLabelValuePair||[]).map(H=>m.jsx(Gm,{name:H.name,value:H.value,max:U},H.name))})]})]}),O&&n.seriesCountByFocusLabelValue&&n.seriesCountByFocusLabelValue.length>0&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsxs("h3",{className:"text-sm font-medium text-white mb-3",children:["Focus Label Values (",O,")"]}),m.jsx("div",{className:"space-y-0.5",children:n.seriesCountByFocusLabelValue.map(H=>m.jsx(Gm,{name:H.name,value:H.value,max:z},H.name))})]})]}),(s||u||h)&&m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4",children:[m.jsx("h3",{className:"text-sm font-medium text-white mb-3",children:"Runtime Info"}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-xs",children:[s?.version&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Version:"})," ",m.jsx("span",{className:"text-gray-200",children:s.version})]}),s?.goVersion&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Go:"})," ",m.jsx("span",{className:"text-gray-200",children:s.goVersion})]}),u?.storageRetention&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Retention:"})," ",m.jsx("span",{className:"text-gray-200",children:u.storageRetention})]}),u?.startTime&&m.jsxs("div",{children:[m.jsx("span",{className:"text-gray-500",children:"Started:"})," ",m.jsx("span",{className:"text-gray-200",children:new Date(u.startTime).toLocaleString()})]})]}),h&&Object.keys(h).length>0&&m.jsxs("details",{className:"mt-3",children:[m.jsxs("summary",{className:"text-xs text-gray-400 cursor-pointer hover:text-white",children:["Startup Flags (",Object.keys(h).length,")"]}),m.jsx("div",{className:"mt-2 max-h-48 overflow-auto",children:m.jsx("table",{className:"w-full text-xs",children:m.jsx("tbody",{children:Object.entries(h).map(([H,X])=>m.jsxs("tr",{className:"border-b border-gray-800/30",children:[m.jsx("td",{className:"py-1 pr-3 text-gray-400 font-mono",children:H}),m.jsx("td",{className:"py-1 text-gray-300 font-mono",children:X})]},H))})})})]})]})]})}function fye(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState([]),[i,a]=R.useState(!1),[s,o]=R.useState(null),[u,f]=R.useState(!1),[h,p]=R.useState(null),[y,x]=R.useState(!1),[b,j]=R.useState(null),S=R.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics")){a(!0),o(null);try{const _=await tye(t.url,e);r(_)}catch(_){o(_.message)}finally{a(!1)}}},[t,e]);R.useEffect(()=>{S()},[S]);const N=async()=>{if(t){f(!0),o(null);try{const _=await nye(t.url,e);j(_),await S()}catch(_){o(_.message)}finally{f(!1)}}},O=async _=>{if(t){p(_);try{await rye(t.url,_,e),await S()}catch(P){o(P.message)}finally{p(null)}}},C=async()=>{if(t){x(!1),a(!0);try{await iye(t.url,e),await S()}catch(_){o(_.message)}finally{a(!1)}}};return!t||t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsxs("h1",{className:"text-lg font-semibold text-white flex items-center gap-2",children:[m.jsx(lj,{size:18,className:"text-blue-400"}),"Snapshots"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("button",{onClick:N,disabled:u,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Vi,{size:12}),u?"Creating...":"Create Snapshot"]}),m.jsx("button",{onClick:S,disabled:i,className:"p-2 rounded bg-gray-800 hover:bg-gray-700 text-gray-300 transition-colors",children:m.jsx(Nt,{size:14,className:i?"animate-spin":""})})]})]}),s&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[s,s.includes("unsupported path")&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Snapshots are only available on single-node VictoriaMetrics. In cluster mode, snapshots must be managed on vmstorage nodes directly."})]}),b&&m.jsxs("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:["Snapshot created: ",m.jsx("code",{className:"font-mono text-green-200",children:b})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsxs("div",{className:"px-4 py-3 bg-gray-900 border-b border-gray-800 flex items-center justify-between",children:[m.jsxs("h2",{className:"text-sm font-medium text-white",children:["Existing Snapshots ",m.jsxs("span",{className:"text-gray-500",children:["(",n.length,")"]})]}),n.length>1&&m.jsxs("button",{onClick:()=>x(!0),className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-red-400 hover:bg-red-900/20 transition-colors",children:[m.jsx(hi,{size:10}),"Delete All"]})]}),n.length>0?m.jsx("div",{className:"divide-y divide-gray-800/50",children:n.map(_=>m.jsxs("div",{className:"px-4 py-3 flex items-center justify-between hover:bg-gray-900/50",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-sm font-mono text-gray-200",children:_}),m.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:["Path: <storageDataPath>/snapshots/",_]})]}),m.jsxs("button",{onClick:()=>O(_),disabled:h===_,className:"flex items-center gap-1 px-2 py-1 rounded text-xs text-red-400 hover:bg-red-900/20 transition-colors disabled:opacity-40",children:[m.jsx(hi,{size:10}),h===_?"Deleting...":"Delete"]})]},_))}):m.jsx("div",{className:"p-8 text-center text-gray-500 text-sm",children:"No snapshots found"})]}),y&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(ac,{size:20,className:"text-red-400"}),m.jsx("h3",{className:"text-sm font-semibold text-white",children:"Delete All Snapshots?"})]}),m.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["This will permanently delete all ",n.length," snapshots. This action cannot be undone."]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>x(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),m.jsx("button",{onClick:C,className:"px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium",children:"Delete All"})]})]})}),m.jsx("div",{className:"rounded-lg border border-gray-800 p-4 bg-gray-900/30",children:m.jsxs("p",{className:"text-xs text-gray-500",children:["Snapshots are created in ",m.jsx("code",{className:"text-gray-400",children:"<storageDataPath>/snapshots/"}),". Use ",m.jsx("code",{className:"text-gray-400",children:"vmbackup"})," to archive snapshots to S3/GCS. Snapshots must be deleted via this API, not with ",m.jsx("code",{className:"text-gray-400",children:"rm -rf"}),"."]})})]})}function dye(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState("export"),[i,a]=R.useState(""),[s,o]=R.useState(()=>new Date(Date.now()-36e5).toISOString().replace(/\.\d+Z$/,"Z")),[u,f]=R.useState(()=>new Date().toISOString().replace(/\.\d+Z$/,"Z")),[h,p]=R.useState("json"),[y,x]=R.useState("__name__,__value__,__timestamp__:unix_s"),[b,j]=R.useState(""),[S,N]=R.useState(!1),[O,C]=R.useState("prometheus"),[_,P]=R.useState(""),[D,T]=R.useState(""),[L,I]=R.useState(!1),[q,U]=R.useState(null),[z,H]=R.useState(null),X=async()=>{if(!t||!i.trim()){H('Match selector is required. Example: {__name__="up"} or {job="node"}');return}N(!0),H(null);try{const oe=(await M3(t.url,{match:i,start:s||void 0,end:u||void 0,format:h,csvFormat:h==="csv"?y:void 0},e)).split(`
`).slice(0,100);j(oe.join(`
`))}catch(J){H(J.message)}finally{N(!1)}},W=async()=>{if(!t||!i.trim()){H('Match selector is required. Example: {__name__="up"} or {job="node"}');return}N(!0),H(null);try{const J=await M3(t.url,{match:i,start:s||void 0,end:u||void 0,format:h,csvFormat:h==="csv"?y:void 0},e),oe=h==="csv"?"csv":h==="native"?"bin":"jsonl",ge=new Blob([J],{type:"application/octet-stream"}),M=URL.createObjectURL(ge),$=document.createElement("a");$.href=M,$.download=`export.${oe}`,$.click(),URL.revokeObjectURL(M)}catch(J){H(J.message)}finally{N(!1)}},V=async()=>{if(!(!t||!_.trim())){I(!0),H(null),U(null);try{await oye(t.url,{format:O,body:_,csvFormat:O==="csv"?D:void 0},e),U("Data imported successfully"),P("")}catch(J){H(J.message)}finally{I(!1)}}},Y=J=>{const oe=J.target.files?.[0];if(!oe)return;const ge=new FileReader;ge.onload=()=>P(ge.result),ge.readAsText(oe)};return!t||t.type!=="victoriametrics"?m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})}):m.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Export / Import"}),m.jsxs("div",{className:"flex gap-1",children:[m.jsxs("button",{onClick:()=>r("export"),className:`flex items-center gap-1.5 px-4 py-2 rounded-t text-sm font-medium transition-colors ${n==="export"?"bg-gray-800 text-white border border-gray-700 border-b-gray-800":"text-gray-400 hover:text-white"}`,children:[m.jsx(gc,{size:14})," Export"]}),m.jsxs("button",{onClick:()=>r("import"),className:`flex items-center gap-1.5 px-4 py-2 rounded-t text-sm font-medium transition-colors ${n==="import"?"bg-gray-800 text-white border border-gray-700 border-b-gray-800":"text-gray-400 hover:text-white"}`,children:[m.jsx(fp,{size:14})," Import"]})]}),z&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[z,(z.includes("matching timeseries exceeds")||z.includes("search.max"))&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"Too many matching series. Narrow the match selector and/or reduce the time range."})]}),n==="export"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Match Selector"}),m.jsx("input",{type:"text",value:i,onChange:J=>a(J.target.value),placeholder:'{__name__=~"up|node_cpu_seconds_total"}',className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-sm font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Start (optional, Unix ts or RFC3339)"}),m.jsx("input",{type:"text",value:s,onChange:J=>o(J.target.value),placeholder:"e.g. 2026-02-18T00:00:00Z",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"End (optional)"}),m.jsx("input",{type:"text",value:u,onChange:J=>f(J.target.value),placeholder:"e.g. 2026-02-19T00:00:00Z",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs placeholder-gray-600 focus:outline-none focus:border-blue-500"})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Format"}),m.jsx("div",{className:"flex gap-1",children:["json","csv","native"].map(J=>m.jsx("button",{onClick:()=>p(J),className:`px-3 py-1.5 rounded text-xs font-medium uppercase ${h===J?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:J},J))})]}),h==="csv"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"CSV Format String"}),m.jsx("input",{type:"text",value:y,onChange:J=>x(J.target.value),className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:X,disabled:S||!i.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Z3,{size:12}),S?"Loading...":"Preview (first 100 rows)"]}),m.jsxs("button",{onClick:W,disabled:S||!i.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(gc,{size:12}),"Download Export"]})]})]}),b&&m.jsxs("div",{className:"rounded-lg border border-gray-800 overflow-hidden",children:[m.jsx("div",{className:"px-4 py-2 bg-gray-900 border-b border-gray-800 text-xs text-gray-400",children:"Preview"}),m.jsx("pre",{className:"p-4 text-xs text-gray-300 font-mono overflow-auto max-h-80 whitespace-pre-wrap",children:b})]})]}),n==="import"&&m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Format"}),m.jsx("div",{className:"flex gap-1",children:["prometheus","json","csv","native"].map(J=>m.jsx("button",{onClick:()=>C(J),className:`px-3 py-1.5 rounded text-xs font-medium capitalize ${O===J?"bg-blue-600 text-white":"bg-gray-800 text-gray-400 hover:text-white"}`,children:J==="prometheus"?"Prometheus Text":J.toUpperCase()},J))})]}),O==="csv"&&m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"CSV Format String"}),m.jsx("input",{type:"text",value:D,onChange:J=>T(J.target.value),placeholder:"e.g. 2:metric:cpu,3:label:host,4:time:unix_s",className:"w-full px-2 py-1.5 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Choose a file or paste data below"}),m.jsx("input",{type:"file",onChange:Y,className:"block text-xs text-gray-400 mb-2"}),m.jsx("textarea",{value:_,onChange:J=>P(J.target.value),rows:8,placeholder:O==="prometheus"?'metric_name{label="value"} 123 1700000000000':"Paste data here...",className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-xs font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500 resize-none"})]}),m.jsxs("button",{onClick:V,disabled:L||!_.trim(),className:"flex items-center gap-1.5 px-4 py-2 rounded bg-blue-600 hover:bg-blue-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(fp,{size:12}),L?"Importing...":"Import Data"]})]}),q&&m.jsx("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:q})]})]})}function hye(){const{connection:t,auth:e}=Ar(),[n,r]=R.useState(null),[i,a]=R.useState(null),[s,o]=R.useState(null),[u,f]=R.useState(""),[h,p]=R.useState([]),[y,x]=R.useState(!1),[b,j]=R.useState(!1),[S,N]=R.useState(!1),[O,C]=R.useState(""),[_,P]=R.useState(!1),[D,T]=R.useState(!1),[L,I]=R.useState(!1),q=R.useCallback(async()=>{if(!(!t||t.type!=="victoriametrics"))try{const Y=await m7(t.url,e);r(Y)}catch{}},[t,e]);R.useEffect(()=>{q()},[q]);const U=async()=>{if(!(!t||!u.trim())){x(!0),a(null);try{const Y=await Rt.getSeries(t.url,[u.trim()],e);if(Y.status==="success"){const J=Y.data.map(oe=>{const ge=oe.__name__||"",M=Object.entries(oe).filter(([$])=>$!=="__name__").map(([$,te])=>`${$}="${te}"`).join(", ");return M?`${ge}{${M}}`:ge});p(J.slice(0,100))}}catch(Y){a(Y.message)}finally{x(!1)}}},z=async()=>{if(!(!t||!u.trim())){j(!1),N(!0),a(null),o(null);try{await lye(t.url,u.trim(),e),o(`Series matching "${u}" have been deleted. Run force merge on affected partitions to reclaim disk space.`),p([]),f(""),await q()}catch(Y){a(Y.message)}finally{N(!1)}}},H=async()=>{if(!(!t||!O.trim())){T(!1),P(!0),a(null),o(null);try{await aye(t.url,O.trim(),e),o(`Force merge triggered for partition ${O}. This runs in the background.`)}catch(Y){a(Y.message)}finally{P(!1)}}},X=async()=>{if(t){I(!0),a(null),o(null);try{await sye(t.url,e),o("Rollup result cache has been reset.")}catch(Y){a(Y.message)}finally{I(!1)}}};if(!t||t.type!=="victoriametrics")return m.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:m.jsx("p",{children:"Select a VictoriaMetrics connection."})});const W=[],V=new Date;for(let Y=0;Y<12;Y++){const J=new Date(V.getFullYear(),V.getMonth()-Y,1);W.push(`${J.getFullYear()}_${String(J.getMonth()+1).padStart(2,"0")}`)}return m.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[m.jsx("h1",{className:"text-lg font-semibold text-white",children:"Admin Operations"}),i&&m.jsxs("div",{className:"p-3 rounded bg-red-900/30 border border-red-800 text-red-300 text-sm",children:[i,i.includes("unsupported path")&&m.jsx("p",{className:"mt-1 text-xs text-red-400",children:"This operation may not be available on VM cluster vmselect nodes. In cluster mode, admin operations must target vmstorage nodes directly."})]}),s&&m.jsx("div",{className:"p-3 rounded bg-green-900/20 border border-green-800/50 text-green-300 text-sm",children:s}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-4",children:[m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(ir,{size:14,className:"text-blue-400"}),"Series Management"]}),n!==null&&m.jsxs("p",{className:"text-xs text-gray-400",children:["Total Series: ",m.jsx("span",{className:"text-white font-medium",children:n.toLocaleString()})]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Delete Series Matching"}),m.jsx("input",{type:"text",value:u,onChange:Y=>f(Y.target.value),placeholder:'{__name__="old_metric_name"}',className:"w-full px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-200 text-sm font-mono placeholder-gray-600 focus:outline-none focus:border-blue-500"})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:U,disabled:y||!u.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-white text-xs font-medium transition-colors disabled:opacity-40",children:y?"Loading...":"Preview (dry run)"}),m.jsxs("button",{onClick:()=>j(!0),disabled:S||!u.trim(),className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(hi,{size:12}),S?"Deleting...":"Delete Series"]})]}),h.length>0&&m.jsxs("div",{className:"rounded border border-gray-800 bg-gray-900/50 p-3 max-h-48 overflow-auto",children:[m.jsxs("p",{className:"text-xs text-gray-400 mb-2",children:["Found ",h.length," matching series",h.length>=100?" (showing first 100)":"",":"]}),h.map((Y,J)=>m.jsx("p",{className:"text-xs font-mono text-gray-300 truncate",children:Y},J))]})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-4",children:[m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(Il,{size:14,className:"text-yellow-400"}),"Force Merge"]}),m.jsxs("div",{className:"p-3 rounded bg-yellow-900/20 border border-yellow-800/50 text-yellow-300 text-xs",children:[m.jsx(ac,{size:12,className:"inline mr-1"}),"Force merge consumes additional CPU, disk IO, and storage space. Only use to reclaim space after deleting series from old partitions."]}),m.jsxs("div",{children:[m.jsx("label",{className:"text-xs text-gray-500 block mb-1",children:"Partition (YYYY_MM)"}),m.jsxs("select",{value:O,onChange:Y=>C(Y.target.value),className:"px-3 py-2 rounded bg-gray-800 border border-gray-700 text-gray-300 text-sm",children:[m.jsx("option",{value:"",children:"Select partition..."}),W.map(Y=>m.jsx("option",{value:Y,children:Y},Y))]})]}),m.jsxs("button",{onClick:()=>T(!0),disabled:_||!O,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Il,{size:12}),_?"Merging...":"Trigger Force Merge"]})]}),m.jsxs("div",{className:"rounded-lg border border-gray-800 p-4 space-y-3",children:[m.jsxs("h2",{className:"text-sm font-medium text-white flex items-center gap-2",children:[m.jsx(Nt,{size:14,className:"text-green-400"}),"Cache Management"]}),m.jsx("p",{className:"text-xs text-gray-500",children:"Reset the rollup result cache. Recommended after backfilling data so new data is reflected in query results."}),m.jsxs("button",{onClick:X,disabled:L,className:"flex items-center gap-1.5 px-3 py-1.5 rounded bg-green-600 hover:bg-green-500 text-white text-xs font-medium transition-colors disabled:opacity-40",children:[m.jsx(Nt,{size:12,className:L?"animate-spin":""}),L?"Resetting...":"Reset Rollup Result Cache"]})]}),b&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(ac,{size:20,className:"text-red-400"}),m.jsx("h3",{className:"text-sm font-semibold text-white",children:"Delete Series?"})]}),m.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"This will delete all series matching:"}),m.jsx("code",{className:"block text-xs text-red-300 font-mono bg-gray-800 p-2 rounded mb-4",children:u}),m.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"This action cannot be undone. You may need to run force merge afterward to reclaim disk space."}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>j(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),m.jsx("button",{onClick:z,className:"px-3 py-1.5 rounded bg-red-600 hover:bg-red-500 text-white text-xs font-medium",children:"Delete"})]})]})}),D&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60",children:m.jsxs("div",{className:"bg-gray-900 rounded-lg border border-gray-700 p-6 max-w-md w-full mx-4",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[m.jsx(ac,{size:20,className:"text-yellow-400"}),m.jsx("h3",{className:"text-sm font-semibold text-white",children:"Trigger Force Merge?"})]}),m.jsxs("p",{className:"text-xs text-gray-400 mb-4",children:["This will trigger a force merge on partition ",m.jsx("strong",{className:"text-white",children:O}),". This consumes additional CPU and disk IO resources."]}),m.jsxs("div",{className:"flex gap-2 justify-end",children:[m.jsx("button",{onClick:()=>T(!1),className:"px-3 py-1.5 rounded bg-gray-700 hover:bg-gray-600 text-gray-300 text-xs",children:"Cancel"}),m.jsx("button",{onClick:H,className:"px-3 py-1.5 rounded bg-yellow-600 hover:bg-yellow-500 text-white text-xs font-medium",children:"Merge"})]})]})})]})}function mye(){return DH?m.jsx(Aoe,{}):m.jsx(_H,{children:m.jsxs(V3,{children:[m.jsx(Te,{path:"/",element:m.jsx(Yo,{to:"/influxdb/query",replace:!0})}),m.jsx(Te,{path:"/explore",element:m.jsx(Yo,{to:"/influxdb/query",replace:!0})}),m.jsx(Te,{path:"/admin",element:m.jsx(Yo,{to:"/influxdb/admin",replace:!0})}),m.jsx(Te,{path:"/write",element:m.jsx(Yo,{to:"/influxdb/write",replace:!0})}),m.jsx(Te,{path:"/health",element:m.jsx(Yo,{to:"/influxdb/health",replace:!0})}),m.jsx(Te,{path:"/influxdb/query",element:m.jsx(x0e,{})}),m.jsx(Te,{path:"/influxdb/admin",element:m.jsx(R0e,{})}),m.jsx(Te,{path:"/influxdb/write",element:m.jsx(I0e,{})}),m.jsx(Te,{path:"/influxdb/health",element:m.jsx(q0e,{})}),m.jsx(Te,{path:"/prometheus/query",element:m.jsx(j3,{})}),m.jsx(Te,{path:"/prometheus/targets",element:m.jsx(N3,{})}),m.jsx(Te,{path:"/prometheus/alerts",element:m.jsx(C3,{})}),m.jsx(Te,{path:"/prometheus/alertmanager",element:m.jsx(k3,{})}),m.jsx(Te,{path:"/prometheus/tsdb",element:m.jsx(Q0e,{})}),m.jsx(Te,{path:"/prometheus/metrics",element:m.jsx(A3,{})}),m.jsx(Te,{path:"/prometheus/config",element:m.jsx(E3,{})}),m.jsx(Te,{path:"/prometheus/service-discovery",element:m.jsx(T3,{})}),m.jsx(Te,{path:"/victoriametrics/query",element:m.jsx(j3,{})}),m.jsx(Te,{path:"/victoriametrics/targets",element:m.jsx(N3,{})}),m.jsx(Te,{path:"/victoriametrics/alerts",element:m.jsx(C3,{})}),m.jsx(Te,{path:"/victoriametrics/alertmanager",element:m.jsx(k3,{})}),m.jsx(Te,{path:"/victoriametrics/metrics",element:m.jsx(A3,{})}),m.jsx(Te,{path:"/victoriametrics/config",element:m.jsx(E3,{})}),m.jsx(Te,{path:"/victoriametrics/service-discovery",element:m.jsx(T3,{})}),m.jsx(Te,{path:"/victoriametrics/tsdb",element:m.jsx(uye,{})}),m.jsx(Te,{path:"/victoriametrics/active-queries",element:m.jsx(cye,{})}),m.jsx(Te,{path:"/victoriametrics/snapshots",element:m.jsx(fye,{})}),m.jsx(Te,{path:"/victoriametrics/export-import",element:m.jsx(dye,{})}),m.jsx(Te,{path:"/victoriametrics/admin",element:m.jsx(hye,{})})]})})}const pye=window.location.pathname.startsWith(dp+"/playground"),gye=pye?dp+"/playground":dp+"/ui";KU.createRoot(document.getElementById("root")).render(m.jsx(rj.StrictMode,{children:m.jsx(W$,{basename:gye,children:m.jsx(mye,{})})}));
